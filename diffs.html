<html>
<head>
<meta charset="utf-8">
<style>
html, body {font-size: 10px}
h2 {display: inline-block;}

        table.diff {font-family:Courier; border:medium; font-size:12px;}
        .diff_header {background-color:#e0e0e0}
        td.diff_header {text-align:right}
        .diff_next {background-color:#c0c0c0}
        .diff_add {background-color:#aaffaa}
        .diff_chg {background-color:#ffff77}
        .diff_sub {background-color:#ffaaaa}
</style>
</head>
<body>
<table class="diff" summary="Legends">
        <tr> <th colspan="2"> Legends </th> </tr>
        <tr> <td> <table border="" summary="Colors">
                      <tr><th> Colors </th> </tr>
                      <tr><td class="diff_add">&nbsp;Added&nbsp;</td></tr>
                      <tr><td class="diff_chg">Changed</td> </tr>
                      <tr><td class="diff_sub">Deleted</td> </tr>
                  </table></td>
             <td> <table border="" summary="Links">
                      <tr><th colspan="2"> Links </th> </tr>
                      <tr><td>(f)irst change</td> </tr>
                      <tr><td>(n)ext change</td> </tr>
                      <tr><td>(t)op</td> </tr>
                  </table></td> </tr>
    </table><h1>american_option.jl</h1>
<h2><span style="background-color:#ffeab8;"> is unchanged</span></h2>
<h2><span style="background-color:#5b7c99;"> - Python file exists</span></h2>
<h1>ar1_spec_rad.jl</h1>
<h2><span style="background-color:#ffeab8;"> is unchanged</span></h2>
<h2><span style="background-color:#5b7c99;"> - Python file exists</span></h2>
<h1>bellman_envelope.jl</h1>
<h2><span style="background-color:#ffeab8;"> is unchanged</span></h2>
<h2><span style="background-color:#fde74c;"> - Python file bellman_envelope.py does not exist</span></h2>
<h1>binom_stoch_dom.jl</h1>
<h2><span style="background-color:#ffeab8;"> is unchanged</span></h2>
<h2><span style="background-color:#fde74c;"> - Python file binom_stoch_dom.py does not exist</span></h2>
<h1>compute_spec_rad.jl</h1>
<h2><span style="background-color:#ff700a;"> is changed</span></h2>
<h2><span style="background-color:#5b7c99;"> - Python file exists</span></h2>

    <table class="diff" id="difflib_chg_to33__top"
           cellspacing="0" cellpadding="0" rules="groups" >
        <colgroup></colgroup> <colgroup></colgroup> <colgroup></colgroup>
        <colgroup></colgroup> <colgroup></colgroup> <colgroup></colgroup>
        <thead><tr><th class="diff_next"><br /></th><th colspan="2" class="diff_header">old public code</th><th class="diff_next"><br /></th><th colspan="2" class="diff_header">new private (jstac) code</th></tr></thead>
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to33__0"><a href="#difflib_chg_to33__0">f</a></td><td class="diff_header" id="from33_1">1</td><td nowrap="nowrap">using&nbsp;LinearAlgebra&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td class="diff_next"><a href="#difflib_chg_to33__0">f</a></td><td class="diff_header" id="to33_1">1</td><td nowrap="nowrap">using&nbsp;LinearAlgebra&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to33__1">n</a></td><td class="diff_header" id="from33_2">2</td><td nowrap="nowrap"><span class="diff_chg">r</span>(A)&nbsp;=&nbsp;maximum(abs(λ)&nbsp;for&nbsp;λ&nbsp;in&nbsp;eigvals(A))&nbsp;&nbsp;#&nbsp;Spectral&nbsp;radius</td><td class="diff_next"><a href="#difflib_chg_to33__1">n</a></td><td class="diff_header" id="to33_2">2</td><td nowrap="nowrap"><span class="diff_chg">ρ</span>(A)&nbsp;=&nbsp;maximum(abs(λ)&nbsp;for&nbsp;λ&nbsp;in&nbsp;eigvals(A))&nbsp;&nbsp;#&nbsp;Spectral&nbsp;radius</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to33__1"></td><td class="diff_header" id="from33_3">3</td><td nowrap="nowrap">A&nbsp;=&nbsp;[0.4&nbsp;0.1;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Test&nbsp;with&nbsp;arbitrary&nbsp;A</td><td class="diff_next"></td><td class="diff_header" id="to33_3">3</td><td nowrap="nowrap">A&nbsp;=&nbsp;[0.4&nbsp;0.1;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Test&nbsp;with&nbsp;arbitrary&nbsp;A</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from33_4">4</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0.7&nbsp;0.2]</td><td class="diff_next"></td><td class="diff_header" id="to33_4">4</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0.7&nbsp;0.2]</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to33__top">t</a></td><td class="diff_header" id="from33_5">5</td><td nowrap="nowrap">print(<span class="diff_chg">r</span>(A))</td><td class="diff_next"><a href="#difflib_chg_to33__top">t</a></td><td class="diff_header" id="to33_5">5</td><td nowrap="nowrap">print(<span class="diff_chg">ρ</span>(A))</td></tr>
        </tbody>
    </table><h1>concave_map_fp.jl</h1>
<h2><span style="background-color:#ffeab8;"> is unchanged</span></h2>
<h2><span style="background-color:#fde74c;"> - Python file concave_map_fp.py does not exist</span></h2>
<h1>cont_time_js.jl</h1>
<h2><span style="background-color:#a6deae;">new</span></h2>
<h2><span style="background-color:#fde74c;"> - Python file cont_time_js.py does not exist</span></h2>
<h1>data</h1>
<h2><span style="background-color:#a6deae;">new</span></h2>
<h2><span style="background-color:#fde74c;"> - Python file data does not exist</span></h2>
<h1>expo_curve.py</h1>
<h2><span style="background-color:#a6deae;">new</span></h2>
<h2><span style="background-color:#fde74c;"> - Python file expo_curve.py does not exist</span></h2>
<h1>ez_dp_code.jl</h1>
<h2><span style="background-color:#a6deae;">new</span></h2>
<h2><span style="background-color:#fde74c;"> - Python file ez_dp_code.py does not exist</span></h2>
<h1>ez_f_shapes.jl</h1>
<h2><span style="background-color:#ffeab8;"> is unchanged</span></h2>
<h2><span style="background-color:#fde74c;"> - Python file ez_f_shapes.py does not exist</span></h2>
<h1>ez_model.jl</h1>
<h2><span style="background-color:#a6deae;">new</span></h2>
<h2><span style="background-color:#fde74c;"> - Python file ez_model.py does not exist</span></h2>
<h1>ez_noncontraction.jl</h1>
<h2><span style="background-color:#ff700a;"> is changed</span></h2>
<h2><span style="background-color:#fde74c;"> - Python file ez_noncontraction.py does not exist</span></h2>

    <table class="diff" id="difflib_chg_to34__top"
           cellspacing="0" cellpadding="0" rules="groups" >
        <colgroup></colgroup> <colgroup></colgroup> <colgroup></colgroup>
        <colgroup></colgroup> <colgroup></colgroup> <colgroup></colgroup>
        <thead><tr><th class="diff_next"><br /></th><th colspan="2" class="diff_header">old public code</th><th class="diff_next"><br /></th><th colspan="2" class="diff_header">new private (jstac) code</th></tr></thead>
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to34__0"></td><td class="diff_header" id="from34_18">18</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;f(w)&nbsp;=&nbsp;F(w;&nbsp;θ=-10)</td><td class="diff_next"></td><td class="diff_header" id="to34_18">18</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;f(w)&nbsp;=&nbsp;F(w;&nbsp;θ=-10)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from34_19">19</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;ax.plot(w_grid,&nbsp;w_grid,&nbsp;"k--",&nbsp;alpha=0.6,&nbsp;label=L"45")</td><td class="diff_next"></td><td class="diff_header" id="to34_19">19</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;ax.plot(w_grid,&nbsp;w_grid,&nbsp;"k--",&nbsp;alpha=0.6,&nbsp;label=L"45")</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to34__top">t</a></td><td class="diff_header" id="from34_20">20</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;ax.plot(w_grid,&nbsp;f.(w_grid),&nbsp;label=L"<span class="diff_chg">U</span>&nbsp;=&nbsp;F")</td><td class="diff_next"><a href="#difflib_chg_to34__top">t</a></td><td class="diff_header" id="to34_20">20</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;ax.plot(w_grid,&nbsp;f.(w_grid),&nbsp;label=L"<span class="diff_chg">\hat&nbsp;K</span>&nbsp;=&nbsp;F")</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from34_21">21</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;ax.set_xticks((0,&nbsp;1,&nbsp;2))</td><td class="diff_next"></td><td class="diff_header" id="to34_21">21</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;ax.set_xticks((0,&nbsp;1,&nbsp;2))</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from34_22">22</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;ax.set_yticks((0,&nbsp;1,&nbsp;2))</td><td class="diff_next"></td><td class="diff_header" id="to34_22">22</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;ax.set_yticks((0,&nbsp;1,&nbsp;2))</td></tr>
        </tbody>
    </table><h1>ez_plot_functions.jl</h1>
<h2><span style="background-color:#a6deae;">new</span></h2>
<h2><span style="background-color:#fde74c;"> - Python file ez_plot_functions.py does not exist</span></h2>
<h1>ez_policy_plot.jl</h1>
<h2><span style="background-color:#a6deae;">new</span></h2>
<h2><span style="background-color:#fde74c;"> - Python file ez_policy_plot.py does not exist</span></h2>
<h1>ez_sub_test.jl</h1>
<h2><span style="background-color:#a6deae;">new</span></h2>
<h2><span style="background-color:#fde74c;"> - Python file ez_sub_test.py does not exist</span></h2>
<h1>ez_timings.jl</h1>
<h2><span style="background-color:#a6deae;">new</span></h2>
<h2><span style="background-color:#fde74c;"> - Python file ez_timings.py does not exist</span></h2>
<h1>ez_utility.jl</h1>
<h2><span style="background-color:#ffeab8;"> is unchanged</span></h2>
<h2><span style="background-color:#5b7c99;"> - Python file exists</span></h2>
<h1>finite_lq.jl</h1>
<h2><span style="background-color:#ffeab8;"> is unchanged</span></h2>
<h2><span style="background-color:#5b7c99;"> - Python file exists</span></h2>
<h1>finite_opt_saving_0.jl</h1>
<h2><span style="background-color:#ff700a;"> is changed</span></h2>
<h2><span style="background-color:#5b7c99;"> - Python file exists</span></h2>

    <table class="diff" id="difflib_chg_to35__top"
           cellspacing="0" cellpadding="0" rules="groups" >
        <colgroup></colgroup> <colgroup></colgroup> <colgroup></colgroup>
        <colgroup></colgroup> <colgroup></colgroup> <colgroup></colgroup>
        <thead><tr><th class="diff_next"><br /></th><th colspan="2" class="diff_header">old public code</th><th class="diff_next"><br /></th><th colspan="2" class="diff_header">new private (jstac) code</th></tr></thead>
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to35__0"></td><td class="diff_header" id="from35_2">2</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to35_2">2</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from35_3">3</td><td nowrap="nowrap">function&nbsp;create_savings_model(;&nbsp;R=1.01,&nbsp;β=0.98,&nbsp;γ=2.5,&nbsp;&nbsp;</td><td class="diff_next"></td><td class="diff_header" id="to35_3">3</td><td nowrap="nowrap">function&nbsp;create_savings_model(;&nbsp;R=1.01,&nbsp;β=0.98,&nbsp;γ=2.5,&nbsp;&nbsp;</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to35__1">n</a></td><td class="diff_header" id="from35_4">4</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;w_min=0.01,&nbsp;w_max=<span class="diff_chg">5</span>.0,&nbsp;w_size=200,</td><td class="diff_next"><a href="#difflib_chg_to35__1">n</a></td><td class="diff_header" id="to35_4">4</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;w_min=0.01,&nbsp;w_max=<span class="diff_chg">20</span>.0,&nbsp;w_size=200,</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from35_5">5</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ρ=0.9,&nbsp;ν=0.1,&nbsp;y_size=5)</td><td class="diff_next"></td><td class="diff_header" id="to35_5">5</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ρ=0.9,&nbsp;ν=0.1,&nbsp;y_size=5)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from35_6">6</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;w_grid&nbsp;=&nbsp;LinRange(w_min,&nbsp;w_max,&nbsp;w_size)&nbsp;&nbsp;</td><td class="diff_next"></td><td class="diff_header" id="to35_6">6</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;w_grid&nbsp;=&nbsp;LinRange(w_min,&nbsp;w_max,&nbsp;w_size)&nbsp;&nbsp;</td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to35__1"></td><td class="diff_header" id="from35_10">10</td><td nowrap="nowrap">end</td><td class="diff_next"></td><td class="diff_header" id="to35_10">10</td><td nowrap="nowrap">end</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from35_11">11</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to35_11">11</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to35__top">t</a></td><td class="diff_header" id="from35_12">12</td><td nowrap="nowrap">"B(w,&nbsp;y,&nbsp;w′)&nbsp;=&nbsp;u(R*w&nbsp;+&nbsp;y&nbsp;-&nbsp;w′)&nbsp;+&nbsp;β&nbsp;Σ_y′&nbsp;v(w′,&nbsp;y′)&nbsp;Q(y,&nbsp;y′)."</td><td class="diff_next"><a href="#difflib_chg_to35__top">t</a></td><td class="diff_header" id="to35_12">12</td><td nowrap="nowrap">"B(w,&nbsp;y,&nbsp;w′<span class="diff_add">,&nbsp;v</span>)&nbsp;=&nbsp;u(R*w&nbsp;+&nbsp;y&nbsp;-&nbsp;w′)&nbsp;+&nbsp;β&nbsp;Σ_y′&nbsp;v(w′,&nbsp;y′)&nbsp;Q(y,&nbsp;y′)."</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from35_13">13</td><td nowrap="nowrap">function&nbsp;B(i,&nbsp;j,&nbsp;k,&nbsp;v,&nbsp;model)</td><td class="diff_next"></td><td class="diff_header" id="to35_13">13</td><td nowrap="nowrap">function&nbsp;B(i,&nbsp;j,&nbsp;k,&nbsp;v,&nbsp;model)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from35_14">14</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;(;&nbsp;β,&nbsp;R,&nbsp;γ,&nbsp;w_grid,&nbsp;y_grid,&nbsp;Q)&nbsp;=&nbsp;model</td><td class="diff_next"></td><td class="diff_header" id="to35_14">14</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;(;&nbsp;β,&nbsp;R,&nbsp;γ,&nbsp;w_grid,&nbsp;y_grid,&nbsp;Q)&nbsp;=&nbsp;model</td></tr>
        </tbody>
    </table><h1>finite_opt_saving_1.jl</h1>
<h2><span style="background-color:#ff700a;"> is changed</span></h2>
<h2><span style="background-color:#5b7c99;"> - Python file exists</span></h2>

    <table class="diff" id="difflib_chg_to36__top"
           cellspacing="0" cellpadding="0" rules="groups" >
        <colgroup></colgroup> <colgroup></colgroup> <colgroup></colgroup>
        <colgroup></colgroup> <colgroup></colgroup> <colgroup></colgroup>
        <thead><tr><th class="diff_next"><br /></th><th colspan="2" class="diff_header">old public code</th><th class="diff_next"><br /></th><th colspan="2" class="diff_header">new private (jstac) code</th></tr></thead>
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to36__0"></td><td class="diff_header" id="from36_11">11</td><td nowrap="nowrap">end</td><td class="diff_next"></td><td class="diff_header" id="to36_11">11</td><td nowrap="nowrap">end</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from36_12">12</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to36_12">12</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to36__1">n</a></td><td class="diff_header" id="from36_13">13</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"><a href="#difflib_chg_to36__1">n</a></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from36_14">14</td><td nowrap="nowrap">"Get&nbsp;the&nbsp;value&nbsp;v_σ&nbsp;of&nbsp;policy&nbsp;σ."</td><td class="diff_next"></td><td class="diff_header" id="to36_13">13</td><td nowrap="nowrap">"Get&nbsp;the&nbsp;value&nbsp;v_σ&nbsp;of&nbsp;policy&nbsp;σ."</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from36_15">15</td><td nowrap="nowrap">function&nbsp;get_value(σ,&nbsp;model)</td><td class="diff_next"></td><td class="diff_header" id="to36_14">14</td><td nowrap="nowrap">function&nbsp;get_value(σ,&nbsp;model)</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to36__1"></td><td class="diff_header" id="from36_16">16</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Unpack&nbsp;and&nbsp;set&nbsp;up</td><td class="diff_next"></td><td class="diff_header" id="to36_15">15</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Unpack&nbsp;and&nbsp;set&nbsp;up</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from36_17">17</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;(;&nbsp;β,&nbsp;R,&nbsp;γ,&nbsp;w_grid,&nbsp;y_grid,&nbsp;Q)&nbsp;=&nbsp;model</td><td class="diff_next"></td><td class="diff_header" id="to36_16">16</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;(;&nbsp;β,&nbsp;R,&nbsp;γ,&nbsp;w_grid,&nbsp;y_grid,&nbsp;Q)&nbsp;=&nbsp;model</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to36__2">n</a></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"><a href="#difflib_chg_to36__2">n</a></td><td class="diff_header" id="to36_17">17</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;w_idx,&nbsp;y_idx&nbsp;=&nbsp;(eachindex(g)&nbsp;for&nbsp;g&nbsp;in&nbsp;(w_grid,&nbsp;y_grid))</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from36_18">18</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;wn,&nbsp;yn&nbsp;=&nbsp;length(w_<span class="diff_sub">gr</span>id),&nbsp;length(y_<span class="diff_sub">gr</span>id)</td><td class="diff_next"></td><td class="diff_header" id="to36_18">18</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;wn,&nbsp;yn&nbsp;=&nbsp;length(w_id<span class="diff_add">x</span>),&nbsp;length(y_id<span class="diff_add">x</span>)</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to36__2"></td><td class="diff_header" id="from36_19">19</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;n&nbsp;=&nbsp;wn&nbsp;*&nbsp;yn</td><td class="diff_next"></td><td class="diff_header" id="to36_19">19</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;n&nbsp;=&nbsp;wn&nbsp;*&nbsp;yn</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from36_20">20</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;u(c)&nbsp;=&nbsp;c^(1-γ)&nbsp;/&nbsp;(1-γ)</td><td class="diff_next"></td><td class="diff_header" id="to36_20">20</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;u(c)&nbsp;=&nbsp;c^(1-γ)&nbsp;/&nbsp;(1-γ)</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to36__3">n</a></td><td class="diff_header" id="from36_21">21</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Function&nbsp;to&nbsp;extract&nbsp;(i,&nbsp;j)&nbsp;from&nbsp;m&nbsp;=&nbsp;i&nbsp;+&nbsp;(j-1)*wn"</span></td><td class="diff_next"><a href="#difflib_chg_to36__3">n</a></td><td class="diff_header" id="to36_21">21</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Build&nbsp;P_σ&nbsp;and&nbsp;r_σ&nbsp;as&nbsp;multi-index&nbsp;arrays</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from36_22">22</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;single_to_multi(m)&nbsp;=&nbsp;(m-1)%wn&nbsp;+&nbsp;1,&nbsp;div(m-1,&nbsp;wn)&nbsp;+&nbsp;1</span></td><td class="diff_next"></td><td class="diff_header" id="to36_22">22</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;P_σ&nbsp;=&nbsp;zeros(wn,&nbsp;yn,&nbsp;wn,&nbsp;yn)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from36_23">23</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Allocate&nbsp;and&nbsp;create&nbsp;single&nbsp;index&nbsp;versions&nbsp;of&nbsp;P_σ&nbsp;and&nbsp;r_σ</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from36_24">24</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;<span class="diff_chg">P</span>_σ&nbsp;=&nbsp;zeros(n,&nbsp;n)</td><td class="diff_next"></td><td class="diff_header" id="to36_23">23</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;<span class="diff_chg">r</span>_σ&nbsp;=&nbsp;zeros(<span class="diff_add">w</span>n,&nbsp;<span class="diff_add">y</span>n)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from36_25">25</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;r_σ&nbsp;=&nbsp;zeros(n)</span></td><td class="diff_next"></td><td class="diff_header" id="to36_24">24</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(i,&nbsp;j)&nbsp;in&nbsp;product(w_idx,&nbsp;y_idx)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from36_26">26</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;m&nbsp;in&nbsp;1:n</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from36_27">27</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;i,&nbsp;j&nbsp;=&nbsp;single_to_multi(m)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from36_28">28</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;w,&nbsp;y,&nbsp;w′&nbsp;=&nbsp;w_grid[i],&nbsp;y_grid[j],&nbsp;w_grid[σ[i,&nbsp;j]]</td><td class="diff_next"></td><td class="diff_header" id="to36_25">25</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;w,&nbsp;y,&nbsp;w′&nbsp;=&nbsp;w_grid[i],&nbsp;y_grid[j],&nbsp;w_grid[σ[i,&nbsp;j]]</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from36_29">29</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r_σ[<span class="diff_chg">m</span>]&nbsp;=&nbsp;u(w&nbsp;+&nbsp;y&nbsp;-&nbsp;w′/R)</td><td class="diff_next"></td><td class="diff_header" id="to36_26">26</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r_σ[<span class="diff_chg">i,&nbsp;j</span>]&nbsp;=&nbsp;u(w&nbsp;+&nbsp;y&nbsp;-&nbsp;w′/R)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from36_30">30</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;m′&nbsp;in&nbsp;1:n</span></td><td class="diff_next"></td><td class="diff_header" id="to36_27">27</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(i′,&nbsp;j′)&nbsp;in&nbsp;product(w_idx,&nbsp;y_idx)</span></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to36__3"></td><td class="diff_header" id="from36_31">31</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;i′,&nbsp;j′&nbsp;=&nbsp;single_to_multi(m′)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from36_32">32</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;i′&nbsp;==&nbsp;σ[i,&nbsp;j]</td><td class="diff_next"></td><td class="diff_header" id="to36_28">28</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;i′&nbsp;==&nbsp;σ[i,&nbsp;j]</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to36__4">n</a></td><td class="diff_header" id="from36_33">33</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;P_σ[<span class="diff_chg">m</span>,&nbsp;<span class="diff_chg">m</span>′]&nbsp;=&nbsp;Q[j,&nbsp;j′]</td><td class="diff_next"><a href="#difflib_chg_to36__4">n</a></td><td class="diff_header" id="to36_29">29</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;P_σ[<span class="diff_chg">i</span>,&nbsp;<span class="diff_chg">j,&nbsp;i′,&nbsp;j</span>′]&nbsp;=&nbsp;Q[j,&nbsp;j′]</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from36_34">34</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</td><td class="diff_next"></td><td class="diff_header" id="to36_30">30</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to36__4"></td><td class="diff_header" id="from36_35">35</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</td><td class="diff_next"></td><td class="diff_header" id="to36_31">31</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from36_36">36</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;end</td><td class="diff_next"></td><td class="diff_header" id="to36_32">32</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;end</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to36__top">t</a></td><td class="diff_header" id="from36_37">37</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Solve&nbsp;for&nbsp;the&nbsp;value&nbsp;of&nbsp;σ&nbsp;</span></td><td class="diff_next"><a href="#difflib_chg_to36__top">t</a></td><td class="diff_header" id="to36_33">33</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Reshape&nbsp;for&nbsp;matrix&nbsp;algebra</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to36_34">34</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;P_σ&nbsp;=&nbsp;reshape(P_σ,&nbsp;n,&nbsp;n)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to36_35">35</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;r_σ&nbsp;=&nbsp;reshape(r_σ,&nbsp;n)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to36_36">36</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Apply&nbsp;matrix&nbsp;operations&nbsp;---&nbsp;solve&nbsp;for&nbsp;the&nbsp;value&nbsp;of&nbsp;σ&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from36_38">38</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;v_σ&nbsp;=&nbsp;(I&nbsp;-&nbsp;β&nbsp;*&nbsp;P_σ)&nbsp;\&nbsp;r_σ</td><td class="diff_next"></td><td class="diff_header" id="to36_37">37</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;v_σ&nbsp;=&nbsp;(I&nbsp;-&nbsp;β&nbsp;*&nbsp;P_σ)&nbsp;\&nbsp;r_σ</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from36_39">39</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Return&nbsp;as&nbsp;multi-index&nbsp;array</td><td class="diff_next"></td><td class="diff_header" id="to36_38">38</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Return&nbsp;as&nbsp;multi-index&nbsp;array</td></tr>
        </tbody>
    </table><h1>finite_opt_saving_2.jl</h1>
<h2><span style="background-color:#ff700a;"> is changed</span></h2>
<h2><span style="background-color:#5b7c99;"> - Python file exists</span></h2>

    <table class="diff" id="difflib_chg_to37__top"
           cellspacing="0" cellpadding="0" rules="groups" >
        <colgroup></colgroup> <colgroup></colgroup> <colgroup></colgroup>
        <colgroup></colgroup> <colgroup></colgroup> <colgroup></colgroup>
        <thead><tr><th class="diff_next"><br /></th><th colspan="2" class="diff_header">old public code</th><th class="diff_next"><br /></th><th colspan="2" class="diff_header">new private (jstac) code</th></tr></thead>
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to37__0"></td><td class="diff_header" id="from37_40">40</td><td nowrap="nowrap">end</td><td class="diff_next"></td><td class="diff_header" id="to37_40">40</td><td nowrap="nowrap">end</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from37_41">41</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to37_41">41</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to37__1"><a href="#difflib_chg_to37__1">n</a></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"><a href="#difflib_chg_to37__1">n</a></td><td class="diff_header" id="to37_42">42</td><td nowrap="nowrap"><span class="diff_add">#&nbsp;==&nbsp;Simulations&nbsp;and&nbsp;inequality&nbsp;measures&nbsp;==&nbsp;#</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from37_42">42</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to37_43">43</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to37__2">n</a></td><td class="diff_header" id="from37_43">43</td><td nowrap="nowrap"><span class="diff_sub">#&nbsp;Plots</span></td><td class="diff_next"><a href="#difflib_chg_to37__2">n</a></td><td class="diff_header" id="to37_44">44</td><td nowrap="nowrap"><span class="diff_add">function&nbsp;simulate_wealth(m)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to37_45">45</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to37_46">46</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;model&nbsp;=&nbsp;create_savings_model()</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to37_47">47</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;σ_star&nbsp;=&nbsp;optimistic_policy_iteration(model)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to37_48">48</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;(;&nbsp;β,&nbsp;R,&nbsp;γ,&nbsp;w_grid,&nbsp;y_grid,&nbsp;Q)&nbsp;=&nbsp;model</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to37_49">49</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to37_50">50</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Simulate&nbsp;labor&nbsp;income&nbsp;(indices&nbsp;rather&nbsp;than&nbsp;grid&nbsp;values)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to37_51">51</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;mc&nbsp;=&nbsp;MarkovChain(Q)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to37_52">52</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;y_idx_series&nbsp;=&nbsp;simulate(mc,&nbsp;m)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to37_53">53</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to37_54">54</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Compute&nbsp;corresponding&nbsp;wealth&nbsp;time&nbsp;series</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to37_55">55</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;w_idx_series&nbsp;=&nbsp;similar(y_idx_series)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to37_56">56</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;w_idx_series[1]&nbsp;=&nbsp;1&nbsp;&nbsp;#&nbsp;initial&nbsp;condition</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to37_57">57</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;t&nbsp;in&nbsp;1:(m-1)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to37_58">58</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;i,&nbsp;j&nbsp;=&nbsp;w_idx_series[t],&nbsp;y_idx_series[t]</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to37_59">59</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;w_idx_series[t+1]&nbsp;=&nbsp;σ_star[i,&nbsp;j]</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to37_60">60</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;end</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to37_61">61</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;w_series&nbsp;=&nbsp;w_grid[w_idx_series]</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to37_62">62</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to37_63">63</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;w_series</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to37_64">64</td><td nowrap="nowrap"><span class="diff_add">end</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to37_65">65</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to37_66">66</td><td nowrap="nowrap"><span class="diff_add">function&nbsp;lorenz(v)&nbsp;&nbsp;#&nbsp;assumed&nbsp;sorted&nbsp;vector</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to37_67">67</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;S&nbsp;=&nbsp;cumsum(v)&nbsp;&nbsp;#&nbsp;cumulative&nbsp;sums:&nbsp;[v[1],&nbsp;v[1]&nbsp;+&nbsp;v[2],&nbsp;...&nbsp;]</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to37_68">68</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;F&nbsp;=&nbsp;(1:length(v))&nbsp;/&nbsp;length(v)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to37_69">69</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;L&nbsp;=&nbsp;S&nbsp;./&nbsp;S[end]</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to37_70">70</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;(;&nbsp;F,&nbsp;L)&nbsp;#&nbsp;returns&nbsp;named&nbsp;tuple</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to37_71">71</td><td nowrap="nowrap"><span class="diff_add">end</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to37_72">72</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to37_73">73</td><td nowrap="nowrap"><span class="diff_add">gini(v)&nbsp;=&nbsp;(2&nbsp;*&nbsp;sum(i&nbsp;*&nbsp;y&nbsp;for&nbsp;(i,y)&nbsp;in&nbsp;enumerate(v))/sum(v)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to37_74">74</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;(length(v)&nbsp;+&nbsp;1))/length(v)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to37_75">75</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to37_76">76</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to37_77">77</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to37_78">78</td><td nowrap="nowrap"><span class="diff_add">#&nbsp;==&nbsp;Plots&nbsp;==&nbsp;#</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from37_44">44</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to37_79">79</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from37_45">45</td><td nowrap="nowrap">using&nbsp;PyPlot</td><td class="diff_next"></td><td class="diff_header" id="to37_80">80</td><td nowrap="nowrap">using&nbsp;PyPlot</td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to37__2"></td><td class="diff_header" id="from37_99">99</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;plt.show()</td><td class="diff_next"></td><td class="diff_header" id="to37_134">134</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;plt.show()</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from37_100">100</td><td nowrap="nowrap">end</td><td class="diff_next"></td><td class="diff_header" id="to37_135">135</td><td nowrap="nowrap">end</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to37__top">t</a></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"><a href="#difflib_chg_to37__top">t</a></td><td class="diff_header" id="to37_136">136</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to37_137">137</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to37_138">138</td><td nowrap="nowrap"><span class="diff_add">function&nbsp;plot_time_series(;&nbsp;m=2_000,</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to37_139">139</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;savefig=false,&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to37_140">140</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;figname="../figures/finite_opt_saving_ts.pdf")</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to37_141">141</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to37_142">142</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;w_series&nbsp;=&nbsp;simulate_wealth(m)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to37_143">143</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;fig,&nbsp;ax&nbsp;=&nbsp;plt.subplots(figsize=(9,&nbsp;5.2))</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to37_144">144</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;ax.plot(w_series,&nbsp;label=L"w_t")</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to37_145">145</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;ax.set_xlabel("time",&nbsp;fontsize=fontsize)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to37_146">146</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;ax.legend(fontsize=fontsize)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to37_147">147</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;plt.show()</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to37_148">148</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;savefig</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to37_149">149</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fig.savefig(figname)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to37_150">150</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;end</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to37_151">151</td><td nowrap="nowrap"><span class="diff_add">end</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to37_152">152</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to37_153">153</td><td nowrap="nowrap"><span class="diff_add">function&nbsp;plot_histogram(;&nbsp;m=1_000_000,</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to37_154">154</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;savefig=false,&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to37_155">155</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;figname="../figures/finite_opt_saving_hist.pdf")</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to37_156">156</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to37_157">157</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;w_series&nbsp;=&nbsp;simulate_wealth(m)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to37_158">158</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;g&nbsp;=&nbsp;round(gini(sort(w_series)),&nbsp;digits=2)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to37_159">159</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;fig,&nbsp;ax&nbsp;=&nbsp;plt.subplots(figsize=(9,&nbsp;5.2))</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to37_160">160</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;ax.hist(w_series,&nbsp;bins=40,&nbsp;density=true)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to37_161">161</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;ax.set_xlabel("wealth",&nbsp;fontsize=fontsize)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to37_162">162</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;ax.text(15,&nbsp;0.4,&nbsp;"Gini&nbsp;=&nbsp;$g",&nbsp;fontsize=fontsize)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to37_163">163</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;plt.show()</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to37_164">164</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to37_165">165</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;savefig</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to37_166">166</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fig.savefig(figname)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to37_167">167</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;end</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to37_168">168</td><td nowrap="nowrap"><span class="diff_add">end</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to37_169">169</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to37_170">170</td><td nowrap="nowrap"><span class="diff_add">function&nbsp;plot_lorenz(;&nbsp;m=1_000_000,</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to37_171">171</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;savefig=false,&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to37_172">172</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;figname="../figures/finite_opt_saving_lorenz.pdf")</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to37_173">173</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to37_174">174</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;w_series&nbsp;=&nbsp;simulate_wealth(m)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to37_175">175</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;(;&nbsp;F,&nbsp;L)&nbsp;=&nbsp;lorenz(sort(w_series))</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to37_176">176</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to37_177">177</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;fig,&nbsp;ax&nbsp;=&nbsp;plt.subplots(figsize=(9,&nbsp;5.2))</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to37_178">178</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;ax.plot(F,&nbsp;F,&nbsp;label="Lorenz&nbsp;curve,&nbsp;equality")</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to37_179">179</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;ax.plot(F,&nbsp;L,&nbsp;label="Lorenz&nbsp;curve,&nbsp;wealth&nbsp;distribution")</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to37_180">180</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;ax.legend()</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to37_181">181</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;plt.show()</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to37_182">182</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to37_183">183</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;savefig</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to37_184">184</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fig.savefig(figname)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to37_185">185</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;end</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to37_186">186</td><td nowrap="nowrap"><span class="diff_add">end</span></td></tr>
        </tbody>
    </table><h1>firm_exit.jl</h1>
<h2><span style="background-color:#ffeab8;"> is unchanged</span></h2>
<h2><span style="background-color:#5b7c99;"> - Python file exists</span></h2>
<h1>firm_hiring.jl</h1>
<h2><span style="background-color:#ffeab8;"> is unchanged</span></h2>
<h2><span style="background-color:#5b7c99;"> - Python file exists</span></h2>
<h1>fosd_tauchen.jl</h1>
<h2><span style="background-color:#ffeab8;"> is unchanged</span></h2>
<h2><span style="background-color:#fde74c;"> - Python file fosd_tauchen.py does not exist</span></h2>
<h1>howard_newton.jl</h1>
<h2><span style="background-color:#ff700a;"> is changed</span></h2>
<h2><span style="background-color:#fde74c;"> - Python file howard_newton.py does not exist</span></h2>

    <table class="diff" id="difflib_chg_to38__top"
           cellspacing="0" cellpadding="0" rules="groups" >
        <colgroup></colgroup> <colgroup></colgroup> <colgroup></colgroup>
        <colgroup></colgroup> <colgroup></colgroup> <colgroup></colgroup>
        <thead><tr><th class="diff_next"><br /></th><th colspan="2" class="diff_header">old public code</th><th class="diff_next"><br /></th><th colspan="2" class="diff_header">new private (jstac) code</th></tr></thead>
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to38__0"></td><td class="diff_header" id="from38_24">24</td><td nowrap="nowrap">ax.plot(xgrid,&nbsp;Tsp.(xgrid),&nbsp;&nbsp;lw=2,&nbsp;alpha=0.6,&nbsp;label=lb_Tsp)</td><td class="diff_next"></td><td class="diff_header" id="to38_24">24</td><td nowrap="nowrap">ax.plot(xgrid,&nbsp;Tsp.(xgrid),&nbsp;&nbsp;lw=2,&nbsp;alpha=0.6,&nbsp;label=lb_Tsp)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from38_25">25</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to38_25">25</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to38__top">t</a></td><td class="diff_header" id="from38_26">26</td><td nowrap="nowrap">ax.plot(xgrid,&nbsp;xgrid,&nbsp;"k--",&nbsp;lw=1,&nbsp;alpha=0.7,&nbsp;label=L"45")</td><td class="diff_next"><a href="#difflib_chg_to38__top">t</a></td><td class="diff_header" id="to38_26">26</td><td nowrap="nowrap">ax.plot(xgrid,&nbsp;xgrid,&nbsp;"k--",&nbsp;lw=1,&nbsp;alpha=0.7,&nbsp;label=L"45<span class="diff_add">^{\circ}</span>")</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from38_27">27</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to38_27">27</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from38_28">28</td><td nowrap="nowrap">fp1&nbsp;=&nbsp;(v1,)</td><td class="diff_next"></td><td class="diff_header" id="to38_28">28</td><td nowrap="nowrap">fp1&nbsp;=&nbsp;(v1,)</td></tr>
        </tbody>
    </table><h1>iid_job_search.jl</h1>
<h2><span style="background-color:#ffeab8;"> is unchanged</span></h2>
<h2><span style="background-color:#5b7c99;"> - Python file exists</span></h2>
<h1>iid_job_search_cv.jl</h1>
<h2><span style="background-color:#ffeab8;"> is unchanged</span></h2>
<h2><span style="background-color:#fde74c;"> - Python file iid_job_search_cv.py does not exist</span></h2>
<h1>inventory_cont_time.jl</h1>
<h2><span style="background-color:#a6deae;">new</span></h2>
<h2><span style="background-color:#fde74c;"> - Python file inventory_cont_time.py does not exist</span></h2>
<h1>inventory_dp.jl</h1>
<h2><span style="background-color:#ff700a;"> is changed</span></h2>
<h2><span style="background-color:#5b7c99;"> - Python file exists</span></h2>

    <table class="diff" id="difflib_chg_to39__top"
           cellspacing="0" cellpadding="0" rules="groups" >
        <colgroup></colgroup> <colgroup></colgroup> <colgroup></colgroup>
        <colgroup></colgroup> <colgroup></colgroup> <colgroup></colgroup>
        <thead><tr><th class="diff_next"><br /></th><th colspan="2" class="diff_header">old public code</th><th class="diff_next"><br /></th><th colspan="2" class="diff_header">new private (jstac) code</th></tr></thead>
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to39__0"><a href="#difflib_chg_to39__0">f</a></td><td class="diff_header" id="from39_1">1</td><td nowrap="nowrap">include("s_approx.jl")</td><td class="diff_next"><a href="#difflib_chg_to39__0">f</a></td><td class="diff_header" id="to39_1">1</td><td nowrap="nowrap">include("s_approx.jl")</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to39__1">n</a></td><td class="diff_header" id="from39_2">2</td><td nowrap="nowrap"><span class="diff_sub">using&nbsp;Distributions,&nbsp;OffsetArrays</span></td><td class="diff_next"><a href="#difflib_chg_to39__1">n</a></td><td class="diff_header" id="to39_2">2</td><td nowrap="nowrap"><span class="diff_add">using&nbsp;Distributions</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from39_3">3</td><td nowrap="nowrap">m(x)&nbsp;=&nbsp;max(x,&nbsp;0)&nbsp;&nbsp;#&nbsp;Convenience&nbsp;function</td><td class="diff_next"></td><td class="diff_header" id="to39_3">3</td><td nowrap="nowrap">m(x)&nbsp;=&nbsp;max(x,&nbsp;0)&nbsp;&nbsp;#&nbsp;Convenience&nbsp;function</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from39_4">4</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to39_4">4</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to39__1"></td><td class="diff_header" id="from39_5">5</td><td nowrap="nowrap">function&nbsp;create_inventory_model(;&nbsp;β=0.98,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;discount&nbsp;factor</td><td class="diff_next"></td><td class="diff_header" id="to39_5">5</td><td nowrap="nowrap">function&nbsp;create_inventory_model(;&nbsp;β=0.98,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;discount&nbsp;factor</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from39_6">6</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;K=40,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;maximum&nbsp;inventory</td><td class="diff_next"></td><td class="diff_header" id="to39_6">6</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;K=40,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;maximum&nbsp;inventory</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to39__2"><a href="#difflib_chg_to39__2">n</a></td><td class="diff_header" id="from39_7">7</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c=0.2,&nbsp;κ=2,&nbsp;#&nbsp;cost&nbsp;param<span class="diff_sub">e</span>ters</td><td class="diff_next"><a href="#difflib_chg_to39__2">n</a></td><td class="diff_header" id="to39_7">7</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c=0.2,&nbsp;κ=2,&nbsp;#&nbsp;cost&nbsp;paramters</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from39_8">8</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;p=0.6)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;demand&nbsp;parameter</td><td class="diff_next"></td><td class="diff_header" id="to39_8">8</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;p=0.6)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;demand&nbsp;parameter</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to39__3">n</a></td><td class="diff_header" id="from39_9">9</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;ϕ(d)&nbsp;=&nbsp;(1&nbsp;-&nbsp;p)^d&nbsp;*&nbsp;p&nbsp;&nbsp;#&nbsp;demand&nbsp;pdf</td><td class="diff_next"><a href="#difflib_chg_to39__3">n</a></td><td class="diff_header" id="to39_9">9</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;ϕ(d)&nbsp;=&nbsp;(1&nbsp;-&nbsp;p)^d&nbsp;*&nbsp;p&nbsp;&nbsp;<span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>#&nbsp;demand&nbsp;pdf</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to39_10">10</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;x_vals&nbsp;=&nbsp;collect(0:K)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;set&nbsp;of&nbsp;inventory&nbsp;levels</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from39_10">10</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;(;&nbsp;β,&nbsp;K,&nbsp;c,&nbsp;κ,&nbsp;p,&nbsp;ϕ)</td><td class="diff_next"></td><td class="diff_header" id="to39_11">11</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;(;&nbsp;β,&nbsp;K,&nbsp;c,&nbsp;κ,&nbsp;p,&nbsp;ϕ<span class="diff_add">,&nbsp;x_vals</span>)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from39_11">11</td><td nowrap="nowrap">end</td><td class="diff_next"></td><td class="diff_header" id="to39_12">12</td><td nowrap="nowrap">end</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from39_12">12</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to39_13">13</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to39__3"></td><td class="diff_header" id="from39_13">13</td><td nowrap="nowrap">"The&nbsp;function&nbsp;B(x,&nbsp;a,&nbsp;v)&nbsp;=&nbsp;r(x,&nbsp;a)&nbsp;+&nbsp;β&nbsp;Σ_x′&nbsp;v(x′)&nbsp;P(x,&nbsp;a,&nbsp;x′)."</td><td class="diff_next"></td><td class="diff_header" id="to39_14">14</td><td nowrap="nowrap">"The&nbsp;function&nbsp;B(x,&nbsp;a,&nbsp;v)&nbsp;=&nbsp;r(x,&nbsp;a)&nbsp;+&nbsp;β&nbsp;Σ_x′&nbsp;v(x′)&nbsp;P(x,&nbsp;a,&nbsp;x′)."</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from39_14">14</td><td nowrap="nowrap">function&nbsp;B(x,&nbsp;a,&nbsp;v,&nbsp;model;&nbsp;d_max=100)</td><td class="diff_next"></td><td class="diff_header" id="to39_15">15</td><td nowrap="nowrap">function&nbsp;B(x,&nbsp;a,&nbsp;v,&nbsp;model;&nbsp;d_max=100)</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to39__4">n</a></td><td class="diff_header" id="from39_15">15</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;(;&nbsp;β,&nbsp;K,&nbsp;c,&nbsp;κ,&nbsp;p,&nbsp;ϕ)&nbsp;=&nbsp;model</td><td class="diff_next"><a href="#difflib_chg_to39__4">n</a></td><td class="diff_header" id="to39_16">16</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;(;&nbsp;β,&nbsp;K,&nbsp;c,&nbsp;κ,&nbsp;p,&nbsp;ϕ<span class="diff_add">,&nbsp;x_vals</span>)&nbsp;=&nbsp;model</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from39_16">16</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;reward&nbsp;=&nbsp;sum(min(x,&nbsp;d)*ϕ(d)&nbsp;for&nbsp;d&nbsp;in&nbsp;0:d_max)&nbsp;-&nbsp;c&nbsp;*&nbsp;a&nbsp;-&nbsp;κ&nbsp;*&nbsp;(a&nbsp;&gt;&nbsp;0)</span></td><td class="diff_next"></td><td class="diff_header" id="to39_17">17</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;revenue&nbsp;=&nbsp;sum(min(x,&nbsp;d)&nbsp;*&nbsp;ϕ(d)&nbsp;for&nbsp;d&nbsp;in&nbsp;0:d_max)&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to39_18">18</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;current_profit&nbsp;=&nbsp;revenue&nbsp;-&nbsp;c&nbsp;*&nbsp;a&nbsp;-&nbsp;κ&nbsp;*&nbsp;(a&nbsp;&gt;&nbsp;0)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from39_17">17</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;<span class="diff_sub">co</span>nt<span class="diff_sub">inuation</span>_value&nbsp;=<span class="diff_sub">&nbsp;β&nbsp;*</span>&nbsp;sum(v[m(x&nbsp;-&nbsp;d)&nbsp;+&nbsp;a]&nbsp;*&nbsp;ϕ(d)&nbsp;for&nbsp;d&nbsp;in&nbsp;0:d_max)</td><td class="diff_next"></td><td class="diff_header" id="to39_19">19</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;n<span class="diff_add">ex</span>t_value&nbsp;=&nbsp;sum(v[m(x&nbsp;-&nbsp;d)&nbsp;+&nbsp;a<span class="diff_add">&nbsp;+&nbsp;1</span>]&nbsp;*&nbsp;ϕ(d)&nbsp;for&nbsp;d&nbsp;in&nbsp;0:d_max)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from39_18">18</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;reward&nbsp;+&nbsp;continuation_value</span></td><td class="diff_next"></td><td class="diff_header" id="to39_20">20</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;current_profit&nbsp;+&nbsp;β&nbsp;*&nbsp;next_value</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from39_19">19</td><td nowrap="nowrap">end</td><td class="diff_next"></td><td class="diff_header" id="to39_21">21</td><td nowrap="nowrap">end</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from39_20">20</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to39_22">22</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to39__4"></td><td class="diff_header" id="from39_21">21</td><td nowrap="nowrap">"The&nbsp;Bellman&nbsp;operator."</td><td class="diff_next"></td><td class="diff_header" id="to39_23">23</td><td nowrap="nowrap">"The&nbsp;Bellman&nbsp;operator."</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from39_22">22</td><td nowrap="nowrap">function&nbsp;T(v,&nbsp;model)</td><td class="diff_next"></td><td class="diff_header" id="to39_24">24</td><td nowrap="nowrap">function&nbsp;T(v,&nbsp;model)</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to39__5"><a href="#difflib_chg_to39__5">n</a></td><td class="diff_header" id="from39_23">23</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;(;&nbsp;β,&nbsp;K,&nbsp;c,&nbsp;κ,&nbsp;p,&nbsp;ϕ)&nbsp;=&nbsp;model</td><td class="diff_next"><a href="#difflib_chg_to39__5">n</a></td><td class="diff_header" id="to39_25">25</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;(;&nbsp;β,&nbsp;K,&nbsp;c,&nbsp;κ,&nbsp;p,&nbsp;ϕ<span class="diff_add">,&nbsp;x_vals</span>)&nbsp;=&nbsp;model</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from39_24">24</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;new_v&nbsp;=&nbsp;similar(v)</td><td class="diff_next"></td><td class="diff_header" id="to39_26">26</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;new_v&nbsp;=&nbsp;similar(v)</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to39__6"><a href="#difflib_chg_to39__6">n</a></td><td class="diff_header" id="from39_25">25</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;x&nbsp;in&nbsp;0:K&nbsp;</span></td><td class="diff_next"><a href="#difflib_chg_to39__6">n</a></td><td class="diff_header" id="to39_27">27</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(x_idx,&nbsp;x)&nbsp;in&nbsp;enumerate(x_vals)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from39_26">26</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Γx&nbsp;=&nbsp;0:(K&nbsp;-&nbsp;x)&nbsp;</td><td class="diff_next"></td><td class="diff_header" id="to39_28">28</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Γx&nbsp;=&nbsp;0:(K&nbsp;-&nbsp;x)&nbsp;</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to39__7">n</a></td><td class="diff_header" id="from39_27">27</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;new_v[x],&nbsp;_&nbsp;=&nbsp;findmax(B(x,&nbsp;a,&nbsp;v,&nbsp;model)&nbsp;for&nbsp;a&nbsp;in&nbsp;Γx)</td><td class="diff_next"><a href="#difflib_chg_to39__7">n</a></td><td class="diff_header" id="to39_29">29</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;new_v[x<span class="diff_add">_idx</span>],&nbsp;_&nbsp;=&nbsp;findmax(B(x,&nbsp;a,&nbsp;v,&nbsp;model)&nbsp;for&nbsp;a&nbsp;in&nbsp;Γx)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from39_28">28</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;end</td><td class="diff_next"></td><td class="diff_header" id="to39_30">30</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;end</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from39_29">29</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;new_v</td><td class="diff_next"></td><td class="diff_header" id="to39_31">31</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;new_v</td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to39__7"></td><td class="diff_header" id="from39_32">32</td><td nowrap="nowrap">"Get&nbsp;a&nbsp;v-greedy&nbsp;policy.&nbsp;&nbsp;Returns&nbsp;a&nbsp;zero-based&nbsp;array."</td><td class="diff_next"></td><td class="diff_header" id="to39_34">34</td><td nowrap="nowrap">"Get&nbsp;a&nbsp;v-greedy&nbsp;policy.&nbsp;&nbsp;Returns&nbsp;a&nbsp;zero-based&nbsp;array."</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from39_33">33</td><td nowrap="nowrap">function&nbsp;get_greedy(v,&nbsp;model)</td><td class="diff_next"></td><td class="diff_header" id="to39_35">35</td><td nowrap="nowrap">function&nbsp;get_greedy(v,&nbsp;model)</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to39__8">n</a></td><td class="diff_header" id="from39_34">34</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;(;&nbsp;β,&nbsp;K,&nbsp;c,&nbsp;κ,&nbsp;p,&nbsp;ϕ)&nbsp;=&nbsp;model</td><td class="diff_next"><a href="#difflib_chg_to39__8">n</a></td><td class="diff_header" id="to39_36">36</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;(;&nbsp;β,&nbsp;K,&nbsp;c,&nbsp;κ,&nbsp;p,&nbsp;ϕ<span class="diff_add">,&nbsp;x_vals</span>)&nbsp;=&nbsp;model</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from39_35">35</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;σ_star&nbsp;=&nbsp;OffsetArray(zeros(Int32,&nbsp;K+1),&nbsp;0:K)</span></td><td class="diff_next"></td><td class="diff_header" id="to39_37">37</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;σ_star&nbsp;=&nbsp;zero(x_vals)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from39_36">36</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;x&nbsp;in&nbsp;0:K&nbsp;</span></td><td class="diff_next"></td><td class="diff_header" id="to39_38">38</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(x_idx,&nbsp;x)&nbsp;in&nbsp;enumerate(x_vals)</span></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to39__8"></td><td class="diff_header" id="from39_37">37</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Γx&nbsp;=&nbsp;0:(K&nbsp;-&nbsp;x)&nbsp;</td><td class="diff_next"></td><td class="diff_header" id="to39_39">39</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Γx&nbsp;=&nbsp;0:(K&nbsp;-&nbsp;x)&nbsp;</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from39_38">38</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_,&nbsp;a_idx&nbsp;=&nbsp;findmax(B(x,&nbsp;a,&nbsp;v,&nbsp;model)&nbsp;for&nbsp;a&nbsp;in&nbsp;Γx)</td><td class="diff_next"></td><td class="diff_header" id="to39_40">40</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_,&nbsp;a_idx&nbsp;=&nbsp;findmax(B(x,&nbsp;a,&nbsp;v,&nbsp;model)&nbsp;for&nbsp;a&nbsp;in&nbsp;Γx)</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to39__9">n</a></td><td class="diff_header" id="from39_39">39</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;σ_star[x]&nbsp;=&nbsp;Γx[a_idx]</td><td class="diff_next"><a href="#difflib_chg_to39__9">n</a></td><td class="diff_header" id="to39_41">41</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;σ_star[x<span class="diff_add">_idx</span>]&nbsp;=&nbsp;Γx[a_idx]</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from39_40">40</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;end</td><td class="diff_next"></td><td class="diff_header" id="to39_42">42</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;end</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from39_41">41</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;σ_star</td><td class="diff_next"></td><td class="diff_header" id="to39_43">43</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;σ_star</td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to39__9"></td><td class="diff_header" id="from39_44">44</td><td nowrap="nowrap">"Use&nbsp;successive_approx&nbsp;to&nbsp;get&nbsp;v_star&nbsp;and&nbsp;then&nbsp;compute&nbsp;greedy."</td><td class="diff_next"></td><td class="diff_header" id="to39_46">46</td><td nowrap="nowrap">"Use&nbsp;successive_approx&nbsp;to&nbsp;get&nbsp;v_star&nbsp;and&nbsp;then&nbsp;compute&nbsp;greedy."</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from39_45">45</td><td nowrap="nowrap">function&nbsp;solve_inventory_model(v_init,&nbsp;model)</td><td class="diff_next"></td><td class="diff_header" id="to39_47">47</td><td nowrap="nowrap">function&nbsp;solve_inventory_model(v_init,&nbsp;model)</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to39__10">n</a></td><td class="diff_header" id="from39_46">46</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;(;&nbsp;β,&nbsp;K,&nbsp;c,&nbsp;κ,&nbsp;p,&nbsp;ϕ)&nbsp;=&nbsp;model</td><td class="diff_next"><a href="#difflib_chg_to39__10">n</a></td><td class="diff_header" id="to39_48">48</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;(;&nbsp;β,&nbsp;K,&nbsp;c,&nbsp;κ,&nbsp;p,&nbsp;ϕ<span class="diff_add">,&nbsp;x_vals</span>)&nbsp;=&nbsp;model</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from39_47">47</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;v_star&nbsp;=&nbsp;successive_approx(v&nbsp;-&gt;&nbsp;T(v,&nbsp;model),&nbsp;v_init)</td><td class="diff_next"></td><td class="diff_header" id="to39_49">49</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;v_star&nbsp;=&nbsp;successive_approx(v&nbsp;-&gt;&nbsp;T(v,&nbsp;model),&nbsp;v_init)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from39_48">48</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;σ_star&nbsp;=&nbsp;get_greedy(v_star,&nbsp;model)</td><td class="diff_next"></td><td class="diff_header" id="to39_50">50</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;σ_star&nbsp;=&nbsp;get_greedy(v_star,&nbsp;model)</td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to39__10"></td><td class="diff_header" id="from39_59">59</td><td nowrap="nowrap">#&nbsp;Create&nbsp;an&nbsp;instance&nbsp;of&nbsp;the&nbsp;model&nbsp;and&nbsp;solve&nbsp;it</td><td class="diff_next"></td><td class="diff_header" id="to39_61">61</td><td nowrap="nowrap">#&nbsp;Create&nbsp;an&nbsp;instance&nbsp;of&nbsp;the&nbsp;model&nbsp;and&nbsp;solve&nbsp;it</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from39_60">60</td><td nowrap="nowrap">model&nbsp;=&nbsp;create_inventory_model()</td><td class="diff_next"></td><td class="diff_header" id="to39_62">62</td><td nowrap="nowrap">model&nbsp;=&nbsp;create_inventory_model()</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to39__11">n</a></td><td class="diff_header" id="from39_61">61</td><td nowrap="nowrap">(;&nbsp;β,&nbsp;K,&nbsp;c,&nbsp;κ,&nbsp;p,&nbsp;ϕ)&nbsp;=&nbsp;model</td><td class="diff_next"><a href="#difflib_chg_to39__11">n</a></td><td class="diff_header" id="to39_63">63</td><td nowrap="nowrap">(;&nbsp;β,&nbsp;K,&nbsp;c,&nbsp;κ,&nbsp;p,&nbsp;ϕ<span class="diff_add">,&nbsp;x_vals</span>)&nbsp;=&nbsp;model</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from39_62">62</td><td nowrap="nowrap"><span class="diff_sub">v_init&nbsp;=&nbsp;OffsetArray(zeros(K+1),&nbsp;0:K)</span></td><td class="diff_next"></td><td class="diff_header" id="to39_64">64</td><td nowrap="nowrap"><span class="diff_add">v_init&nbsp;=&nbsp;zeros(length(x_vals))</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from39_63">63</td><td nowrap="nowrap">v_star,&nbsp;σ_star&nbsp;=&nbsp;solve_inventory_model(v_init,&nbsp;model)</td><td class="diff_next"></td><td class="diff_header" id="to39_65">65</td><td nowrap="nowrap">v_star,&nbsp;σ_star&nbsp;=&nbsp;solve_inventory_model(v_init,&nbsp;model)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from39_64">64</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to39_66">66</td><td nowrap="nowrap"></td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to39__11"></td><td class="diff_header" id="from39_70">70</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;t&nbsp;in&nbsp;1:(ts_length-1)</td><td class="diff_next"></td><td class="diff_header" id="to39_72">72</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;t&nbsp;in&nbsp;1:(ts_length-1)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from39_71">71</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;D&nbsp;=&nbsp;rand(G)</td><td class="diff_next"></td><td class="diff_header" id="to39_73">73</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;D&nbsp;=&nbsp;rand(G)</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to39__top">t</a></td><td class="diff_header" id="from39_72">72</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;X[t+1]&nbsp;=&nbsp;m(X[t]&nbsp;-&nbsp;D)&nbsp;+&nbsp;σ_star[X[t]]</td><td class="diff_next"><a href="#difflib_chg_to39__top">t</a></td><td class="diff_header" id="to39_74">74</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;X[t+1]&nbsp;=&nbsp;m(X[t]&nbsp;-&nbsp;D)&nbsp;+&nbsp;σ_star[X[t]<span class="diff_add">&nbsp;+&nbsp;1</span>]</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from39_73">73</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;end</td><td class="diff_next"></td><td class="diff_header" id="to39_75">75</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;end</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from39_74">74</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;X</td><td class="diff_next"></td><td class="diff_header" id="to39_76">76</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;X</td></tr>
        </tbody>
    </table><h1>inventory_sdd.jl</h1>
<h2><span style="background-color:#ff700a;"> is changed</span></h2>
<h2><span style="background-color:#5b7c99;"> - Python file exists</span></h2>

    <table class="diff" id="difflib_chg_to40__top"
           cellspacing="0" cellpadding="0" rules="groups" >
        <colgroup></colgroup> <colgroup></colgroup> <colgroup></colgroup>
        <colgroup></colgroup> <colgroup></colgroup> <colgroup></colgroup>
        <thead><tr><th class="diff_next"><br /></th><th colspan="2" class="diff_header">old public code</th><th class="diff_next"><br /></th><th colspan="2" class="diff_header">new private (jstac) code</th></tr></thead>
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to40__0"><a href="#difflib_chg_to40__0">f</a></td><td class="diff_header" id="from40_1">1</td><td nowrap="nowrap">"""</td><td class="diff_next"><a href="#difflib_chg_to40__0">f</a></td><td class="diff_header" id="to40_1">1</td><td nowrap="nowrap">"""</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to40__1">n</a></td><td class="diff_header" id="from40_2">2</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"><a href="#difflib_chg_to40__1">n</a></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from40_3">3</td><td nowrap="nowrap">Inventory&nbsp;management&nbsp;model&nbsp;with&nbsp;state-dependent&nbsp;discounting.&nbsp;&nbsp;<span class="diff_sub">The&nbsp;discount</span></td><td class="diff_next"></td><td class="diff_header" id="to40_2">2</td><td nowrap="nowrap">Inventory&nbsp;management&nbsp;model&nbsp;with&nbsp;state-dependent&nbsp;discounting.&nbsp;&nbsp;</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from40_4">4</td><td nowrap="nowrap"><span class="diff_sub">factor&nbsp;takes&nbsp;the&nbsp;form&nbsp;β_t&nbsp;=&nbsp;Z_t,&nbsp;where&nbsp;(Z_t)&nbsp;is&nbsp;a&nbsp;discretization&nbsp;of&nbsp;a&nbsp;</span></td><td class="diff_next"></td><td class="diff_header" id="to40_3">3</td><td nowrap="nowrap"><span class="diff_add">The&nbsp;discount&nbsp;factor&nbsp;takes&nbsp;the&nbsp;form&nbsp;β_t&nbsp;=&nbsp;Z_t,&nbsp;where&nbsp;(Z_t)&nbsp;is&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from40_5">5</td><td nowrap="nowrap"><span class="diff_sub">Gaussian&nbsp;AR(1)&nbsp;process&nbsp;</span></td><td class="diff_next"></td><td class="diff_header" id="to40_4">4</td><td nowrap="nowrap"><span class="diff_add">a&nbsp;discretization&nbsp;of&nbsp;the&nbsp;Gaussian&nbsp;AR(1)&nbsp;process&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from40_6">6</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to40_5">5</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from40_7">7</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;X_t&nbsp;=&nbsp;ρ&nbsp;X_{t-1}&nbsp;+&nbsp;b&nbsp;+&nbsp;ν&nbsp;W_t.</td><td class="diff_next"></td><td class="diff_header" id="to40_6">6</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;X_t&nbsp;=&nbsp;ρ&nbsp;X_{t-1}&nbsp;+&nbsp;b&nbsp;+&nbsp;ν&nbsp;W_t.</td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to40__1"></td><td class="diff_header" id="from40_10">10</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to40_9">9</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from40_11">11</td><td nowrap="nowrap">include("s_approx.jl")</td><td class="diff_next"></td><td class="diff_header" id="to40_10">10</td><td nowrap="nowrap">include("s_approx.jl")</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to40__2">n</a></td><td class="diff_header" id="from40_12">12</td><td nowrap="nowrap">using&nbsp;LinearAlgebra,&nbsp;Distributions,&nbsp;<span class="diff_sub">OffsetArrays,&nbsp;</span>QuantEcon</td><td class="diff_next"><a href="#difflib_chg_to40__2">n</a></td><td class="diff_header" id="to40_11">11</td><td nowrap="nowrap">using&nbsp;LinearAlgebra,&nbsp;Distributions,&nbsp;QuantEcon</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to40__2"></td><td class="diff_header" id="from40_13">13</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to40_12">12</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from40_14">14</td><td nowrap="nowrap">function&nbsp;create_sdd_inventory_model(;&nbsp;</td><td class="diff_next"></td><td class="diff_header" id="to40_13">13</td><td nowrap="nowrap">function&nbsp;create_sdd_inventory_model(;&nbsp;</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to40__3">n</a></td><td class="diff_header" id="from40_15">15</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ρ=0.98,&nbsp;ν=0.002,&nbsp;n_z=20,&nbsp;b=0.97,&nbsp;&nbsp;#&nbsp;Z&nbsp;state&nbsp;parameters</td><td class="diff_next"><a href="#difflib_chg_to40__3">n</a></td><td class="diff_header" id="to40_14">14</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ρ=0.98,&nbsp;ν=0.002,&nbsp;n_z=20,&nbsp;b=0.97,&nbsp;&nbsp;#&nbsp;Z&nbsp;state&nbsp;parameters</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from40_16">16</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;K=40,&nbsp;c=0.2,&nbsp;κ=0.8,&nbsp;p=0.6)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;firm&nbsp;and&nbsp;demand&nbsp;parameters</td><td class="diff_next"></td><td class="diff_header" id="to40_15">15</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;K=40,&nbsp;c=0.2,&nbsp;κ=0.8,&nbsp;p=0.6)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;firm&nbsp;and&nbsp;demand&nbsp;parameters</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from40_17">17</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;ϕ(d)&nbsp;=&nbsp;(1&nbsp;-&nbsp;p)^d&nbsp;*&nbsp;p&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;demand&nbsp;pdf</td><td class="diff_next"></td><td class="diff_header" id="to40_16">16</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;ϕ(d)&nbsp;=&nbsp;(1&nbsp;-&nbsp;p)^d&nbsp;*&nbsp;p&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;</span>#&nbsp;demand&nbsp;pdf</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to40_17">17</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;y_vals&nbsp;=&nbsp;collect(0:K)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;inventory&nbsp;levels</span></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to40__3"></td><td class="diff_header" id="from40_18">18</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;mc&nbsp;=&nbsp;tauchen(n_z,&nbsp;ρ,&nbsp;ν)</td><td class="diff_next"></td><td class="diff_header" id="to40_18">18</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;mc&nbsp;=&nbsp;tauchen(n_z,&nbsp;ρ,&nbsp;ν)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from40_19">19</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;z_vals,&nbsp;Q&nbsp;=&nbsp;mc.state_values&nbsp;.+&nbsp;b,&nbsp;mc.p</td><td class="diff_next"></td><td class="diff_header" id="to40_19">19</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;z_vals,&nbsp;Q&nbsp;=&nbsp;mc.state_values&nbsp;.+&nbsp;b,&nbsp;mc.p</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to40__4">n</a></td><td class="diff_header" id="from40_20">20</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;<span class="diff_chg">r</span>L&nbsp;=&nbsp;maximum(abs.(eigvals(z_vals&nbsp;.*&nbsp;Q)))&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td class="diff_next"><a href="#difflib_chg_to40__4">n</a></td><td class="diff_header" id="to40_20">20</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;<span class="diff_chg">ρ</span>L&nbsp;=&nbsp;maximum(abs.(eigvals(z_vals&nbsp;.*&nbsp;Q)))&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from40_21">21</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;@assert&nbsp;&nbsp;<span class="diff_chg">r</span>L&nbsp;&lt;&nbsp;1&nbsp;"Error:&nbsp;<span class="diff_chg">r</span>(L)&nbsp;≥&nbsp;1."&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;check&nbsp;<span class="diff_chg">r</span>(L)&nbsp;&lt;&nbsp;1</td><td class="diff_next"></td><td class="diff_header" id="to40_21">21</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;@assert&nbsp;&nbsp;<span class="diff_chg">ρ</span>L&nbsp;&lt;&nbsp;1&nbsp;"Error:&nbsp;<span class="diff_chg">ρ</span>(L)&nbsp;≥&nbsp;1."&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;check&nbsp;<span class="diff_chg">ρ</span>(L)&nbsp;&lt;&nbsp;1</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from40_22">22</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;(;&nbsp;K,&nbsp;c,&nbsp;κ,&nbsp;p,&nbsp;ϕ,&nbsp;z_vals,&nbsp;Q)</td><td class="diff_next"></td><td class="diff_header" id="to40_22">22</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;(;&nbsp;K,&nbsp;c,&nbsp;κ,&nbsp;p,&nbsp;ϕ,<span class="diff_add">&nbsp;y_vals,</span>&nbsp;z_vals,&nbsp;Q)</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to40__4"></td><td class="diff_header" id="from40_23">23</td><td nowrap="nowrap">end</td><td class="diff_next"></td><td class="diff_header" id="to40_23">23</td><td nowrap="nowrap">end</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from40_24">24</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to40_24">24</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to40__5"><a href="#difflib_chg_to40__5">n</a></td><td class="diff_header" id="from40_25">25</td><td nowrap="nowrap">m(<span class="diff_chg">x</span>)&nbsp;=&nbsp;max(<span class="diff_chg">x</span>,&nbsp;0)&nbsp;&nbsp;#&nbsp;Convenience&nbsp;function</td><td class="diff_next"><a href="#difflib_chg_to40__5">n</a></td><td class="diff_header" id="to40_25">25</td><td nowrap="nowrap">m(<span class="diff_chg">y</span>)&nbsp;=&nbsp;max(<span class="diff_chg">y</span>,&nbsp;0)&nbsp;&nbsp;#&nbsp;Convenience&nbsp;function</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from40_26">26</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to40_26">26</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to40__6"><a href="#difflib_chg_to40__6">n</a></td><td class="diff_header" id="from40_27">27</td><td nowrap="nowrap">"The&nbsp;function&nbsp;B(x,&nbsp;<span class="diff_sub">z,&nbsp;</span>a,&nbsp;v)&nbsp;=&nbsp;r(x,&nbsp;a)&nbsp;+&nbsp;β(<span class="diff_chg">z</span>)&nbsp;Σ_x′&nbsp;v(x′)&nbsp;P(x,&nbsp;a,&nbsp;x′)."</td><td class="diff_next"><a href="#difflib_chg_to40__6">n</a></td><td class="diff_header" id="to40_27">27</td><td nowrap="nowrap">"The&nbsp;function&nbsp;B(x,&nbsp;a,&nbsp;v)&nbsp;=&nbsp;r(x,&nbsp;a)&nbsp;+&nbsp;β(<span class="diff_chg">x</span>)&nbsp;Σ_x′&nbsp;v(x′)&nbsp;P(x,&nbsp;a,&nbsp;x′)."</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from40_28">28</td><td nowrap="nowrap">function&nbsp;B(x,&nbsp;i_z,&nbsp;a,&nbsp;v,&nbsp;model;&nbsp;d_max=100)</td><td class="diff_next"></td><td class="diff_header" id="to40_28">28</td><td nowrap="nowrap">function&nbsp;B(x,&nbsp;i_z,&nbsp;a,&nbsp;v,&nbsp;model;&nbsp;d_max=100)</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to40__7"><a href="#difflib_chg_to40__7">n</a></td><td class="diff_header" id="from40_29">29</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;(;&nbsp;K,&nbsp;c,&nbsp;κ,&nbsp;p,&nbsp;ϕ,&nbsp;z_vals,&nbsp;Q)&nbsp;=&nbsp;model</td><td class="diff_next"><a href="#difflib_chg_to40__7">n</a></td><td class="diff_header" id="to40_29">29</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;(;&nbsp;K,&nbsp;c,&nbsp;κ,&nbsp;p,&nbsp;ϕ,<span class="diff_add">&nbsp;y_vals,</span>&nbsp;z_vals,&nbsp;Q)&nbsp;=&nbsp;model</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from40_30">30</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;z&nbsp;=&nbsp;z_vals[i_z]</td><td class="diff_next"></td><td class="diff_header" id="to40_30">30</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;z&nbsp;=&nbsp;z_vals[i_z]</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to40__8">n</a></td><td class="diff_header" id="from40_31">31</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;reward&nbsp;=&nbsp;sum(min(x,&nbsp;d)*ϕ(d)&nbsp;for&nbsp;d&nbsp;in&nbsp;0:d_max)&nbsp;-&nbsp;c&nbsp;*&nbsp;a&nbsp;-&nbsp;κ&nbsp;*&nbsp;(a&nbsp;&gt;&nbsp;0)</span></td><td class="diff_next"><a href="#difflib_chg_to40__8">n</a></td><td class="diff_header" id="to40_31">31</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;revenue&nbsp;=&nbsp;sum(min(x,&nbsp;d)*ϕ(d)&nbsp;for&nbsp;d&nbsp;in&nbsp;0:d_max)</span></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to40__8"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to40_32">32</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;current_profit&nbsp;=&nbsp;&nbsp;revenue&nbsp;-&nbsp;c&nbsp;*&nbsp;a&nbsp;-&nbsp;κ&nbsp;*&nbsp;(a&nbsp;&gt;&nbsp;0)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from40_32">32</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;cv&nbsp;=&nbsp;0.0</td><td class="diff_next"></td><td class="diff_header" id="to40_33">33</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;cv&nbsp;=&nbsp;0.0</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to40__9">n</a></td><td class="diff_header" id="from40_33">33</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;<span class="diff_sub">(</span>i_z′<span class="diff_sub">,&nbsp;z′)</span>&nbsp;in&nbsp;en<span class="diff_chg">um</span>e<span class="diff_chg">rate</span>(z_vals)</td><td class="diff_next"><a href="#difflib_chg_to40__9">n</a></td><td class="diff_header" id="to40_34">34</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;i_z′&nbsp;in&nbsp;e<span class="diff_add">achi</span>n<span class="diff_chg">d</span>e<span class="diff_chg">x</span>(z_vals)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to40_35">35</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;d&nbsp;in&nbsp;0:d_max</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from40_34">34</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cv&nbsp;+=&nbsp;<span class="diff_sub">sum(</span>v[m(x&nbsp;-&nbsp;d)&nbsp;+&nbsp;a,&nbsp;i_z′]&nbsp;*&nbsp;ϕ(d)&nbsp;<span class="diff_sub">for&nbsp;d&nbsp;in&nbsp;0:d_max)&nbsp;</span>*&nbsp;Q[i_z,&nbsp;i_z′]</td><td class="diff_next"></td><td class="diff_header" id="to40_36">36</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cv&nbsp;+=&nbsp;v[m(x&nbsp;-&nbsp;d)&nbsp;+&nbsp;a<span class="diff_add">&nbsp;+&nbsp;1</span>,&nbsp;i_z′]&nbsp;*&nbsp;ϕ(d)&nbsp;*&nbsp;Q[i_z,&nbsp;i_z′]</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to40__9"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to40_37">37</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from40_35">35</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;end</td><td class="diff_next"></td><td class="diff_header" id="to40_38">38</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;end</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to40__10">n</a></td><td class="diff_header" id="from40_36">36</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;re<span class="diff_chg">wa</span>r<span class="diff_chg">d</span>&nbsp;+&nbsp;z&nbsp;*&nbsp;cv</td><td class="diff_next"><a href="#difflib_chg_to40__10">n</a></td><td class="diff_header" id="to40_39">39</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;<span class="diff_add">cur</span>re<span class="diff_chg">nt_p</span>r<span class="diff_chg">ofit</span>&nbsp;+&nbsp;z&nbsp;*&nbsp;cv</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from40_37">37</td><td nowrap="nowrap">end</td><td class="diff_next"></td><td class="diff_header" id="to40_40">40</td><td nowrap="nowrap">end</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from40_38">38</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to40_41">41</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to40__10"></td><td class="diff_header" id="from40_39">39</td><td nowrap="nowrap">"The&nbsp;Bellman&nbsp;operator."</td><td class="diff_next"></td><td class="diff_header" id="to40_42">42</td><td nowrap="nowrap">"The&nbsp;Bellman&nbsp;operator."</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from40_40">40</td><td nowrap="nowrap">function&nbsp;T(v,&nbsp;model)</td><td class="diff_next"></td><td class="diff_header" id="to40_43">43</td><td nowrap="nowrap">function&nbsp;T(v,&nbsp;model)</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to40__11">n</a></td><td class="diff_header" id="from40_41">41</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;(;&nbsp;K,&nbsp;c,&nbsp;κ,&nbsp;p,&nbsp;ϕ,&nbsp;z_vals,&nbsp;Q)&nbsp;=&nbsp;model</td><td class="diff_next"><a href="#difflib_chg_to40__11">n</a></td><td class="diff_header" id="to40_44">44</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;(;&nbsp;K,&nbsp;c,&nbsp;κ,&nbsp;p,&nbsp;ϕ,<span class="diff_add">&nbsp;y_vals,</span>&nbsp;z_vals,&nbsp;Q)&nbsp;=&nbsp;model</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to40__11"></td><td class="diff_header" id="from40_42">42</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;new_v&nbsp;=&nbsp;similar(v)</td><td class="diff_next"></td><td class="diff_header" id="to40_45">45</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;new_v&nbsp;=&nbsp;similar(v)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from40_43">43</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(i_z,&nbsp;z)&nbsp;in&nbsp;enumerate(z_vals)</td><td class="diff_next"></td><td class="diff_header" id="to40_46">46</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(i_z,&nbsp;z)&nbsp;in&nbsp;enumerate(z_vals)</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to40__12">n</a></td><td class="diff_header" id="from40_44">44</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;x&nbsp;in&nbsp;0:K&nbsp;</span></td><td class="diff_next"><a href="#difflib_chg_to40__12">n</a></td><td class="diff_header" id="to40_47">47</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(i_y,&nbsp;y)&nbsp;in&nbsp;enumerate(y_vals)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from40_45">45</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Γ<span class="diff_chg">x</span>&nbsp;=&nbsp;0:(K&nbsp;-&nbsp;<span class="diff_chg">x</span>)&nbsp;</td><td class="diff_next"></td><td class="diff_header" id="to40_48">48</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Γ<span class="diff_chg">y</span>&nbsp;=&nbsp;0:(K&nbsp;-&nbsp;<span class="diff_chg">y</span>)&nbsp;</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from40_46">46</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;new_v[<span class="diff_chg">x</span>,&nbsp;i_z],&nbsp;_&nbsp;=&nbsp;findmax(B(<span class="diff_chg">x</span>,&nbsp;i_z,&nbsp;a,&nbsp;v,&nbsp;model)&nbsp;for&nbsp;a&nbsp;in&nbsp;Γ<span class="diff_chg">x</span>)</td><td class="diff_next"></td><td class="diff_header" id="to40_49">49</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;new_v[<span class="diff_chg">i_y</span>,&nbsp;i_z],&nbsp;_&nbsp;=&nbsp;findmax(B(<span class="diff_chg">y</span>,&nbsp;i_z,&nbsp;a,&nbsp;v,&nbsp;model)&nbsp;for&nbsp;a&nbsp;in&nbsp;Γ<span class="diff_chg">y</span>)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from40_47">47</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</td><td class="diff_next"></td><td class="diff_header" id="to40_50">50</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from40_48">48</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;end</td><td class="diff_next"></td><td class="diff_header" id="to40_51">51</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;end</td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to40__12"></td><td class="diff_header" id="from40_52">52</td><td nowrap="nowrap">"Get&nbsp;a&nbsp;v-greedy&nbsp;policy.&nbsp;&nbsp;Returns&nbsp;a&nbsp;zero-based&nbsp;array."</td><td class="diff_next"></td><td class="diff_header" id="to40_55">55</td><td nowrap="nowrap">"Get&nbsp;a&nbsp;v-greedy&nbsp;policy.&nbsp;&nbsp;Returns&nbsp;a&nbsp;zero-based&nbsp;array."</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from40_53">53</td><td nowrap="nowrap">function&nbsp;get_greedy(v,&nbsp;model)</td><td class="diff_next"></td><td class="diff_header" id="to40_56">56</td><td nowrap="nowrap">function&nbsp;get_greedy(v,&nbsp;model)</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to40__13"><a href="#difflib_chg_to40__13">n</a></td><td class="diff_header" id="from40_54">54</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;(;&nbsp;K,&nbsp;c,&nbsp;κ,&nbsp;p,&nbsp;ϕ,&nbsp;z_vals,&nbsp;Q)&nbsp;=&nbsp;model</td><td class="diff_next"><a href="#difflib_chg_to40__13">n</a></td><td class="diff_header" id="to40_57">57</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;(;&nbsp;K,&nbsp;c,&nbsp;κ,&nbsp;p,&nbsp;ϕ,<span class="diff_add">&nbsp;y_vals,</span>&nbsp;z_vals,&nbsp;Q)&nbsp;=&nbsp;model</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from40_55">55</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;n_z&nbsp;=&nbsp;length(z_vals)</td><td class="diff_next"></td><td class="diff_header" id="to40_58">58</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;n_z&nbsp;=&nbsp;length(z_vals)</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to40__14"><a href="#difflib_chg_to40__14">n</a></td><td class="diff_header" id="from40_56">56</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;σ_star&nbsp;=&nbsp;OffsetArray(zeros(Int32,&nbsp;K+1,&nbsp;n_z),&nbsp;0:K,&nbsp;1:n_z)</span></td><td class="diff_next"><a href="#difflib_chg_to40__14">n</a></td><td class="diff_header" id="to40_59">59</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;σ_star&nbsp;=&nbsp;zeros(Int32,&nbsp;K+1,&nbsp;n_z)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from40_57">57</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(i_z,&nbsp;z)&nbsp;in&nbsp;enumerate(z_vals)</td><td class="diff_next"></td><td class="diff_header" id="to40_60">60</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(i_z,&nbsp;z)&nbsp;in&nbsp;enumerate(z_vals)</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to40__15">n</a></td><td class="diff_header" id="from40_58">58</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;x&nbsp;in&nbsp;0:K&nbsp;</span></td><td class="diff_next"><a href="#difflib_chg_to40__15">n</a></td><td class="diff_header" id="to40_61">61</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(i_y,&nbsp;y)&nbsp;in&nbsp;enumerate(y_vals)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from40_59">59</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Γ<span class="diff_chg">x</span>&nbsp;=&nbsp;0:(K&nbsp;-&nbsp;<span class="diff_chg">x</span>)&nbsp;</td><td class="diff_next"></td><td class="diff_header" id="to40_62">62</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Γ<span class="diff_chg">y</span>&nbsp;=&nbsp;0:(K&nbsp;-&nbsp;<span class="diff_chg">y</span>)&nbsp;</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from40_60">60</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_,&nbsp;a<span class="diff_sub">_idx</span>&nbsp;=&nbsp;findmax(B(<span class="diff_chg">x</span>,&nbsp;i_z,&nbsp;a,&nbsp;v,&nbsp;model)&nbsp;for&nbsp;a&nbsp;in&nbsp;Γ<span class="diff_chg">x</span>)</td><td class="diff_next"></td><td class="diff_header" id="to40_63">63</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_,&nbsp;<span class="diff_add">i_</span>a&nbsp;=&nbsp;findmax(B(<span class="diff_chg">y</span>,&nbsp;i_z,&nbsp;a,&nbsp;v,&nbsp;model)&nbsp;for&nbsp;a&nbsp;in&nbsp;Γ<span class="diff_chg">y</span>)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from40_61">61</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;σ_star[<span class="diff_chg">x</span>,&nbsp;i_z]&nbsp;=&nbsp;Γ<span class="diff_chg">x</span>[a<span class="diff_sub">_idx</span>]</td><td class="diff_next"></td><td class="diff_header" id="to40_64">64</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;σ_star[<span class="diff_chg">i_y</span>,&nbsp;i_z]&nbsp;=&nbsp;Γ<span class="diff_chg">y</span>[<span class="diff_add">i_</span>a]</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from40_62">62</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</td><td class="diff_next"></td><td class="diff_header" id="to40_65">65</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from40_63">63</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;end</td><td class="diff_next"></td><td class="diff_header" id="to40_66">66</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;end</td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to40__15"></td><td class="diff_header" id="from40_68">68</td><td nowrap="nowrap">"Use&nbsp;successive_approx&nbsp;to&nbsp;get&nbsp;v_star&nbsp;and&nbsp;then&nbsp;compute&nbsp;greedy."</td><td class="diff_next"></td><td class="diff_header" id="to40_71">71</td><td nowrap="nowrap">"Use&nbsp;successive_approx&nbsp;to&nbsp;get&nbsp;v_star&nbsp;and&nbsp;then&nbsp;compute&nbsp;greedy."</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from40_69">69</td><td nowrap="nowrap">function&nbsp;solve_inventory_model(v_init,&nbsp;model)</td><td class="diff_next"></td><td class="diff_header" id="to40_72">72</td><td nowrap="nowrap">function&nbsp;solve_inventory_model(v_init,&nbsp;model)</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to40__16">n</a></td><td class="diff_header" id="from40_70">70</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;(;&nbsp;K,&nbsp;c,&nbsp;κ,&nbsp;p,&nbsp;ϕ,&nbsp;z_vals,&nbsp;Q)&nbsp;=&nbsp;model</td><td class="diff_next"><a href="#difflib_chg_to40__16">n</a></td><td class="diff_header" id="to40_73">73</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;(;&nbsp;K,&nbsp;c,&nbsp;κ,&nbsp;p,&nbsp;ϕ,<span class="diff_add">&nbsp;y_vals,</span>&nbsp;z_vals,&nbsp;Q)&nbsp;=&nbsp;model</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from40_71">71</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;v_star&nbsp;=&nbsp;successive_approx(v&nbsp;-&gt;&nbsp;T(v,&nbsp;model),&nbsp;v_init)</td><td class="diff_next"></td><td class="diff_header" id="to40_74">74</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;v_star&nbsp;=&nbsp;successive_approx(v&nbsp;-&gt;&nbsp;T(v,&nbsp;model),&nbsp;v_init)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from40_72">72</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;σ_star&nbsp;=&nbsp;get_greedy(v_star,&nbsp;model)</td><td class="diff_next"></td><td class="diff_header" id="to40_75">75</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;σ_star&nbsp;=&nbsp;get_greedy(v_star,&nbsp;model)</td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to40__16"></td><td class="diff_header" id="from40_84">84</td><td nowrap="nowrap">#&nbsp;Create&nbsp;an&nbsp;instance&nbsp;of&nbsp;the&nbsp;model&nbsp;and&nbsp;solve&nbsp;it</td><td class="diff_next"></td><td class="diff_header" id="to40_87">87</td><td nowrap="nowrap">#&nbsp;Create&nbsp;an&nbsp;instance&nbsp;of&nbsp;the&nbsp;model&nbsp;and&nbsp;solve&nbsp;it</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from40_85">85</td><td nowrap="nowrap">model&nbsp;=&nbsp;create_sdd_inventory_model()</td><td class="diff_next"></td><td class="diff_header" id="to40_88">88</td><td nowrap="nowrap">model&nbsp;=&nbsp;create_sdd_inventory_model()</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to40__17"><a href="#difflib_chg_to40__17">n</a></td><td class="diff_header" id="from40_86">86</td><td nowrap="nowrap">(;&nbsp;K,&nbsp;c,&nbsp;κ,&nbsp;p,&nbsp;ϕ,&nbsp;z_vals,&nbsp;Q)&nbsp;=&nbsp;model</td><td class="diff_next"><a href="#difflib_chg_to40__17">n</a></td><td class="diff_header" id="to40_89">89</td><td nowrap="nowrap">(;&nbsp;K,&nbsp;c,&nbsp;κ,&nbsp;p,&nbsp;ϕ,<span class="diff_add">&nbsp;y_vals,</span>&nbsp;z_vals,&nbsp;Q)&nbsp;=&nbsp;model</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from40_87">87</td><td nowrap="nowrap">n_z&nbsp;=&nbsp;length(z_vals)</td><td class="diff_next"></td><td class="diff_header" id="to40_90">90</td><td nowrap="nowrap">n_z&nbsp;=&nbsp;length(z_vals)</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to40__18">n</a></td><td class="diff_header" id="from40_88">88</td><td nowrap="nowrap"><span class="diff_sub">v_init&nbsp;=&nbsp;OffsetArray(zeros(Float64,&nbsp;K+1,&nbsp;n_z),&nbsp;0:K,&nbsp;1:n_z)</span></td><td class="diff_next"><a href="#difflib_chg_to40__18">n</a></td><td class="diff_header" id="to40_91">91</td><td nowrap="nowrap"><span class="diff_add">v_init&nbsp;=&nbsp;zeros(Float64,&nbsp;K+1,&nbsp;n_z)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from40_89">89</td><td nowrap="nowrap">println("Solving&nbsp;model.")</td><td class="diff_next"></td><td class="diff_header" id="to40_92">92</td><td nowrap="nowrap">println("Solving&nbsp;model.")</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from40_90">90</td><td nowrap="nowrap">v_star,&nbsp;σ_star&nbsp;=&nbsp;solve_inventory_model(v_init,&nbsp;model)</td><td class="diff_next"></td><td class="diff_header" id="to40_93">93</td><td nowrap="nowrap">v_star,&nbsp;σ_star&nbsp;=&nbsp;solve_inventory_model(v_init,&nbsp;model)</td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to40__18"></td><td class="diff_header" id="from40_99">99</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;t&nbsp;in&nbsp;1:(ts_length-1)</td><td class="diff_next"></td><td class="diff_header" id="to40_102">102</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;t&nbsp;in&nbsp;1:(ts_length-1)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from40_100">100</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;D′&nbsp;=&nbsp;rand(G)</td><td class="diff_next"></td><td class="diff_header" id="to40_103">103</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;D′&nbsp;=&nbsp;rand(G)</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to40__19">n</a></td><td class="diff_header" id="from40_101">101</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;X[t+1]&nbsp;=&nbsp;m(X[t]&nbsp;-&nbsp;D′)&nbsp;+&nbsp;σ_star[X[t],&nbsp;i_z[t]]</td><td class="diff_next"><a href="#difflib_chg_to40__19">n</a></td><td class="diff_header" id="to40_104">104</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;X[t+1]&nbsp;=&nbsp;m(X[t]&nbsp;-&nbsp;D′)&nbsp;+&nbsp;σ_star[X[t]<span class="diff_add">&nbsp;+&nbsp;1</span>,&nbsp;i_z[t]]</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from40_102">102</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;end</td><td class="diff_next"></td><td class="diff_header" id="to40_105">105</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;end</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from40_103">103</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;X,&nbsp;z_vals[i_z]</td><td class="diff_next"></td><td class="diff_header" id="to40_106">106</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;X,&nbsp;z_vals[i_z]</td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to40__19"></td><td class="diff_header" id="from40_112">112</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to40_115">115</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from40_113">113</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;ax&nbsp;=&nbsp;axes[1]</td><td class="diff_next"></td><td class="diff_header" id="to40_116">116</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;ax&nbsp;=&nbsp;axes[1]</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to40__20"><a href="#difflib_chg_to40__20">n</a></td><td class="diff_header" id="from40_114">114</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;ax.plot(X,&nbsp;label=<span class="diff_sub">L</span>"<span class="diff_chg">X_</span>t",&nbsp;alpha=0.7)</td><td class="diff_next"><a href="#difflib_chg_to40__20">n</a></td><td class="diff_header" id="to40_117">117</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;ax.plot(X,&nbsp;label="<span class="diff_chg">inven</span>t<span class="diff_add">ory</span>",&nbsp;alpha=0.7)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from40_115">115</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;ax.set_xlabel(L"t",&nbsp;fontsize=fontsize)</td><td class="diff_next"></td><td class="diff_header" id="to40_118">118</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;ax.set_xlabel(L"t",&nbsp;fontsize=fontsize)</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to40__21">n</a></td><td class="diff_header" id="from40_116">116</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;ax.set_ylabel("inventory",&nbsp;fontsize=fontsize)</span></td><td class="diff_next"><a href="#difflib_chg_to40__21">n</a></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from40_117">117</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;ax.legend(fontsize=fontsize,&nbsp;frameon=false)</td><td class="diff_next"></td><td class="diff_header" id="to40_119">119</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;ax.legend(fontsize=fontsize,&nbsp;frameon=false)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from40_118">118</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;ax.set_ylim(0,&nbsp;maximum(X)+3)</td><td class="diff_next"></td><td class="diff_header" id="to40_120">120</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;ax.set_ylim(0,&nbsp;maximum(X)+3)</td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to40__21"></td><td class="diff_header" id="from40_124">124</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;ax.plot(r,&nbsp;label=L"r_t",&nbsp;alpha=0.7)</td><td class="diff_next"></td><td class="diff_header" id="to40_126">126</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;ax.plot(r,&nbsp;label=L"r_t",&nbsp;alpha=0.7)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from40_125">125</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;ax.set_xlabel(L"t",&nbsp;fontsize=fontsize)</td><td class="diff_next"></td><td class="diff_header" id="to40_127">127</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;ax.set_xlabel(L"t",&nbsp;fontsize=fontsize)</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to40__top">t</a></td><td class="diff_header" id="from40_126">126</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;ax.set_ylabel("interest&nbsp;rate",&nbsp;fontsize=fontsize)</span></td><td class="diff_next"><a href="#difflib_chg_to40__top">t</a></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from40_127">127</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;ax.legend(fontsize=fontsize,&nbsp;frameon=false)</td><td class="diff_next"></td><td class="diff_header" id="to40_128">128</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;ax.legend(fontsize=fontsize,&nbsp;frameon=false)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from40_128">128</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;#ax.set_ylim(0,&nbsp;maximum(X)+8)</td><td class="diff_next"></td><td class="diff_header" id="to40_129">129</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;#ax.set_ylim(0,&nbsp;maximum(X)+8)</td></tr>
        </tbody>
    </table><h1>inventory_sim.jl</h1>
<h2><span style="background-color:#ffeab8;"> is unchanged</span></h2>
<h2><span style="background-color:#5b7c99;"> - Python file exists</span></h2>
<h1>is_irreducible.jl</h1>
<h2><span style="background-color:#ffeab8;"> is unchanged</span></h2>
<h2><span style="background-color:#5b7c99;"> - Python file exists</span></h2>
<h1>js_with_sep_sim.jl</h1>
<h2><span style="background-color:#ffeab8;"> is unchanged</span></h2>
<h2><span style="background-color:#fde74c;"> - Python file js_with_sep_sim.py does not exist</span></h2>
<h1>laborer_sim.jl</h1>
<h2><span style="background-color:#ffeab8;"> is unchanged</span></h2>
<h2><span style="background-color:#5b7c99;"> - Python file exists</span></h2>
<h1>lake.jl</h1>
<h2><span style="background-color:#ffeab8;"> is unchanged</span></h2>
<h2><span style="background-color:#fde74c;"> - Python file lake.py does not exist</span></h2>
<h1>linear_iter.jl</h1>
<h2><span style="background-color:#ffeab8;"> is unchanged</span></h2>
<h2><span style="background-color:#5b7c99;"> - Python file exists</span></h2>
<h1>linear_iter_fig.jl</h1>
<h2><span style="background-color:#ffeab8;"> is unchanged</span></h2>
<h2><span style="background-color:#5b7c99;"> - Python file exists</span></h2>
<h1>lqcontrol.py</h1>
<h2><span style="background-color:#ffeab8;"> is unchanged</span></h2>
<h2><span style="background-color:#fde74c;"> - Python file lqcontrol.py does not exist</span></h2>
<h1>markov_js.jl</h1>
<h2><span style="background-color:#ffeab8;"> is unchanged</span></h2>
<h2><span style="background-color:#5b7c99;"> - Python file exists</span></h2>
<h1>markov_js_with_sep.jl</h1>
<h2><span style="background-color:#ffeab8;"> is unchanged</span></h2>
<h2><span style="background-color:#5b7c99;"> - Python file exists</span></h2>
<h1>modified_opt_savings.jl</h1>
<h2><span style="background-color:#ff700a;"> is changed</span></h2>
<h2><span style="background-color:#5b7c99;"> - Python file exists</span></h2>

    <table class="diff" id="difflib_chg_to41__top"
           cellspacing="0" cellpadding="0" rules="groups" >
        <colgroup></colgroup> <colgroup></colgroup> <colgroup></colgroup>
        <colgroup></colgroup> <colgroup></colgroup> <colgroup></colgroup>
        <thead><tr><th class="diff_next"><br /></th><th colspan="2" class="diff_header">old public code</th><th class="diff_next"><br /></th><th colspan="2" class="diff_header">new private (jstac) code</th></tr></thead>
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to41__0"><a href="#difflib_chg_to41__0">f</a></td><td class="diff_header" id="from41_1">1</td><td nowrap="nowrap">using&nbsp;QuantEcon,&nbsp;LinearAlgebra,&nbsp;IterTools</td><td class="diff_next"><a href="#difflib_chg_to41__0">f</a></td><td class="diff_header" id="to41_1">1</td><td nowrap="nowrap">using&nbsp;QuantEcon,&nbsp;LinearAlgebra,&nbsp;IterTools</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from41_2">2</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_2">2</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to41__1">n</a></td><td class="diff_header" id="from41_3">3</td><td nowrap="nowrap">function&nbsp;create_savings_model(;&nbsp;<span class="diff_sub">R=1.01,&nbsp;</span>β=0.98,&nbsp;γ=2.5,&nbsp;&nbsp;</td><td class="diff_next"><a href="#difflib_chg_to41__1">n</a></td><td class="diff_header" id="to41_3">3</td><td nowrap="nowrap">function&nbsp;create_savings_model(;&nbsp;β=0.98,&nbsp;γ=2.5,&nbsp;&nbsp;</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from41_4">4</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;w_min=0.01,&nbsp;w_max=<span class="diff_chg">1</span>0.0,&nbsp;w_size=100,</td><td class="diff_next"></td><td class="diff_header" id="to41_4">4</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;w_min=0.01,&nbsp;w_max=<span class="diff_chg">2</span>0.0,&nbsp;w_size=100,</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from41_5">5</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ρ=0.9,&nbsp;ν=0.1,&nbsp;<span class="diff_chg">z</span>_size=20,</td><td class="diff_next"></td><td class="diff_header" id="to41_5">5</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ρ=0.9,&nbsp;ν=0.1,&nbsp;<span class="diff_chg">y</span>_size=20,</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from41_6">6</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="diff_chg">ϵ</span>_min=<span class="diff_sub">-</span>0.<span class="diff_chg">2</span>5,&nbsp;<span class="diff_chg">ϵ</span>_max=<span class="diff_chg">0</span>.25,&nbsp;<span class="diff_chg">ϵ</span>_size=<span class="diff_chg">30</span>)</td><td class="diff_next"></td><td class="diff_header" id="to41_6">6</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="diff_chg">η</span>_min=0.<span class="diff_chg">7</span>5,&nbsp;<span class="diff_chg">η</span>_max=<span class="diff_chg">1</span>.25,&nbsp;<span class="diff_chg">η</span>_size=<span class="diff_chg">2</span>)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from41_7">7</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;<span class="diff_chg">ϵ</span>_grid&nbsp;=&nbsp;LinRange(<span class="diff_chg">ϵ</span>_min,&nbsp;<span class="diff_chg">ϵ</span>_max,&nbsp;<span class="diff_chg">ϵ</span>_size)&nbsp;&nbsp;</td><td class="diff_next"></td><td class="diff_header" id="to41_7">7</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;<span class="diff_chg">η</span>_grid&nbsp;=&nbsp;LinRange(<span class="diff_chg">η</span>_min,&nbsp;<span class="diff_chg">η</span>_max,&nbsp;<span class="diff_chg">η</span>_size)&nbsp;&nbsp;</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to41__1"></td><td class="diff_header" id="from41_8">8</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;ϕ&nbsp;=&nbsp;ones(<span class="diff_chg">ϵ</span>_size)&nbsp;*&nbsp;(1&nbsp;/&nbsp;<span class="diff_chg">ϵ</span>_size)&nbsp;&nbsp;#&nbsp;Uniform&nbsp;distributi<span class="diff_sub">o</span>n</td><td class="diff_next"></td><td class="diff_header" id="to41_8">8</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;ϕ&nbsp;=&nbsp;ones(<span class="diff_chg">η</span>_size)&nbsp;*&nbsp;(1&nbsp;/&nbsp;<span class="diff_chg">η</span>_size)&nbsp;&nbsp;#&nbsp;Uniform&nbsp;distribut<span class="diff_add">o</span>in</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from41_9">9</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;w_grid&nbsp;=&nbsp;LinRange(w_min,&nbsp;w_max,&nbsp;w_size)&nbsp;&nbsp;</td><td class="diff_next"></td><td class="diff_header" id="to41_9">9</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;w_grid&nbsp;=&nbsp;LinRange(w_min,&nbsp;w_max,&nbsp;w_size)&nbsp;&nbsp;</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to41__2">n</a></td><td class="diff_header" id="from41_10">10</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;mc&nbsp;=&nbsp;tauchen(<span class="diff_chg">z</span>_size,&nbsp;ρ,&nbsp;ν)</td><td class="diff_next"><a href="#difflib_chg_to41__2">n</a></td><td class="diff_header" id="to41_10">10</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;mc&nbsp;=&nbsp;tauchen(<span class="diff_chg">y</span>_size,&nbsp;ρ,&nbsp;ν)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from41_11">11</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;<span class="diff_chg">z</span>_grid,&nbsp;Q&nbsp;=&nbsp;exp.(mc.state_values),&nbsp;mc.p</td><td class="diff_next"></td><td class="diff_header" id="to41_11">11</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;<span class="diff_chg">y</span>_grid,&nbsp;Q&nbsp;=&nbsp;exp.(mc.state_values),&nbsp;mc.p</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to41__2"></td><td class="diff_header" id="from41_12">12</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;(;&nbsp;β,&nbsp;<span class="diff_sub">R,&nbsp;</span>γ,&nbsp;<span class="diff_chg">ϵ</span>_grid,&nbsp;ϕ,&nbsp;w_grid,&nbsp;<span class="diff_chg">z</span>_grid,&nbsp;Q)</td><td class="diff_next"></td><td class="diff_header" id="to41_12">12</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;(;&nbsp;β,&nbsp;γ,&nbsp;<span class="diff_chg">η</span>_grid,&nbsp;ϕ,&nbsp;w_grid,&nbsp;<span class="diff_chg">y</span>_grid,&nbsp;Q)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from41_13">13</td><td nowrap="nowrap">end</td><td class="diff_next"></td><td class="diff_header" id="to41_13">13</td><td nowrap="nowrap">end</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to41__3">n</a></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"><a href="#difflib_chg_to41__3">n</a></td><td class="diff_header" id="to41_14">14</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from41_14">14</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_15">15</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from41_15">15</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_16">16</td><td nowrap="nowrap"></td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to41__3"></td><td class="diff_header" id="from41_17">17</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_18">18</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from41_18">18</td><td nowrap="nowrap">"""</td><td class="diff_next"></td><td class="diff_header" id="to41_19">19</td><td nowrap="nowrap">"""</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to41__4">n</a></td><td class="diff_header" id="from41_19">19</td><td nowrap="nowrap"><span class="diff_sub">The&nbsp;function&nbsp;</span></td><td class="diff_next"><a href="#difflib_chg_to41__4">n</a></td><td class="diff_header" id="to41_20">20</td><td nowrap="nowrap"><span class="diff_add">B(w,&nbsp;y,&nbsp;η,&nbsp;w′)&nbsp;=&nbsp;u(w&nbsp;+&nbsp;y&nbsp;-&nbsp;w′/η))&nbsp;+&nbsp;β&nbsp;Σ&nbsp;v(w′,&nbsp;y′,&nbsp;η′)&nbsp;Q(y,&nbsp;y′)&nbsp;ϕ(η′)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from41_20">20</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from41_21">21</td><td nowrap="nowrap"><span class="diff_sub">B(w,&nbsp;z,&nbsp;ϵ,&nbsp;w′)&nbsp;=&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from41_22">22</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;u(w&nbsp;+&nbsp;z&nbsp;+&nbsp;ϵ&nbsp;-&nbsp;w′/R)&nbsp;+&nbsp;β&nbsp;Σ&nbsp;v(w′,&nbsp;z′,&nbsp;ϵ′)&nbsp;Q(z,&nbsp;z′)&nbsp;ϕ(ϵ′)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from41_23">23</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to41__4"></td><td class="diff_header" id="from41_24">24</td><td nowrap="nowrap">"""</td><td class="diff_next"></td><td class="diff_header" id="to41_21">21</td><td nowrap="nowrap">"""</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from41_25">25</td><td nowrap="nowrap">function&nbsp;B(i,&nbsp;j,&nbsp;k,&nbsp;l,&nbsp;v,&nbsp;model)</td><td class="diff_next"></td><td class="diff_header" id="to41_22">22</td><td nowrap="nowrap">function&nbsp;B(i,&nbsp;j,&nbsp;k,&nbsp;l,&nbsp;v,&nbsp;model)</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to41__5">n</a></td><td class="diff_header" id="from41_26">26</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;(;&nbsp;β,&nbsp;<span class="diff_sub">R,&nbsp;</span>γ,&nbsp;<span class="diff_chg">ϵ</span>_grid,&nbsp;ϕ,&nbsp;w_grid,&nbsp;<span class="diff_chg">z</span>_grid,&nbsp;Q)&nbsp;=&nbsp;model</td><td class="diff_next"><a href="#difflib_chg_to41__5">n</a></td><td class="diff_header" id="to41_23">23</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;(;&nbsp;β,&nbsp;γ,&nbsp;<span class="diff_chg">η</span>_grid,&nbsp;ϕ,&nbsp;w_grid,&nbsp;<span class="diff_chg">y</span>_grid,&nbsp;Q)&nbsp;=&nbsp;model</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from41_27">27</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;w,&nbsp;<span class="diff_chg">z</span>,&nbsp;<span class="diff_chg">ϵ</span>,&nbsp;w′&nbsp;=&nbsp;w_grid[i],&nbsp;<span class="diff_chg">z</span>_grid[j],&nbsp;<span class="diff_chg">ϵ</span>_grid[k],&nbsp;w_grid[l]</td><td class="diff_next"></td><td class="diff_header" id="to41_24">24</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;w,&nbsp;<span class="diff_chg">y</span>,&nbsp;<span class="diff_chg">η</span>,&nbsp;w′&nbsp;=&nbsp;w_grid[i],&nbsp;<span class="diff_chg">y</span>_grid[j],&nbsp;<span class="diff_chg">η</span>_grid[k],&nbsp;w_grid[l]</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_25">25</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;u(c)&nbsp;=&nbsp;c^(1-γ)/(1-γ)</span></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to41__5"></td><td class="diff_header" id="from41_28">28</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;c&nbsp;=&nbsp;w&nbsp;+&nbsp;<span class="diff_chg">z&nbsp;+&nbsp;ϵ</span>&nbsp;-&nbsp;(w′/&nbsp;<span class="diff_chg">R</span>)</td><td class="diff_next"></td><td class="diff_header" id="to41_26">26</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;c&nbsp;=&nbsp;w&nbsp;+&nbsp;<span class="diff_chg">y</span>&nbsp;-&nbsp;(w′/&nbsp;<span class="diff_chg">η</span>)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from41_29">29</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;exp_value&nbsp;=&nbsp;0.0</td><td class="diff_next"></td><td class="diff_header" id="to41_27">27</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;exp_value&nbsp;=&nbsp;0.0</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to41__6">n</a></td><td class="diff_header" id="from41_30">30</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;m&nbsp;in&nbsp;eachindex(<span class="diff_chg">z</span>_grid)</td><td class="diff_next"><a href="#difflib_chg_to41__6">n</a></td><td class="diff_header" id="to41_28">28</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;m&nbsp;in&nbsp;eachindex(<span class="diff_chg">y</span>_grid)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from41_31">31</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;n&nbsp;in&nbsp;eachindex(<span class="diff_chg">ϵ</span>_grid)</td><td class="diff_next"></td><td class="diff_header" id="to41_29">29</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;n&nbsp;in&nbsp;eachindex(<span class="diff_chg">η</span>_grid)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from41_32">32</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exp_value&nbsp;+=&nbsp;v[l,&nbsp;m,&nbsp;n]&nbsp;*&nbsp;Q[j,&nbsp;m]&nbsp;*&nbsp;ϕ[n]</td><td class="diff_next"></td><td class="diff_header" id="to41_30">30</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exp_value&nbsp;+=&nbsp;v[l,&nbsp;m,&nbsp;n]&nbsp;*&nbsp;Q[j,&nbsp;m]&nbsp;*&nbsp;ϕ[n]</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to41__6"></td><td class="diff_header" id="from41_33">33</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</td><td class="diff_next"></td><td class="diff_header" id="to41_31">31</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from41_34">34</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;end</td><td class="diff_next"></td><td class="diff_header" id="to41_32">32</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;end</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to41__7">n</a></td><td class="diff_header" id="from41_35">35</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;c&nbsp;&gt;&nbsp;0&nbsp;?&nbsp;c<span class="diff_sub">^(1-γ</span>)<span class="diff_sub">/(1-γ)</span>&nbsp;+&nbsp;β&nbsp;*&nbsp;exp_value&nbsp;:&nbsp;-Inf</td><td class="diff_next"><a href="#difflib_chg_to41__7">n</a></td><td class="diff_header" id="to41_33">33</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;c&nbsp;&gt;&nbsp;0&nbsp;?&nbsp;<span class="diff_add">u(</span>c)&nbsp;+&nbsp;β&nbsp;*&nbsp;exp_value&nbsp;:&nbsp;-Inf</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from41_36">36</td><td nowrap="nowrap">end</td><td class="diff_next"></td><td class="diff_header" id="to41_34">34</td><td nowrap="nowrap">end</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from41_37">37</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_35">35</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to41__7"></td><td class="diff_header" id="from41_38">38</td><td nowrap="nowrap">"The&nbsp;policy&nbsp;operator."</td><td class="diff_next"></td><td class="diff_header" id="to41_36">36</td><td nowrap="nowrap">"The&nbsp;policy&nbsp;operator."</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from41_39">39</td><td nowrap="nowrap">function&nbsp;T_σ(v,&nbsp;σ,&nbsp;model)</td><td class="diff_next"></td><td class="diff_header" id="to41_37">37</td><td nowrap="nowrap">function&nbsp;T_σ(v,&nbsp;σ,&nbsp;model)</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to41__8">n</a></td><td class="diff_header" id="from41_40">40</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;(;&nbsp;β,&nbsp;<span class="diff_sub">R,&nbsp;</span>γ,&nbsp;<span class="diff_chg">ϵ</span>_grid,&nbsp;ϕ,&nbsp;w_grid,&nbsp;<span class="diff_chg">z</span>_grid,&nbsp;Q)&nbsp;=&nbsp;model</td><td class="diff_next"><a href="#difflib_chg_to41__8">n</a></td><td class="diff_header" id="to41_38">38</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;(;&nbsp;β,&nbsp;γ,&nbsp;<span class="diff_chg">η</span>_grid,&nbsp;ϕ,&nbsp;w_grid,&nbsp;<span class="diff_chg">y</span>_grid,&nbsp;Q)&nbsp;=&nbsp;model</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_39">39</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;grids&nbsp;=&nbsp;w_grid,&nbsp;y_grid,&nbsp;η_grid</span></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to41__8"></td><td class="diff_header" id="from41_41">41</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;w_idx,&nbsp;<span class="diff_chg">z</span>_idx,&nbsp;<span class="diff_chg">ϵ</span>_idx&nbsp;=&nbsp;(eachindex(g)&nbsp;for&nbsp;g&nbsp;in&nbsp;<span class="diff_sub">(w_</span>grid<span class="diff_chg">,&nbsp;z_grid,&nbsp;ϵ_grid</span>)<span class="diff_sub">)</span></td><td class="diff_next"></td><td class="diff_header" id="to41_40">40</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;w_idx,&nbsp;<span class="diff_chg">y</span>_idx,&nbsp;<span class="diff_chg">η</span>_idx&nbsp;=&nbsp;(eachindex(g)&nbsp;for&nbsp;g&nbsp;in&nbsp;grid<span class="diff_chg">s</span>)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from41_42">42</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;v_new&nbsp;=&nbsp;similar(v)</td><td class="diff_next"></td><td class="diff_header" id="to41_41">41</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;v_new&nbsp;=&nbsp;similar(v)</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to41__9">n</a></td><td class="diff_header" id="from41_43">43</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(i,&nbsp;j,&nbsp;k)&nbsp;in&nbsp;product(w_idx,&nbsp;<span class="diff_chg">z</span>_idx,&nbsp;<span class="diff_chg">ϵ</span>_idx)</td><td class="diff_next"><a href="#difflib_chg_to41__9">n</a></td><td class="diff_header" id="to41_42">42</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(i,&nbsp;j,&nbsp;k)&nbsp;in&nbsp;product(w_idx,&nbsp;<span class="diff_chg">y</span>_idx,&nbsp;<span class="diff_chg">η</span>_idx)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from41_44">44</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;v_new[i,&nbsp;j,&nbsp;k]&nbsp;=&nbsp;B(i,&nbsp;j,&nbsp;k,&nbsp;σ[i,&nbsp;j,&nbsp;k],&nbsp;v,&nbsp;model)&nbsp;</td><td class="diff_next"></td><td class="diff_header" id="to41_43">43</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;v_new[i,&nbsp;j,&nbsp;k]&nbsp;=&nbsp;B(i,&nbsp;j,&nbsp;k,&nbsp;σ[i,&nbsp;j,&nbsp;k],&nbsp;v,&nbsp;model)&nbsp;</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from41_45">45</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;end</td><td class="diff_next"></td><td class="diff_header" id="to41_44">44</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;end</td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to41__9"></td><td class="diff_header" id="from41_49">49</td><td nowrap="nowrap">"Compute&nbsp;a&nbsp;v-greedy&nbsp;policy."</td><td class="diff_next"></td><td class="diff_header" id="to41_48">48</td><td nowrap="nowrap">"Compute&nbsp;a&nbsp;v-greedy&nbsp;policy."</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from41_50">50</td><td nowrap="nowrap">function&nbsp;get_greedy(v,&nbsp;model)</td><td class="diff_next"></td><td class="diff_header" id="to41_49">49</td><td nowrap="nowrap">function&nbsp;get_greedy(v,&nbsp;model)</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to41__10">n</a></td><td class="diff_header" id="from41_51">51</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;(;&nbsp;β,&nbsp;<span class="diff_sub">R,&nbsp;</span>γ,&nbsp;<span class="diff_chg">ϵ</span>_grid,&nbsp;ϕ,&nbsp;w_grid,&nbsp;<span class="diff_chg">z</span>_grid,&nbsp;Q)&nbsp;=&nbsp;model</td><td class="diff_next"><a href="#difflib_chg_to41__10">n</a></td><td class="diff_header" id="to41_50">50</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;(;&nbsp;β,&nbsp;γ,&nbsp;<span class="diff_chg">η</span>_grid,&nbsp;ϕ,&nbsp;w_grid,&nbsp;<span class="diff_chg">y</span>_grid,&nbsp;Q)&nbsp;=&nbsp;model</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from41_52">52</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;w_idx,&nbsp;<span class="diff_chg">z</span>_idx,&nbsp;<span class="diff_chg">ϵ</span>_idx&nbsp;=&nbsp;(eachindex(g)&nbsp;for&nbsp;g&nbsp;in&nbsp;(w_grid,&nbsp;<span class="diff_chg">z</span>_grid,&nbsp;<span class="diff_chg">ϵ</span>_grid))</td><td class="diff_next"></td><td class="diff_header" id="to41_51">51</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;w_idx,&nbsp;<span class="diff_chg">y</span>_idx,&nbsp;<span class="diff_chg">η</span>_idx&nbsp;=&nbsp;(eachindex(g)&nbsp;for&nbsp;g&nbsp;in&nbsp;(w_grid,&nbsp;<span class="diff_chg">y</span>_grid,&nbsp;<span class="diff_chg">η</span>_grid))</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from41_53">53</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;σ&nbsp;=&nbsp;Array{Int32}(undef,&nbsp;length(w_idx),&nbsp;length(<span class="diff_chg">z</span>_idx),&nbsp;length(<span class="diff_chg">ϵ</span>_idx))</td><td class="diff_next"></td><td class="diff_header" id="to41_52">52</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;σ&nbsp;=&nbsp;Array{Int32}(undef,&nbsp;length(w_idx),&nbsp;length(<span class="diff_chg">y</span>_idx),&nbsp;length(<span class="diff_chg">η</span>_idx))</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from41_54">54</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(i,&nbsp;j,&nbsp;k)&nbsp;in&nbsp;product(w_idx,&nbsp;<span class="diff_chg">z</span>_idx,&nbsp;<span class="diff_chg">ϵ</span>_idx)</td><td class="diff_next"></td><td class="diff_header" id="to41_53">53</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(i,&nbsp;j,&nbsp;k)&nbsp;in&nbsp;product(w_idx,&nbsp;<span class="diff_chg">y</span>_idx,&nbsp;<span class="diff_chg">η</span>_idx)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from41_55">55</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_,&nbsp;σ[i,&nbsp;j,&nbsp;k]&nbsp;=&nbsp;findmax(B(i,&nbsp;j,&nbsp;k,&nbsp;l,&nbsp;v,&nbsp;model)&nbsp;for&nbsp;l&nbsp;in&nbsp;w_idx)</td><td class="diff_next"></td><td class="diff_header" id="to41_54">54</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_,&nbsp;σ[i,&nbsp;j,&nbsp;k]&nbsp;=&nbsp;findmax(B(i,&nbsp;j,&nbsp;k,&nbsp;l,&nbsp;v,&nbsp;model)&nbsp;for&nbsp;l&nbsp;in&nbsp;w_idx)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from41_56">56</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;end</td><td class="diff_next"></td><td class="diff_header" id="to41_55">55</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;end</td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to41__10"></td><td class="diff_header" id="from41_61">61</td><td nowrap="nowrap">"Optimistic&nbsp;policy&nbsp;iteration&nbsp;routine."</td><td class="diff_next"></td><td class="diff_header" id="to41_60">60</td><td nowrap="nowrap">"Optimistic&nbsp;policy&nbsp;iteration&nbsp;routine."</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from41_62">62</td><td nowrap="nowrap">function&nbsp;optimistic_policy_iteration(model;&nbsp;tolerance=1e-5,&nbsp;m=100)</td><td class="diff_next"></td><td class="diff_header" id="to41_61">61</td><td nowrap="nowrap">function&nbsp;optimistic_policy_iteration(model;&nbsp;tolerance=1e-5,&nbsp;m=100)</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to41__11">n</a></td><td class="diff_header" id="from41_63">63</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;(;&nbsp;β,&nbsp;<span class="diff_sub">R,&nbsp;</span>γ,&nbsp;<span class="diff_chg">ϵ</span>_grid,&nbsp;ϕ,&nbsp;w_grid,&nbsp;<span class="diff_chg">z</span>_grid,&nbsp;Q)&nbsp;=&nbsp;model</td><td class="diff_next"><a href="#difflib_chg_to41__11">n</a></td><td class="diff_header" id="to41_62">62</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;(;&nbsp;β,&nbsp;γ,&nbsp;<span class="diff_chg">η</span>_grid,&nbsp;ϕ,&nbsp;w_grid,&nbsp;<span class="diff_chg">y</span>_grid,&nbsp;Q)&nbsp;=&nbsp;model</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from41_64">64</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;v&nbsp;=&nbsp;zeros(length(w_grid),&nbsp;length(<span class="diff_chg">z</span>_grid),&nbsp;length(<span class="diff_chg">ϵ</span>_grid))</td><td class="diff_next"></td><td class="diff_header" id="to41_63">63</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;v&nbsp;=&nbsp;zeros(length(w_grid),&nbsp;length(<span class="diff_chg">y</span>_grid),&nbsp;length(<span class="diff_chg">η</span>_grid))</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from41_65">65</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;error&nbsp;=&nbsp;tolerance&nbsp;+&nbsp;1</td><td class="diff_next"></td><td class="diff_header" id="to41_64">64</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;error&nbsp;=&nbsp;tolerance&nbsp;+&nbsp;1</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from41_66">66</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;error&nbsp;&gt;&nbsp;tolerance</td><td class="diff_next"></td><td class="diff_header" id="to41_65">65</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;error&nbsp;&gt;&nbsp;tolerance</td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to41__11"></td><td class="diff_header" id="from41_77">77</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_76">76</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from41_78">78</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_77">77</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to41__12">n</a></td><td class="diff_header" id="from41_79">79</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"><a href="#difflib_chg_to41__12">n</a></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from41_80">80</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to41__12"></td><td class="diff_header" id="from41_81">81</td><td nowrap="nowrap">##&nbsp;==&nbsp;Functions&nbsp;for&nbsp;modified&nbsp;OPI&nbsp;==&nbsp;##</td><td class="diff_next"></td><td class="diff_header" id="to41_78">78</td><td nowrap="nowrap">##&nbsp;==&nbsp;Functions&nbsp;for&nbsp;modified&nbsp;OPI&nbsp;==&nbsp;##</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from41_82">82</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_79">79</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to41__13"><a href="#difflib_chg_to41__13">n</a></td><td class="diff_header" id="from41_83">83</td><td nowrap="nowrap">"D(w,&nbsp;<span class="diff_chg">z</span>,&nbsp;<span class="diff_chg">ϵ</span>,&nbsp;w′,&nbsp;g)&nbsp;=&nbsp;u(w&nbsp;+&nbsp;<span class="diff_chg">z&nbsp;+&nbsp;ϵ</span>&nbsp;-&nbsp;w′/<span class="diff_chg">R</span>)&nbsp;+&nbsp;β&nbsp;g(<span class="diff_chg">z</span>,&nbsp;w′)."</td><td class="diff_next"><a href="#difflib_chg_to41__13">n</a></td><td class="diff_header" id="to41_80">80</td><td nowrap="nowrap">"D(w,&nbsp;<span class="diff_chg">y</span>,&nbsp;<span class="diff_chg">η</span>,&nbsp;w′,&nbsp;g)&nbsp;=&nbsp;u(w&nbsp;+&nbsp;<span class="diff_chg">y</span>&nbsp;-&nbsp;w′/<span class="diff_chg">η</span>)&nbsp;+&nbsp;β&nbsp;g(<span class="diff_chg">y</span>,&nbsp;w′)."</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from41_84">84</td><td nowrap="nowrap">@inline&nbsp;function&nbsp;D(i,&nbsp;j,&nbsp;k,&nbsp;l,&nbsp;g,&nbsp;model)</td><td class="diff_next"></td><td class="diff_header" id="to41_81">81</td><td nowrap="nowrap">@inline&nbsp;function&nbsp;D(i,&nbsp;j,&nbsp;k,&nbsp;l,&nbsp;g,&nbsp;model)</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to41__14">n</a></td><td class="diff_header" id="from41_85">85</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;(;&nbsp;β,&nbsp;<span class="diff_sub">R,&nbsp;</span>γ,&nbsp;<span class="diff_chg">ϵ</span>_grid,&nbsp;ϕ,&nbsp;w_grid,&nbsp;<span class="diff_chg">z</span>_grid,&nbsp;Q)&nbsp;=&nbsp;model</td><td class="diff_next"><a href="#difflib_chg_to41__14">n</a></td><td class="diff_header" id="to41_82">82</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;(;&nbsp;β,&nbsp;γ,&nbsp;<span class="diff_chg">η</span>_grid,&nbsp;ϕ,&nbsp;w_grid,&nbsp;<span class="diff_chg">y</span>_grid,&nbsp;Q)&nbsp;=&nbsp;model</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from41_86">86</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;w,&nbsp;<span class="diff_chg">z</span>,&nbsp;<span class="diff_chg">ϵ</span>,&nbsp;w′&nbsp;=&nbsp;w_grid[i],&nbsp;<span class="diff_chg">z</span>_grid[j],&nbsp;<span class="diff_chg">ϵ</span>_grid[k],&nbsp;w_grid[l]</td><td class="diff_next"></td><td class="diff_header" id="to41_83">83</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;w,&nbsp;<span class="diff_chg">y</span>,&nbsp;<span class="diff_chg">η</span>,&nbsp;w′&nbsp;=&nbsp;w_grid[i],&nbsp;<span class="diff_chg">y</span>_grid[j],&nbsp;<span class="diff_chg">η</span>_grid[k],&nbsp;w_grid[l]</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_84">84</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;u(c)&nbsp;=&nbsp;c^(1-γ)/(1-γ)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from41_87">87</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;c&nbsp;=&nbsp;w&nbsp;+&nbsp;<span class="diff_chg">z&nbsp;+&nbsp;ϵ</span>&nbsp;-&nbsp;(w′<span class="diff_sub">&nbsp;</span>/<span class="diff_chg">&nbsp;R</span>)</td><td class="diff_next"></td><td class="diff_header" id="to41_85">85</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;c&nbsp;=&nbsp;w&nbsp;+&nbsp;<span class="diff_chg">y</span>&nbsp;-&nbsp;(w′/<span class="diff_chg">η</span>)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from41_88">88</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;c&nbsp;&gt;&nbsp;0&nbsp;?&nbsp;c<span class="diff_sub">^(1-γ</span>)<span class="diff_sub">/(1-γ)</span>&nbsp;+&nbsp;β&nbsp;*&nbsp;g[j,&nbsp;l]&nbsp;:&nbsp;-Inf</td><td class="diff_next"></td><td class="diff_header" id="to41_86">86</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;c&nbsp;&gt;&nbsp;0&nbsp;?&nbsp;<span class="diff_add">u(</span>c)&nbsp;+&nbsp;β&nbsp;*&nbsp;g[j,&nbsp;l]&nbsp;:&nbsp;-Inf</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from41_89">89</td><td nowrap="nowrap">end</td><td class="diff_next"></td><td class="diff_header" id="to41_87">87</td><td nowrap="nowrap">end</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from41_90">90</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_88">88</td><td nowrap="nowrap"></td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to41__14"></td><td class="diff_header" id="from41_92">92</td><td nowrap="nowrap">"Compute&nbsp;a&nbsp;g-greedy&nbsp;policy."</td><td class="diff_next"></td><td class="diff_header" id="to41_90">90</td><td nowrap="nowrap">"Compute&nbsp;a&nbsp;g-greedy&nbsp;policy."</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from41_93">93</td><td nowrap="nowrap">function&nbsp;get_g_greedy(g,&nbsp;model)</td><td class="diff_next"></td><td class="diff_header" id="to41_91">91</td><td nowrap="nowrap">function&nbsp;get_g_greedy(g,&nbsp;model)</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to41__15">n</a></td><td class="diff_header" id="from41_94">94</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;(;&nbsp;β,&nbsp;<span class="diff_sub">R,&nbsp;</span>γ,&nbsp;<span class="diff_chg">ϵ</span>_grid,&nbsp;ϕ,&nbsp;w_grid,&nbsp;<span class="diff_chg">z</span>_grid,&nbsp;Q)&nbsp;=&nbsp;model</td><td class="diff_next"><a href="#difflib_chg_to41__15">n</a></td><td class="diff_header" id="to41_92">92</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;(;&nbsp;β,&nbsp;γ,&nbsp;<span class="diff_chg">η</span>_grid,&nbsp;ϕ,&nbsp;w_grid,&nbsp;<span class="diff_chg">y</span>_grid,&nbsp;Q)&nbsp;=&nbsp;model</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from41_95">95</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;w_idx,&nbsp;<span class="diff_chg">z</span>_idx,&nbsp;<span class="diff_chg">ϵ</span>_idx&nbsp;=&nbsp;(eachindex(g)&nbsp;for&nbsp;g&nbsp;in&nbsp;(w_grid,&nbsp;<span class="diff_chg">z</span>_grid,&nbsp;<span class="diff_chg">ϵ</span>_grid))</td><td class="diff_next"></td><td class="diff_header" id="to41_93">93</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;w_idx,&nbsp;<span class="diff_chg">y</span>_idx,&nbsp;<span class="diff_chg">η</span>_idx&nbsp;=&nbsp;(eachindex(g)&nbsp;for&nbsp;g&nbsp;in&nbsp;(w_grid,&nbsp;<span class="diff_chg">y</span>_grid,&nbsp;<span class="diff_chg">η</span>_grid))</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from41_96">96</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;σ&nbsp;=&nbsp;Array{Int32}(undef,&nbsp;length(w_idx),&nbsp;length(<span class="diff_chg">z</span>_idx),&nbsp;length(<span class="diff_chg">ϵ</span>_idx))</td><td class="diff_next"></td><td class="diff_header" id="to41_94">94</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;σ&nbsp;=&nbsp;Array{Int32}(undef,&nbsp;length(w_idx),&nbsp;length(<span class="diff_chg">y</span>_idx),&nbsp;length(<span class="diff_chg">η</span>_idx))</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from41_97">97</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(i,&nbsp;j,&nbsp;k)&nbsp;in&nbsp;product(w_idx,&nbsp;<span class="diff_chg">z</span>_idx,&nbsp;<span class="diff_chg">ϵ</span>_idx)</td><td class="diff_next"></td><td class="diff_header" id="to41_95">95</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(i,&nbsp;j,&nbsp;k)&nbsp;in&nbsp;product(w_idx,&nbsp;<span class="diff_chg">y</span>_idx,&nbsp;<span class="diff_chg">η</span>_idx)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from41_98">98</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_,&nbsp;σ[i,&nbsp;j,&nbsp;k]&nbsp;=&nbsp;findmax(D(i,&nbsp;j,&nbsp;k,&nbsp;l,&nbsp;g,&nbsp;model)&nbsp;for&nbsp;l&nbsp;in&nbsp;w_idx)</td><td class="diff_next"></td><td class="diff_header" id="to41_96">96</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_,&nbsp;σ[i,&nbsp;j,&nbsp;k]&nbsp;=&nbsp;findmax(D(i,&nbsp;j,&nbsp;k,&nbsp;l,&nbsp;g,&nbsp;model)&nbsp;for&nbsp;l&nbsp;in&nbsp;w_idx)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from41_99">99</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;end</td><td class="diff_next"></td><td class="diff_header" id="to41_97">97</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;end</td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to41__15"></td><td class="diff_header" id="from41_104">104</td><td nowrap="nowrap">"The&nbsp;modified&nbsp;policy&nbsp;operator."</td><td class="diff_next"></td><td class="diff_header" id="to41_102">102</td><td nowrap="nowrap">"The&nbsp;modified&nbsp;policy&nbsp;operator."</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from41_105">105</td><td nowrap="nowrap">function&nbsp;R_σ(g,&nbsp;σ,&nbsp;model)</td><td class="diff_next"></td><td class="diff_header" id="to41_103">103</td><td nowrap="nowrap">function&nbsp;R_σ(g,&nbsp;σ,&nbsp;model)</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to41__16">n</a></td><td class="diff_header" id="from41_106">106</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;(;&nbsp;β,&nbsp;<span class="diff_sub">R,&nbsp;</span>γ,&nbsp;<span class="diff_chg">ϵ</span>_grid,&nbsp;ϕ,&nbsp;w_grid,&nbsp;<span class="diff_chg">z</span>_grid,&nbsp;Q)&nbsp;=&nbsp;model</td><td class="diff_next"><a href="#difflib_chg_to41__16">n</a></td><td class="diff_header" id="to41_104">104</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;(;&nbsp;β,&nbsp;γ,&nbsp;<span class="diff_chg">η</span>_grid,&nbsp;ϕ,&nbsp;w_grid,&nbsp;<span class="diff_chg">y</span>_grid,&nbsp;Q)&nbsp;=&nbsp;model</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to41__16"></td><td class="diff_header" id="from41_107">107</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;w_idx,&nbsp;<span class="diff_chg">z</span>_idx,&nbsp;<span class="diff_chg">ϵ</span>_idx&nbsp;=&nbsp;(eachindex(g)&nbsp;for&nbsp;g&nbsp;in&nbsp;(w_grid,&nbsp;<span class="diff_chg">z</span>_grid,&nbsp;<span class="diff_chg">ϵ</span>_grid))</td><td class="diff_next"></td><td class="diff_header" id="to41_105">105</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;w_idx,&nbsp;<span class="diff_chg">y</span>_idx,&nbsp;<span class="diff_chg">η</span>_idx&nbsp;=&nbsp;(eachindex(g)&nbsp;for&nbsp;g&nbsp;in&nbsp;(w_grid,&nbsp;<span class="diff_chg">y</span>_grid,&nbsp;<span class="diff_chg">η</span>_grid))</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from41_108">108</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;g_new&nbsp;=&nbsp;similar(g)</td><td class="diff_next"></td><td class="diff_header" id="to41_106">106</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;g_new&nbsp;=&nbsp;similar(g)</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to41__17"><a href="#difflib_chg_to41__17">n</a></td><td class="diff_header" id="from41_109">109</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(j,&nbsp;i′)&nbsp;in&nbsp;product(<span class="diff_chg">z</span>_idx,&nbsp;w_idx)&nbsp;&nbsp;#&nbsp;j&nbsp;<span class="diff_chg">-&gt;&nbsp;z</span>,&nbsp;i′&nbsp;<span class="diff_chg">-&gt;</span>&nbsp;w′&nbsp;</td><td class="diff_next"><a href="#difflib_chg_to41__17">n</a></td><td class="diff_header" id="to41_107">107</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(j,&nbsp;i′)&nbsp;in&nbsp;product(<span class="diff_chg">y</span>_idx,&nbsp;w_idx)&nbsp;&nbsp;#&nbsp;j&nbsp;<span class="diff_chg">indexes&nbsp;y</span>,&nbsp;i′&nbsp;<span class="diff_chg">indexes</span>&nbsp;w′&nbsp;</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from41_110">110</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;out&nbsp;=&nbsp;0.0</td><td class="diff_next"></td><td class="diff_header" id="to41_108">108</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;out&nbsp;=&nbsp;0.0</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to41__18">n</a></td><td class="diff_header" id="from41_111">111</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;j′&nbsp;in&nbsp;z_idx&nbsp;#&nbsp;j′&nbsp;-&gt;&nbsp;z′</span></td><td class="diff_next"><a href="#difflib_chg_to41__18">n</a></td><td class="diff_header" id="to41_109">109</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;j′&nbsp;in&nbsp;y_idx&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;j′&nbsp;indexes&nbsp;y′</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from41_112">112</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;k′&nbsp;in&nbsp;ϵ_idx&nbsp;#&nbsp;k′&nbsp;-&gt;&nbsp;ϵ′</span></td><td class="diff_next"></td><td class="diff_header" id="to41_110">110</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;k′&nbsp;in&nbsp;η_idx&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;k′&nbsp;indexes&nbsp;η′</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from41_113">113</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;D(w′,&nbsp;z′,&nbsp;ϵ′,&nbsp;σ(w′,&nbsp;z′,&nbsp;ϵ′),&nbsp;g)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from41_114">114</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;out&nbsp;+=&nbsp;D(i′,&nbsp;j′,&nbsp;k′,&nbsp;σ[i′,&nbsp;j′,&nbsp;k′],&nbsp;g,&nbsp;model)&nbsp;*&nbsp;</td><td class="diff_next"></td><td class="diff_header" id="to41_111">111</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;out&nbsp;+=&nbsp;D(i′,&nbsp;j′,&nbsp;k′,&nbsp;σ[i′,&nbsp;j′,&nbsp;k′],&nbsp;g,&nbsp;model)&nbsp;*&nbsp;</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from41_115">115</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Q[j,&nbsp;j′]&nbsp;*&nbsp;ϕ[k′]</td><td class="diff_next"></td><td class="diff_header" id="to41_112">112</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Q[j,&nbsp;j′]&nbsp;*&nbsp;ϕ[k′]</td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to41__18"></td><td class="diff_header" id="from41_124">124</td><td nowrap="nowrap">"Modified&nbsp;optimistic&nbsp;policy&nbsp;iteration&nbsp;routine."</td><td class="diff_next"></td><td class="diff_header" id="to41_121">121</td><td nowrap="nowrap">"Modified&nbsp;optimistic&nbsp;policy&nbsp;iteration&nbsp;routine."</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from41_125">125</td><td nowrap="nowrap">function&nbsp;mod_opi(model;&nbsp;tolerance=1e-5,&nbsp;m=100)</td><td class="diff_next"></td><td class="diff_header" id="to41_122">122</td><td nowrap="nowrap">function&nbsp;mod_opi(model;&nbsp;tolerance=1e-5,&nbsp;m=100)</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to41__19">n</a></td><td class="diff_header" id="from41_126">126</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;(;&nbsp;β,&nbsp;<span class="diff_sub">R,&nbsp;</span>γ,&nbsp;<span class="diff_chg">ϵ</span>_grid,&nbsp;ϕ,&nbsp;w_grid,&nbsp;<span class="diff_chg">z</span>_grid,&nbsp;Q)&nbsp;=&nbsp;model</td><td class="diff_next"><a href="#difflib_chg_to41__19">n</a></td><td class="diff_header" id="to41_123">123</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;(;&nbsp;β,&nbsp;γ,&nbsp;<span class="diff_chg">η</span>_grid,&nbsp;ϕ,&nbsp;w_grid,&nbsp;<span class="diff_chg">y</span>_grid,&nbsp;Q)&nbsp;=&nbsp;model</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from41_127">127</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;g&nbsp;=&nbsp;zeros(length(<span class="diff_chg">z</span>_grid),&nbsp;length(w_grid))</td><td class="diff_next"></td><td class="diff_header" id="to41_124">124</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;g&nbsp;=&nbsp;zeros(length(<span class="diff_chg">y</span>_grid),&nbsp;length(w_grid))</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from41_128">128</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;error&nbsp;=&nbsp;tolerance&nbsp;+&nbsp;1</td><td class="diff_next"></td><td class="diff_header" id="to41_125">125</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;error&nbsp;=&nbsp;tolerance&nbsp;+&nbsp;1</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from41_129">129</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;error&nbsp;&gt;&nbsp;tolerance</td><td class="diff_next"></td><td class="diff_header" id="to41_126">126</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;error&nbsp;&gt;&nbsp;tolerance</td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to41__19"></td><td class="diff_header" id="from41_140">140</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_137">137</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from41_141">141</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_138">138</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to41__20">n</a></td><td class="diff_header" id="from41_142">142</td><td nowrap="nowrap"><span class="diff_sub">#&nbsp;Plots</span></td><td class="diff_next"><a href="#difflib_chg_to41__20">n</a></td><td class="diff_header" id="to41_139">139</td><td nowrap="nowrap"><span class="diff_add">#&nbsp;==&nbsp;Simulations&nbsp;and&nbsp;inequality&nbsp;measures&nbsp;==&nbsp;#</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_140">140</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_141">141</td><td nowrap="nowrap"><span class="diff_add">function&nbsp;simulate_wealth(m)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_142">142</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_143">143</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;model&nbsp;=&nbsp;create_savings_model()</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_144">144</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;(;&nbsp;β,&nbsp;γ,&nbsp;η_grid,&nbsp;ϕ,&nbsp;w_grid,&nbsp;y_grid,&nbsp;Q)&nbsp;=&nbsp;model</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_145">145</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;σ_star&nbsp;=&nbsp;mod_opi(model)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_146">146</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_147">147</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Simulate&nbsp;labor&nbsp;income</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_148">148</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;mc&nbsp;=&nbsp;MarkovChain(Q)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_149">149</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;y_idx_series&nbsp;=&nbsp;simulate(mc,&nbsp;m)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_150">150</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_151">151</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;IID&nbsp;Markov&nbsp;chain&nbsp;with&nbsp;uniform&nbsp;draws</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_152">152</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;l&nbsp;=&nbsp;length(η_grid)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_153">153</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;mc&nbsp;=&nbsp;MarkovChain(ones(l,&nbsp;l)&nbsp;*&nbsp;(1/l))</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_154">154</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;η_idx_series&nbsp;=&nbsp;simulate(mc,&nbsp;m)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_155">155</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_156">156</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;w_idx_series&nbsp;=&nbsp;similar(y_idx_series)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_157">157</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;w_idx_series[1]&nbsp;=&nbsp;1</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_158">158</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;t&nbsp;in&nbsp;1:(m-1)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_159">159</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;i,&nbsp;j,&nbsp;k&nbsp;=&nbsp;w_idx_series[t],&nbsp;y_idx_series[t],&nbsp;η_idx_series[t]</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_160">160</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;w_idx_series[t+1]&nbsp;=&nbsp;σ_star[i,&nbsp;j,&nbsp;k]</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_161">161</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;end</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_162">162</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_163">163</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;w_series&nbsp;=&nbsp;w_grid[w_idx_series]</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_164">164</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;w_series</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_165">165</td><td nowrap="nowrap"><span class="diff_add">end</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_166">166</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_167">167</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_168">168</td><td nowrap="nowrap"><span class="diff_add">function&nbsp;lorenz(v)&nbsp;&nbsp;#&nbsp;assumed&nbsp;sorted&nbsp;vector</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_169">169</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;S&nbsp;=&nbsp;cumsum(v)&nbsp;&nbsp;#&nbsp;cumulative&nbsp;sums:&nbsp;[v[1],&nbsp;v[1]&nbsp;+&nbsp;v[2],&nbsp;...&nbsp;]</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_170">170</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;F&nbsp;=&nbsp;(1:length(v))&nbsp;/&nbsp;length(v)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_171">171</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;L&nbsp;=&nbsp;S&nbsp;./&nbsp;S[end]</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_172">172</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;(;&nbsp;F,&nbsp;L)&nbsp;#&nbsp;returns&nbsp;named&nbsp;tuple</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_173">173</td><td nowrap="nowrap"><span class="diff_add">end</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_174">174</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_175">175</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_176">176</td><td nowrap="nowrap"><span class="diff_add">gini(v)&nbsp;=&nbsp;(2&nbsp;*&nbsp;sum(i&nbsp;*&nbsp;y&nbsp;for&nbsp;(i,y)&nbsp;in&nbsp;enumerate(v))/sum(v)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_177">177</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;(length(v)&nbsp;+&nbsp;1))/length(v)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_178">178</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_179">179</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_180">180</td><td nowrap="nowrap"><span class="diff_add">#&nbsp;==&nbsp;Plots&nbsp;==&nbsp;#</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from41_143">143</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_181">181</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from41_144">144</td><td nowrap="nowrap">using&nbsp;PyPlot</td><td class="diff_next"></td><td class="diff_header" id="to41_182">182</td><td nowrap="nowrap">using&nbsp;PyPlot</td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to41__20"></td><td class="diff_header" id="from41_148">148</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_186">186</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from41_149">149</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_187">187</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to41__21">n</a></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"><a href="#difflib_chg_to41__21">n</a></td><td class="diff_header" id="to41_188">188</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from41_150">150</td><td nowrap="nowrap">function&nbsp;plot_contours(;&nbsp;savefig=false,&nbsp;</td><td class="diff_next"></td><td class="diff_header" id="to41_189">189</td><td nowrap="nowrap">function&nbsp;plot_contours(;&nbsp;savefig=false,&nbsp;</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from41_151">151</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;figname="../figures/modified_opt_savings_1.pdf")</td><td class="diff_next"></td><td class="diff_header" id="to41_190">190</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;figname="../figures/modified_opt_savings_1.pdf")</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to41__21"></td><td class="diff_header" id="from41_152">152</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_191">191</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from41_153">153</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;model&nbsp;=&nbsp;create_savings_model()</td><td class="diff_next"></td><td class="diff_header" id="to41_192">192</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;model&nbsp;=&nbsp;create_savings_model()</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to41__22">n</a></td><td class="diff_header" id="from41_154">154</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;(;&nbsp;β,&nbsp;<span class="diff_sub">R,&nbsp;</span>γ,&nbsp;<span class="diff_chg">ϵ</span>_grid,&nbsp;ϕ,&nbsp;w_grid,&nbsp;<span class="diff_chg">z</span>_grid,&nbsp;Q)&nbsp;=&nbsp;model</td><td class="diff_next"><a href="#difflib_chg_to41__22">n</a></td><td class="diff_header" id="to41_193">193</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;(;&nbsp;β,&nbsp;γ,&nbsp;<span class="diff_chg">η</span>_grid,&nbsp;ϕ,&nbsp;w_grid,&nbsp;<span class="diff_chg">y</span>_grid,&nbsp;Q)&nbsp;=&nbsp;model</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from41_155">155</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;σ_star&nbsp;=&nbsp;mod_opi(model)</span></td><td class="diff_next"></td><td class="diff_header" id="to41_194">194</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;σ_star&nbsp;=&nbsp;optimistic_policy_iteration(model)</span></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to41__22"></td><td class="diff_header" id="from41_156">156</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_195">195</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from41_157">157</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;fig,&nbsp;axes&nbsp;=&nbsp;plt.subplots(2,&nbsp;1,&nbsp;figsize=(10,&nbsp;8))</td><td class="diff_next"></td><td class="diff_header" id="to41_196">196</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;fig,&nbsp;axes&nbsp;=&nbsp;plt.subplots(2,&nbsp;1,&nbsp;figsize=(10,&nbsp;8))</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to41__23">n</a></td><td class="diff_header" id="from41_158">158</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;<span class="diff_chg">z</span>_idx,&nbsp;<span class="diff_chg">ϵ</span>_idx&nbsp;=&nbsp;eachindex(<span class="diff_chg">z</span>_grid),&nbsp;eachindex(<span class="diff_chg">ϵ</span>_grid)</td><td class="diff_next"><a href="#difflib_chg_to41__23">n</a></td><td class="diff_header" id="to41_197">197</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;<span class="diff_chg">y</span>_idx,&nbsp;<span class="diff_chg">η</span>_idx&nbsp;=&nbsp;eachindex(<span class="diff_chg">y</span>_grid),&nbsp;eachindex(<span class="diff_chg">η</span>_grid)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from41_159">159</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;H&nbsp;=&nbsp;zeros(length(<span class="diff_chg">z</span>_grid),&nbsp;length(<span class="diff_chg">ϵ</span>_grid))</td><td class="diff_next"></td><td class="diff_header" id="to41_198">198</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;H&nbsp;=&nbsp;zeros(length(<span class="diff_chg">y</span>_grid),&nbsp;length(<span class="diff_chg">η</span>_grid))</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from41_160">160</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_199">199</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from41_161">161</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;w_indices&nbsp;=&nbsp;(1,&nbsp;length(w_grid))</td><td class="diff_next"></td><td class="diff_header" id="to41_200">200</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;w_indices&nbsp;=&nbsp;(1,&nbsp;length(w_grid))</td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to41__23"></td><td class="diff_header" id="from41_163">163</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(ax,&nbsp;w_idx,&nbsp;title)&nbsp;in&nbsp;zip(axes,&nbsp;w_indices,&nbsp;titles)</td><td class="diff_next"></td><td class="diff_header" id="to41_202">202</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(ax,&nbsp;w_idx,&nbsp;title)&nbsp;in&nbsp;zip(axes,&nbsp;w_indices,&nbsp;titles)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from41_164">164</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_203">203</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to41__24">n</a></td><td class="diff_header" id="from41_165">165</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(i_<span class="diff_chg">z</span>,&nbsp;i_ϵ)&nbsp;in&nbsp;product(<span class="diff_chg">z</span>_idx,&nbsp;<span class="diff_chg">ϵ</span>_idx)</td><td class="diff_next"><a href="#difflib_chg_to41__24">n</a></td><td class="diff_header" id="to41_204">204</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(i_<span class="diff_chg">y</span>,&nbsp;i_ϵ)&nbsp;in&nbsp;product(<span class="diff_chg">y</span>_idx,&nbsp;<span class="diff_chg">η</span>_idx)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from41_166">166</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;w,&nbsp;<span class="diff_chg">z</span>,&nbsp;<span class="diff_chg">ϵ</span>&nbsp;=&nbsp;w_grid[w_idx],&nbsp;<span class="diff_chg">z</span>_grid[i_<span class="diff_chg">z</span>],&nbsp;<span class="diff_chg">ϵ</span>_grid[i_ϵ]</td><td class="diff_next"></td><td class="diff_header" id="to41_205">205</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;w,&nbsp;<span class="diff_chg">y</span>,&nbsp;<span class="diff_chg">η</span>&nbsp;=&nbsp;w_grid[w_idx],&nbsp;<span class="diff_chg">y</span>_grid[i_<span class="diff_chg">y</span>],&nbsp;<span class="diff_chg">η</span>_grid[i_ϵ]</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from41_167">167</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;H[i_<span class="diff_chg">z</span>,&nbsp;i_ϵ]&nbsp;=&nbsp;w_grid[σ_star[w_idx,&nbsp;i_<span class="diff_chg">z</span>,&nbsp;i_ϵ]]</td><td class="diff_next"></td><td class="diff_header" id="to41_206">206</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;H[i_<span class="diff_chg">y</span>,&nbsp;i_ϵ]&nbsp;=&nbsp;w_grid[σ_star[w_idx,&nbsp;i_<span class="diff_chg">y</span>,&nbsp;i_ϵ]]<span class="diff_add">&nbsp;/&nbsp;(w+y)</span></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to41__24"></td><td class="diff_header" id="from41_168">168</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</td><td class="diff_next"></td><td class="diff_header" id="to41_207">207</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from41_169">169</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_208">208</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to41__25">n</a></td><td class="diff_header" id="from41_170">170</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cs1&nbsp;=&nbsp;ax.contourf(<span class="diff_chg">z</span>_grid,&nbsp;<span class="diff_chg">ϵ</span>_grid,&nbsp;transpose(H),&nbsp;alpha=0.5)</td><td class="diff_next"><a href="#difflib_chg_to41__25">n</a></td><td class="diff_header" id="to41_209">209</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cs1&nbsp;=&nbsp;ax.contourf(<span class="diff_chg">y</span>_grid,&nbsp;<span class="diff_chg">η</span>_grid,&nbsp;transpose(H),&nbsp;alpha=0.5)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from41_171">171</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#ctr1&nbsp;=&nbsp;ax.contour(w_vals,&nbsp;z_vals,&nbsp;transpose(H),&nbsp;levels=[0.0])</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from41_172">172</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#plt.clabel(ctr1,&nbsp;inline=1,&nbsp;fontsize=13)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from41_173">173</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;plt.colorbar(cs1,&nbsp;ax=ax)&nbsp;#,&nbsp;format="%.6f")</td><td class="diff_next"></td><td class="diff_header" id="to41_210">210</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;plt.colorbar(cs1,&nbsp;ax=ax)&nbsp;#,&nbsp;format="%.6f")</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to41__25"></td><td class="diff_header" id="from41_174">174</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_211">211</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from41_175">175</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ax.set_title(title,&nbsp;fontsize=fontsize)</td><td class="diff_next"></td><td class="diff_header" id="to41_212">212</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ax.set_title(title,&nbsp;fontsize=fontsize)</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to41__26">n</a></td><td class="diff_header" id="from41_176">176</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ax.set_xlabel(L"<span class="diff_chg">z</span>",&nbsp;fontsize=fontsize)</td><td class="diff_next"><a href="#difflib_chg_to41__26">n</a></td><td class="diff_header" id="to41_213">213</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ax.set_xlabel(L"<span class="diff_chg">y</span>",&nbsp;fontsize=fontsize)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from41_177">177</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ax.set_ylabel(L"\varepsilon",&nbsp;fontsize=fontsize)</td><td class="diff_next"></td><td class="diff_header" id="to41_214">214</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ax.set_ylabel(L"\varepsilon",&nbsp;fontsize=fontsize)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from41_178">178</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;end</td><td class="diff_next"></td><td class="diff_header" id="to41_215">215</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;end</td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to41__26"></td><td class="diff_header" id="from41_186">186</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_223">223</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from41_187">187</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_224">224</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to41__top">t</a></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"><a href="#difflib_chg_to41__top">t</a></td><td class="diff_header" id="to41_225">225</td><td nowrap="nowrap"><span class="diff_add">function&nbsp;plot_policies(;&nbsp;savefig=false,&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_226">226</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;figname="../figures/modified_opt_savings_2.pdf")</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_227">227</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_228">228</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;model&nbsp;=&nbsp;create_savings_model()</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_229">229</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;(;&nbsp;β,&nbsp;γ,&nbsp;η_grid,&nbsp;ϕ,&nbsp;w_grid,&nbsp;y_grid,&nbsp;Q)&nbsp;=&nbsp;model</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_230">230</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;σ_star&nbsp;=&nbsp;mod_opi(model)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_231">231</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;y_bar&nbsp;=&nbsp;floor(Int,&nbsp;length(y_grid)&nbsp;/&nbsp;2)&nbsp;&nbsp;#&nbsp;Index&nbsp;of&nbsp;mid-point&nbsp;of&nbsp;y_grid</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_232">232</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_233">233</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;fig,&nbsp;ax&nbsp;=&nbsp;plt.subplots(figsize=(9,&nbsp;5.2))</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_234">234</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;ax.plot(w_grid,&nbsp;w_grid,&nbsp;"k--",&nbsp;label=L"45")</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_235">235</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_236">236</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(i,&nbsp;η)&nbsp;in&nbsp;enumerate(η_grid)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_237">237</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;label&nbsp;=&nbsp;L"\sigma^*"&nbsp;*&nbsp;"&nbsp;at&nbsp;"&nbsp;*&nbsp;L"\eta&nbsp;=&nbsp;"&nbsp;*&nbsp;"$η"</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_238">238</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ax.plot(w_grid,&nbsp;w_grid[σ_star[:,&nbsp;y_bar,&nbsp;i]],&nbsp;label=label)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_239">239</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;end</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_240">240</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;ax.legend(fontsize=fontsize)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_241">241</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;plt.show()</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_242">242</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_243">243</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;plt.tight_layout()</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_244">244</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;savefig</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_245">245</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fig.savefig(figname)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_246">246</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;end</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_247">247</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;plt.show()</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_248">248</td><td nowrap="nowrap"><span class="diff_add">end</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_249">249</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_250">250</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_251">251</td><td nowrap="nowrap"><span class="diff_add">function&nbsp;plot_time_series(;&nbsp;m=2_000,</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_252">252</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;savefig=false,&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_253">253</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;figname="../figures/modified_opt_savings_ts.pdf")</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_254">254</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_255">255</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;w_series&nbsp;=&nbsp;simulate_wealth(m)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_256">256</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;fig,&nbsp;ax&nbsp;=&nbsp;plt.subplots(figsize=(9,&nbsp;5.2))</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_257">257</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;ax.plot(w_series,&nbsp;label=L"w_t")</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_258">258</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;ax.legend(fontsize=fontsize)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_259">259</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;ax.set_xlabel("time",&nbsp;fontsize=fontsize)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_260">260</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;plt.show()</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_261">261</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;savefig</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_262">262</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fig.savefig(figname)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_263">263</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;end</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_264">264</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_265">265</td><td nowrap="nowrap"><span class="diff_add">end</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_266">266</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_267">267</td><td nowrap="nowrap"><span class="diff_add">function&nbsp;plot_histogram(;&nbsp;m=1_000_000,</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_268">268</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;savefig=false,&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_269">269</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;figname="../figures/modified_opt_savings_hist.pdf")</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_270">270</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_271">271</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;w_series&nbsp;=&nbsp;simulate_wealth(m)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_272">272</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;g&nbsp;=&nbsp;round(gini(sort(w_series)),&nbsp;digits=2)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_273">273</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;fig,&nbsp;ax&nbsp;=&nbsp;plt.subplots(figsize=(9,&nbsp;5.2))</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_274">274</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;ax.hist(w_series,&nbsp;bins=40,&nbsp;density=true)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_275">275</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;ax.set_xlabel("wealth",&nbsp;fontsize=fontsize)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_276">276</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;ax.text(15,&nbsp;0.7,&nbsp;"Gini&nbsp;=&nbsp;$g",&nbsp;fontsize=fontsize)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_277">277</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;plt.show()</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_278">278</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;savefig</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_279">279</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fig.savefig(figname)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_280">280</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;end</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_281">281</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_282">282</td><td nowrap="nowrap"><span class="diff_add">end</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_283">283</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_284">284</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_285">285</td><td nowrap="nowrap"><span class="diff_add">function&nbsp;plot_lorenz(;&nbsp;m=1_000_000,</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_286">286</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;savefig=false,&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_287">287</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;figname="../figures/modified_opt_savings_lorenz.pdf")</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_288">288</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_289">289</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;w_series&nbsp;=&nbsp;simulate_wealth(m)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_290">290</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;(;&nbsp;F,&nbsp;L)&nbsp;=&nbsp;lorenz(sort(w_series))</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_291">291</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_292">292</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;fig,&nbsp;ax&nbsp;=&nbsp;plt.subplots(figsize=(9,&nbsp;5.2))</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_293">293</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;ax.plot(F,&nbsp;F,&nbsp;label="Lorenz&nbsp;curve,&nbsp;equality")</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_294">294</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;ax.plot(F,&nbsp;L,&nbsp;label="Lorenz&nbsp;curve,&nbsp;wealth&nbsp;distribution")</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_295">295</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;ax.legend()</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_296">296</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;plt.show()</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_297">297</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;savefig</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_298">298</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fig.savefig(figname)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_299">299</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;end</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_300">300</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to41_301">301</td><td nowrap="nowrap"><span class="diff_add">end</span></td></tr>
        </tbody>
    </table><h1>monopolist_adj_costs.py</h1>
<h2><span style="background-color:#ffeab8;"> is unchanged</span></h2>
<h2><span style="background-color:#fde74c;"> - Python file monopolist_adj_costs.py does not exist</span></h2>
<h1>newton.jl</h1>
<h2><span style="background-color:#ffeab8;"> is unchanged</span></h2>
<h2><span style="background-color:#fde74c;"> - Python file newton.py does not exist</span></h2>
<h1>newton_solow.jl</h1>
<h2><span style="background-color:#ffeab8;"> is unchanged</span></h2>
<h2><span style="background-color:#fde74c;"> - Python file newton_solow.py does not exist</span></h2>
<h1>optimality_illustration.jl</h1>
<h2><span style="background-color:#ff700a;"> is changed</span></h2>
<h2><span style="background-color:#fde74c;"> - Python file optimality_illustration.py does not exist</span></h2>

    <table class="diff" id="difflib_chg_to42__top"
           cellspacing="0" cellpadding="0" rules="groups" >
        <colgroup></colgroup> <colgroup></colgroup> <colgroup></colgroup>
        <colgroup></colgroup> <colgroup></colgroup> <colgroup></colgroup>
        <thead><tr><th class="diff_next"><br /></th><th colspan="2" class="diff_header">old public code</th><th class="diff_next"><br /></th><th colspan="2" class="diff_header">new private (jstac) code</th></tr></thead>
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to42__0"></td><td class="diff_header" id="from42_31">31</td><td nowrap="nowrap">end</td><td class="diff_next"></td><td class="diff_header" id="to42_31">31</td><td nowrap="nowrap">end</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from42_32">32</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to42_32">32</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to42__top">t</a></td><td class="diff_header" id="from42_33">33</td><td nowrap="nowrap">ax.plot(xgrid,&nbsp;xgrid,&nbsp;"k--",&nbsp;lw=1,&nbsp;alpha=0.7,&nbsp;label=L"45")</td><td class="diff_next"><a href="#difflib_chg_to42__top">t</a></td><td class="diff_header" id="to42_33">33</td><td nowrap="nowrap">ax.plot(xgrid,&nbsp;xgrid,&nbsp;"k--",&nbsp;lw=1,&nbsp;alpha=0.7,&nbsp;label=L"45<span class="diff_add">^{\circ}</span>")</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from42_34">34</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to42_34">34</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from42_35">35</td><td nowrap="nowrap">ax.plot(xgrid,&nbsp;T1,&nbsp;"k-",&nbsp;lw=1)</td><td class="diff_next"></td><td class="diff_header" id="to42_35">35</td><td nowrap="nowrap">ax.plot(xgrid,&nbsp;T1,&nbsp;"k-",&nbsp;lw=1)</td></tr>
        </tbody>
    </table><h1>parallel_in_julia.ipynb</h1>
<h2><span style="background-color:#ffeab8;"> is unchanged</span></h2>
<h2><span style="background-color:#fde74c;"> - Python file parallel_in_julia.ipynb does not exist</span></h2>
<h1>pd_ratio.jl</h1>
<h2><span style="background-color:#ffeab8;"> is unchanged</span></h2>
<h2><span style="background-color:#5b7c99;"> - Python file exists</span></h2>
<h1>plot_interest_rates.jl</h1>
<h2><span style="background-color:#ffeab8;"> is unchanged</span></h2>
<h2><span style="background-color:#fde74c;"> - Python file plot_interest_rates.py does not exist</span></h2>
<h1>power_series.jl</h1>
<h2><span style="background-color:#ffeab8;"> is unchanged</span></h2>
<h2><span style="background-color:#5b7c99;"> - Python file exists</span></h2>
<h1>quantile_function.jl</h1>
<h2><span style="background-color:#a6deae;">new</span></h2>
<h2><span style="background-color:#fde74c;"> - Python file quantile_function.py does not exist</span></h2>
<h1>quantile_js.jl</h1>
<h2><span style="background-color:#a6deae;">new</span></h2>
<h2><span style="background-color:#fde74c;"> - Python file quantile_js.py does not exist</span></h2>
<h1>random_walk.jl</h1>
<h2><span style="background-color:#ffeab8;"> is unchanged</span></h2>
<h2><span style="background-color:#fde74c;"> - Python file random_walk.py does not exist</span></h2>
<h1>risk_sensitive_js.jl</h1>
<h2><span style="background-color:#ffeab8;"> is unchanged</span></h2>
<h2><span style="background-color:#5b7c99;"> - Python file exists</span></h2>
<h1>rs_utility.jl</h1>
<h2><span style="background-color:#ffeab8;"> is unchanged</span></h2>
<h2><span style="background-color:#5b7c99;"> - Python file exists</span></h2>
<h1>solow_fp.jl</h1>
<h2><span style="background-color:#ffeab8;"> is unchanged</span></h2>
<h2><span style="background-color:#5b7c99;"> - Python file exists</span></h2>
<h1>solow_fp_adjust.jl</h1>
<h2><span style="background-color:#ffeab8;"> is unchanged</span></h2>
<h2><span style="background-color:#fde74c;"> - Python file solow_fp_adjust.py does not exist</span></h2>
<h1>stoch_dom_finite.jl</h1>
<h2><span style="background-color:#ffeab8;"> is unchanged</span></h2>
<h2><span style="background-color:#fde74c;"> - Python file stoch_dom_finite.py does not exist</span></h2>
<h1>s_approx.jl</h1>
<h2><span style="background-color:#ff700a;"> is changed</span></h2>
<h2><span style="background-color:#5b7c99;"> - Python file exists</span></h2>

    <table class="diff" id="difflib_chg_to43__top"
           cellspacing="0" cellpadding="0" rules="groups" >
        <colgroup></colgroup> <colgroup></colgroup> <colgroup></colgroup>
        <colgroup></colgroup> <colgroup></colgroup> <colgroup></colgroup>
        <thead><tr><th class="diff_next"><br /></th><th colspan="2" class="diff_header">old public code</th><th class="diff_next"><br /></th><th colspan="2" class="diff_header">new private (jstac) code</th></tr></thead>
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to43__0"><a href="#difflib_chg_to43__0">f</a></td><td class="diff_header" id="from43_1">1</td><td nowrap="nowrap">"""</td><td class="diff_next"><a href="#difflib_chg_to43__0">f</a></td><td class="diff_header" id="to43_1">1</td><td nowrap="nowrap">"""</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to43__1">n</a></td><td class="diff_header" id="from43_2">2</td><td nowrap="nowrap"><span class="diff_sub">Computes&nbsp;the&nbsp;approximate&nbsp;fixed&nbsp;point&nbsp;of&nbsp;T&nbsp;via&nbsp;successive&nbsp;approximation.</span></td><td class="diff_next"><a href="#difflib_chg_to43__1">n</a></td><td class="diff_header" id="to43_2">2</td><td nowrap="nowrap"><span class="diff_add">Computes&nbsp;an&nbsp;approximate&nbsp;fixed&nbsp;point&nbsp;of&nbsp;a&nbsp;given&nbsp;operator&nbsp;T&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to43_3">3</td><td nowrap="nowrap"><span class="diff_add">via&nbsp;successive&nbsp;approximation.</span></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to43__1"></td><td class="diff_header" id="from43_3">3</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to43_4">4</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from43_4">4</td><td nowrap="nowrap">"""</td><td class="diff_next"></td><td class="diff_header" id="to43_5">5</td><td nowrap="nowrap">"""</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to43__2">n</a></td><td class="diff_header" id="from43_5">5</td><td nowrap="nowrap">function&nbsp;successive_approx(T,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="diff_sub">&nbsp;&nbsp;&nbsp;</span>#&nbsp;<span class="diff_chg">O</span>perator&nbsp;(callable)</td><td class="diff_next"><a href="#difflib_chg_to43__2">n</a></td><td class="diff_header" id="to43_6">6</td><td nowrap="nowrap">function&nbsp;successive_approx(T,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;<span class="diff_chg">o</span>perator&nbsp;(callable)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from43_6">6</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;u_0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="diff_sub">&nbsp;&nbsp;&nbsp;</span>#&nbsp;<span class="diff_chg">I</span>nitial&nbsp;condition</td><td class="diff_next"></td><td class="diff_header" id="to43_7">7</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;u_0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;<span class="diff_chg">i</span>nitial&nbsp;condition</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from43_7">7</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tolerance=1e-6,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="diff_sub">&nbsp;&nbsp;&nbsp;</span>#&nbsp;<span class="diff_chg">E</span>rror&nbsp;tolerance</td><td class="diff_next"></td><td class="diff_header" id="to43_8">8</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tolerance=1e-6,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;<span class="diff_chg">e</span>rror&nbsp;tolerance</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from43_8">8</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;max_iter=10_000,&nbsp;&nbsp;&nbsp;&nbsp;<span class="diff_sub">&nbsp;&nbsp;&nbsp;</span>#&nbsp;<span class="diff_chg">M</span>ax&nbsp;iteration&nbsp;bound</td><td class="diff_next"></td><td class="diff_header" id="to43_9">9</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;max_iter=10_000,&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;<span class="diff_chg">m</span>ax&nbsp;iteration&nbsp;bound</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from43_9">9</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print_step=25)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="diff_sub">&nbsp;&nbsp;&nbsp;</span>#&nbsp;<span class="diff_chg">P</span>rint&nbsp;at&nbsp;multiples</td><td class="diff_next"></td><td class="diff_header" id="to43_10">10</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print_step=25)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;<span class="diff_chg">p</span>rint&nbsp;at&nbsp;multiples</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from43_10">10</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;u&nbsp;=&nbsp;u_0</td><td class="diff_next"></td><td class="diff_header" id="to43_11">11</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;u&nbsp;=&nbsp;u_0</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from43_11">11</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;error&nbsp;=&nbsp;Inf</td><td class="diff_next"></td><td class="diff_header" id="to43_12">12</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;error&nbsp;=&nbsp;Inf</td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to43__2"></td><td class="diff_header" id="from43_13">13</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to43_14">14</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from43_14">14</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;(error&nbsp;&gt;&nbsp;tolerance)&nbsp;&amp;&nbsp;(k&nbsp;&lt;=&nbsp;max_iter)</td><td class="diff_next"></td><td class="diff_header" id="to43_15">15</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;(error&nbsp;&gt;&nbsp;tolerance)&nbsp;&amp;&nbsp;(k&nbsp;&lt;=&nbsp;max_iter)</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to43__3">n</a></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"><a href="#difflib_chg_to43__3">n</a></td><td class="diff_header" id="to43_16">16</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to43__3"></td><td class="diff_header" id="from43_15">15</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;u_new&nbsp;=&nbsp;T(u)</td><td class="diff_next"></td><td class="diff_header" id="to43_17">17</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;u_new&nbsp;=&nbsp;T(u)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from43_16">16</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;error&nbsp;=&nbsp;maximum(abs.(u_new&nbsp;-&nbsp;u))</td><td class="diff_next"></td><td class="diff_header" id="to43_18">18</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;error&nbsp;=&nbsp;maximum(abs.(u_new&nbsp;-&nbsp;u))</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to43__4">n</a></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"><a href="#difflib_chg_to43__4">n</a></td><td class="diff_header" id="to43_19">19</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from43_17">17</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;k&nbsp;%&nbsp;print_step&nbsp;==&nbsp;0</td><td class="diff_next"></td><td class="diff_header" id="to43_20">20</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;k&nbsp;%&nbsp;print_step&nbsp;==&nbsp;0</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to43__4"></td><td class="diff_header" id="from43_18">18</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;println("Completed&nbsp;iteration&nbsp;$k&nbsp;with&nbsp;error&nbsp;$error.")</td><td class="diff_next"></td><td class="diff_header" id="to43_21">21</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;println("Completed&nbsp;iteration&nbsp;$k&nbsp;with&nbsp;error&nbsp;$error.")</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from43_19">19</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</td><td class="diff_next"></td><td class="diff_header" id="to43_22">22</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to43__5">n</a></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"><a href="#difflib_chg_to43__5">n</a></td><td class="diff_header" id="to43_23">23</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from43_20">20</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;u&nbsp;=&nbsp;u_new</td><td class="diff_next"></td><td class="diff_header" id="to43_24">24</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;u&nbsp;=&nbsp;u_new</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from43_21">21</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;k&nbsp;+=&nbsp;1</td><td class="diff_next"></td><td class="diff_header" id="to43_25">25</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;k&nbsp;+=&nbsp;1</td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to43__5"></td><td class="diff_header" id="from43_25">25</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;println("Terminated&nbsp;successfully&nbsp;in&nbsp;$k&nbsp;iterations.")</td><td class="diff_next"></td><td class="diff_header" id="to43_29">29</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;println("Terminated&nbsp;successfully&nbsp;in&nbsp;$k&nbsp;iterations.")</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from43_26">26</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;else</td><td class="diff_next"></td><td class="diff_header" id="to43_30">30</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;else</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to43__top">t</a></td><td class="diff_header" id="from43_27">27</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;println("Termination&nbsp;Warning:&nbsp;Error&nbsp;is&nbsp;greater&nbsp;than&nbsp;tolerance.")</span></td><td class="diff_next"><a href="#difflib_chg_to43__top">t</a></td><td class="diff_header" id="to43_31">31</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;println("Warning:&nbsp;hit&nbsp;iteration&nbsp;bound.")</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from43_28">28</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;end</td><td class="diff_next"></td><td class="diff_header" id="to43_32">32</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;end</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from43_29">29</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to43_33">33</td><td nowrap="nowrap"></td></tr>
        </tbody>
    </table><h1>tauchen.jl</h1>
<h2><span style="background-color:#ffeab8;"> is unchanged</span></h2>
<h2><span style="background-color:#fde74c;"> - Python file tauchen.py does not exist</span></h2>
<h1>three_fixed_points.jl</h1>
<h2><span style="background-color:#a6deae;">new</span></h2>
<h2><span style="background-color:#fde74c;"> - Python file three_fixed_points.py does not exist</span></h2>
<h1>two_period_job_search.jl</h1>
<h2><span style="background-color:#ffeab8;"> is unchanged</span></h2>
<h2><span style="background-color:#5b7c99;"> - Python file exists</span></h2>
<h1>up_down_stable.jl</h1>
<h2><span style="background-color:#a6deae;">new</span></h2>
<h2><span style="background-color:#fde74c;"> - Python file up_down_stable.py does not exist</span></h2>
<h1>val_consumption.jl</h1>
<h2><span style="background-color:#ffeab8;"> is unchanged</span></h2>
<h2><span style="background-color:#fde74c;"> - Python file val_consumption.py does not exist</span></h2>
<h1>v_star_illus.jl</h1>
<h2><span style="background-color:#ffeab8;"> is unchanged</span></h2>
<h2><span style="background-color:#fde74c;"> - Python file v_star_illus.py does not exist</span></h2>
</body>
</html>
