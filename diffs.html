<html>
<head>
<meta charset="utf-8">
<style>
html, body {font-size: 10px}
h2 {display: inline-block;}

        table.diff {font-family:Courier; border:medium; font-size:12px;}
        .diff_header {background-color:#e0e0e0}
        td.diff_header {text-align:right}
        .diff_next {background-color:#c0c0c0}
        .diff_add {background-color:#aaffaa}
        .diff_chg {background-color:#ffff77}
        .diff_sub {background-color:#ffaaaa}
</style>
</head>
<body>
<table class="diff" summary="Legends">
        <tr> <th colspan="2"> Legends </th> </tr>
        <tr> <td> <table border="" summary="Colors">
                      <tr><th> Colors </th> </tr>
                      <tr><td class="diff_add">&nbsp;Added&nbsp;</td></tr>
                      <tr><td class="diff_chg">Changed</td> </tr>
                      <tr><td class="diff_sub">Deleted</td> </tr>
                  </table></td>
             <td> <table border="" summary="Links">
                      <tr><th colspan="2"> Links </th> </tr>
                      <tr><td>(f)irst change</td> </tr>
                      <tr><td>(n)ext change</td> </tr>
                      <tr><td>(t)op</td> </tr>
                  </table></td> </tr>
    </table><h1>american_option.jl</h1>
<h2><span style="background-color:#ffeab8;"> is unchanged</span></h2>
<h2><span style="background-color:#5b7c99;"> - Python file exists</span></h2>
<h1>ar1_spec_rad.jl</h1>
<h2><span style="background-color:#ffeab8;"> is unchanged</span></h2>
<h2><span style="background-color:#5b7c99;"> - Python file exists</span></h2>
<h1>bellman_envelope.jl</h1>
<h2><span style="background-color:#ffeab8;"> is unchanged</span></h2>
<h2><span style="background-color:#fde74c;"> - Python file bellman_envelope.py does not exist</span></h2>
<h1>binom_stoch_dom.jl</h1>
<h2><span style="background-color:#ffeab8;"> is unchanged</span></h2>
<h2><span style="background-color:#fde74c;"> - Python file binom_stoch_dom.py does not exist</span></h2>
<h1>compute_spec_rad.jl</h1>
<h2><span style="background-color:#ff700a;"> is changed</span></h2>
<h2><span style="background-color:#5b7c99;"> - Python file exists</span></h2>

    <table class="diff" id="difflib_chg_to0__top"
           cellspacing="0" cellpadding="0" rules="groups" >
        <colgroup></colgroup> <colgroup></colgroup> <colgroup></colgroup>
        <colgroup></colgroup> <colgroup></colgroup> <colgroup></colgroup>
        <thead><tr><th class="diff_next"><br /></th><th colspan="2" class="diff_header">old public code</th><th class="diff_next"><br /></th><th colspan="2" class="diff_header">new private (jstac) code</th></tr></thead>
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to0__0"><a href="#difflib_chg_to0__0">f</a></td><td class="diff_header" id="from0_1">1</td><td nowrap="nowrap">using&nbsp;LinearAlgebra&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td class="diff_next"><a href="#difflib_chg_to0__0">f</a></td><td class="diff_header" id="to0_1">1</td><td nowrap="nowrap">using&nbsp;LinearAlgebra&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to0__1">n</a></td><td class="diff_header" id="from0_2">2</td><td nowrap="nowrap"><span class="diff_chg">r</span>(A)&nbsp;=&nbsp;maximum(abs(λ)&nbsp;for&nbsp;λ&nbsp;in&nbsp;eigvals(A))&nbsp;&nbsp;#&nbsp;Spectral&nbsp;radius</td><td class="diff_next"><a href="#difflib_chg_to0__1">n</a></td><td class="diff_header" id="to0_2">2</td><td nowrap="nowrap"><span class="diff_chg">ρ</span>(A)&nbsp;=&nbsp;maximum(abs(λ)&nbsp;for&nbsp;λ&nbsp;in&nbsp;eigvals(A))&nbsp;&nbsp;#&nbsp;Spectral&nbsp;radius</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to0__1"></td><td class="diff_header" id="from0_3">3</td><td nowrap="nowrap">A&nbsp;=&nbsp;[0.4&nbsp;0.1;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Test&nbsp;with&nbsp;arbitrary&nbsp;A</td><td class="diff_next"></td><td class="diff_header" id="to0_3">3</td><td nowrap="nowrap">A&nbsp;=&nbsp;[0.4&nbsp;0.1;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Test&nbsp;with&nbsp;arbitrary&nbsp;A</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from0_4">4</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0.7&nbsp;0.2]</td><td class="diff_next"></td><td class="diff_header" id="to0_4">4</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0.7&nbsp;0.2]</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to0__top">t</a></td><td class="diff_header" id="from0_5">5</td><td nowrap="nowrap">print(<span class="diff_chg">r</span>(A))</td><td class="diff_next"><a href="#difflib_chg_to0__top">t</a></td><td class="diff_header" id="to0_5">5</td><td nowrap="nowrap">print(<span class="diff_chg">ρ</span>(A))</td></tr>
        </tbody>
    </table><h1>concave_map_fp.jl</h1>
<h2><span style="background-color:#ffeab8;"> is unchanged</span></h2>
<h2><span style="background-color:#fde74c;"> - Python file concave_map_fp.py does not exist</span></h2>
<h1>cont_time_js.jl</h1>
<h2><span style="background-color:#a6deae;">new</span></h2>
<h2><span style="background-color:#fde74c;"> - Python file cont_time_js.py does not exist</span></h2>
<h1>data</h1>
<h2><span style="background-color:#a6deae;">new</span></h2>
<h2><span style="background-color:#fde74c;"> - Python file data does not exist</span></h2>
<h1>expo_curve.py</h1>
<h2><span style="background-color:#a6deae;">new</span></h2>
<h2><span style="background-color:#fde74c;"> - Python file expo_curve.py does not exist</span></h2>
<h1>ez_dp_code.jl</h1>
<h2><span style="background-color:#a6deae;">new</span></h2>
<h2><span style="background-color:#fde74c;"> - Python file ez_dp_code.py does not exist</span></h2>
<h1>ez_f_shapes.jl</h1>
<h2><span style="background-color:#ffeab8;"> is unchanged</span></h2>
<h2><span style="background-color:#fde74c;"> - Python file ez_f_shapes.py does not exist</span></h2>
<h1>ez_model.jl</h1>
<h2><span style="background-color:#a6deae;">new</span></h2>
<h2><span style="background-color:#fde74c;"> - Python file ez_model.py does not exist</span></h2>
<h1>ez_noncontraction.jl</h1>
<h2><span style="background-color:#ff700a;"> is changed</span></h2>
<h2><span style="background-color:#fde74c;"> - Python file ez_noncontraction.py does not exist</span></h2>

    <table class="diff" id="difflib_chg_to1__top"
           cellspacing="0" cellpadding="0" rules="groups" >
        <colgroup></colgroup> <colgroup></colgroup> <colgroup></colgroup>
        <colgroup></colgroup> <colgroup></colgroup> <colgroup></colgroup>
        <thead><tr><th class="diff_next"><br /></th><th colspan="2" class="diff_header">old public code</th><th class="diff_next"><br /></th><th colspan="2" class="diff_header">new private (jstac) code</th></tr></thead>
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to1__0"></td><td class="diff_header" id="from1_18">18</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;f(w)&nbsp;=&nbsp;F(w;&nbsp;θ=-10)</td><td class="diff_next"></td><td class="diff_header" id="to1_18">18</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;f(w)&nbsp;=&nbsp;F(w;&nbsp;θ=-10)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from1_19">19</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;ax.plot(w_grid,&nbsp;w_grid,&nbsp;"k--",&nbsp;alpha=0.6,&nbsp;label=L"45")</td><td class="diff_next"></td><td class="diff_header" id="to1_19">19</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;ax.plot(w_grid,&nbsp;w_grid,&nbsp;"k--",&nbsp;alpha=0.6,&nbsp;label=L"45")</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to1__top">t</a></td><td class="diff_header" id="from1_20">20</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;ax.plot(w_grid,&nbsp;f.(w_grid),&nbsp;label=L"<span class="diff_chg">U</span>&nbsp;=&nbsp;F")</td><td class="diff_next"><a href="#difflib_chg_to1__top">t</a></td><td class="diff_header" id="to1_20">20</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;ax.plot(w_grid,&nbsp;f.(w_grid),&nbsp;label=L"<span class="diff_chg">\hat&nbsp;K</span>&nbsp;=&nbsp;F")</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from1_21">21</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;ax.set_xticks((0,&nbsp;1,&nbsp;2))</td><td class="diff_next"></td><td class="diff_header" id="to1_21">21</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;ax.set_xticks((0,&nbsp;1,&nbsp;2))</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from1_22">22</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;ax.set_yticks((0,&nbsp;1,&nbsp;2))</td><td class="diff_next"></td><td class="diff_header" id="to1_22">22</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;ax.set_yticks((0,&nbsp;1,&nbsp;2))</td></tr>
        </tbody>
    </table><h1>ez_plot_functions.jl</h1>
<h2><span style="background-color:#a6deae;">new</span></h2>
<h2><span style="background-color:#fde74c;"> - Python file ez_plot_functions.py does not exist</span></h2>
<h1>ez_policy_plot.jl</h1>
<h2><span style="background-color:#a6deae;">new</span></h2>
<h2><span style="background-color:#fde74c;"> - Python file ez_policy_plot.py does not exist</span></h2>
<h1>ez_sub_test.jl</h1>
<h2><span style="background-color:#a6deae;">new</span></h2>
<h2><span style="background-color:#fde74c;"> - Python file ez_sub_test.py does not exist</span></h2>
<h1>ez_timings.jl</h1>
<h2><span style="background-color:#a6deae;">new</span></h2>
<h2><span style="background-color:#fde74c;"> - Python file ez_timings.py does not exist</span></h2>
<h1>ez_utility.jl</h1>
<h2><span style="background-color:#ffeab8;"> is unchanged</span></h2>
<h2><span style="background-color:#5b7c99;"> - Python file exists</span></h2>
<h1>finite_lq.jl</h1>
<h2><span style="background-color:#ffeab8;"> is unchanged</span></h2>
<h2><span style="background-color:#5b7c99;"> - Python file exists</span></h2>
<h1>finite_opt_saving_0.jl</h1>
<h2><span style="background-color:#ff700a;"> is changed</span></h2>
<h2><span style="background-color:#5b7c99;"> - Python file exists</span></h2>

    <table class="diff" id="difflib_chg_to2__top"
           cellspacing="0" cellpadding="0" rules="groups" >
        <colgroup></colgroup> <colgroup></colgroup> <colgroup></colgroup>
        <colgroup></colgroup> <colgroup></colgroup> <colgroup></colgroup>
        <thead><tr><th class="diff_next"><br /></th><th colspan="2" class="diff_header">old public code</th><th class="diff_next"><br /></th><th colspan="2" class="diff_header">new private (jstac) code</th></tr></thead>
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to2__0"></td><td class="diff_header" id="from2_2">2</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to2_2">2</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from2_3">3</td><td nowrap="nowrap">function&nbsp;create_savings_model(;&nbsp;R=1.01,&nbsp;β=0.98,&nbsp;γ=2.5,&nbsp;&nbsp;</td><td class="diff_next"></td><td class="diff_header" id="to2_3">3</td><td nowrap="nowrap">function&nbsp;create_savings_model(;&nbsp;R=1.01,&nbsp;β=0.98,&nbsp;γ=2.5,&nbsp;&nbsp;</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to2__1">n</a></td><td class="diff_header" id="from2_4">4</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;w_min=0.01,&nbsp;w_max=<span class="diff_chg">5</span>.0,&nbsp;w_size=200,</td><td class="diff_next"><a href="#difflib_chg_to2__1">n</a></td><td class="diff_header" id="to2_4">4</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;w_min=0.01,&nbsp;w_max=<span class="diff_chg">20</span>.0,&nbsp;w_size=200,</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from2_5">5</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ρ=0.9,&nbsp;ν=0.1,&nbsp;y_size=5)</td><td class="diff_next"></td><td class="diff_header" id="to2_5">5</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ρ=0.9,&nbsp;ν=0.1,&nbsp;y_size=5)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from2_6">6</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;w_grid&nbsp;=&nbsp;LinRange(w_min,&nbsp;w_max,&nbsp;w_size)&nbsp;&nbsp;</td><td class="diff_next"></td><td class="diff_header" id="to2_6">6</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;w_grid&nbsp;=&nbsp;LinRange(w_min,&nbsp;w_max,&nbsp;w_size)&nbsp;&nbsp;</td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to2__1"></td><td class="diff_header" id="from2_10">10</td><td nowrap="nowrap">end</td><td class="diff_next"></td><td class="diff_header" id="to2_10">10</td><td nowrap="nowrap">end</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from2_11">11</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to2_11">11</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to2__top">t</a></td><td class="diff_header" id="from2_12">12</td><td nowrap="nowrap">"B(w,&nbsp;y,&nbsp;w′)&nbsp;=&nbsp;u(R*w&nbsp;+&nbsp;y&nbsp;-&nbsp;w′)&nbsp;+&nbsp;β&nbsp;Σ_y′&nbsp;v(w′,&nbsp;y′)&nbsp;Q(y,&nbsp;y′)."</td><td class="diff_next"><a href="#difflib_chg_to2__top">t</a></td><td class="diff_header" id="to2_12">12</td><td nowrap="nowrap">"B(w,&nbsp;y,&nbsp;w′<span class="diff_add">,&nbsp;v</span>)&nbsp;=&nbsp;u(R*w&nbsp;+&nbsp;y&nbsp;-&nbsp;w′)&nbsp;+&nbsp;β&nbsp;Σ_y′&nbsp;v(w′,&nbsp;y′)&nbsp;Q(y,&nbsp;y′)."</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from2_13">13</td><td nowrap="nowrap">function&nbsp;B(i,&nbsp;j,&nbsp;k,&nbsp;v,&nbsp;model)</td><td class="diff_next"></td><td class="diff_header" id="to2_13">13</td><td nowrap="nowrap">function&nbsp;B(i,&nbsp;j,&nbsp;k,&nbsp;v,&nbsp;model)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from2_14">14</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;(;&nbsp;β,&nbsp;R,&nbsp;γ,&nbsp;w_grid,&nbsp;y_grid,&nbsp;Q)&nbsp;=&nbsp;model</td><td class="diff_next"></td><td class="diff_header" id="to2_14">14</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;(;&nbsp;β,&nbsp;R,&nbsp;γ,&nbsp;w_grid,&nbsp;y_grid,&nbsp;Q)&nbsp;=&nbsp;model</td></tr>
        </tbody>
    </table><h1>finite_opt_saving_1.jl</h1>
<h2><span style="background-color:#ff700a;"> is changed</span></h2>
<h2><span style="background-color:#5b7c99;"> - Python file exists</span></h2>

    <table class="diff" id="difflib_chg_to3__top"
           cellspacing="0" cellpadding="0" rules="groups" >
        <colgroup></colgroup> <colgroup></colgroup> <colgroup></colgroup>
        <colgroup></colgroup> <colgroup></colgroup> <colgroup></colgroup>
        <thead><tr><th class="diff_next"><br /></th><th colspan="2" class="diff_header">old public code</th><th class="diff_next"><br /></th><th colspan="2" class="diff_header">new private (jstac) code</th></tr></thead>
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to3__0"></td><td class="diff_header" id="from3_11">11</td><td nowrap="nowrap">end</td><td class="diff_next"></td><td class="diff_header" id="to3_11">11</td><td nowrap="nowrap">end</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from3_12">12</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to3_12">12</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to3__1">n</a></td><td class="diff_header" id="from3_13">13</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"><a href="#difflib_chg_to3__1">n</a></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from3_14">14</td><td nowrap="nowrap">"Get&nbsp;the&nbsp;value&nbsp;v_σ&nbsp;of&nbsp;policy&nbsp;σ."</td><td class="diff_next"></td><td class="diff_header" id="to3_13">13</td><td nowrap="nowrap">"Get&nbsp;the&nbsp;value&nbsp;v_σ&nbsp;of&nbsp;policy&nbsp;σ."</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from3_15">15</td><td nowrap="nowrap">function&nbsp;get_value(σ,&nbsp;model)</td><td class="diff_next"></td><td class="diff_header" id="to3_14">14</td><td nowrap="nowrap">function&nbsp;get_value(σ,&nbsp;model)</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to3__1"></td><td class="diff_header" id="from3_16">16</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Unpack&nbsp;and&nbsp;set&nbsp;up</td><td class="diff_next"></td><td class="diff_header" id="to3_15">15</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Unpack&nbsp;and&nbsp;set&nbsp;up</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from3_17">17</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;(;&nbsp;β,&nbsp;R,&nbsp;γ,&nbsp;w_grid,&nbsp;y_grid,&nbsp;Q)&nbsp;=&nbsp;model</td><td class="diff_next"></td><td class="diff_header" id="to3_16">16</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;(;&nbsp;β,&nbsp;R,&nbsp;γ,&nbsp;w_grid,&nbsp;y_grid,&nbsp;Q)&nbsp;=&nbsp;model</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to3__2">n</a></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"><a href="#difflib_chg_to3__2">n</a></td><td class="diff_header" id="to3_17">17</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;w_idx,&nbsp;y_idx&nbsp;=&nbsp;(eachindex(g)&nbsp;for&nbsp;g&nbsp;in&nbsp;(w_grid,&nbsp;y_grid))</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from3_18">18</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;wn,&nbsp;yn&nbsp;=&nbsp;length(w_<span class="diff_sub">gr</span>id),&nbsp;length(y_<span class="diff_sub">gr</span>id)</td><td class="diff_next"></td><td class="diff_header" id="to3_18">18</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;wn,&nbsp;yn&nbsp;=&nbsp;length(w_id<span class="diff_add">x</span>),&nbsp;length(y_id<span class="diff_add">x</span>)</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to3__2"></td><td class="diff_header" id="from3_19">19</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;n&nbsp;=&nbsp;wn&nbsp;*&nbsp;yn</td><td class="diff_next"></td><td class="diff_header" id="to3_19">19</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;n&nbsp;=&nbsp;wn&nbsp;*&nbsp;yn</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from3_20">20</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;u(c)&nbsp;=&nbsp;c^(1-γ)&nbsp;/&nbsp;(1-γ)</td><td class="diff_next"></td><td class="diff_header" id="to3_20">20</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;u(c)&nbsp;=&nbsp;c^(1-γ)&nbsp;/&nbsp;(1-γ)</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to3__3">n</a></td><td class="diff_header" id="from3_21">21</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Function&nbsp;to&nbsp;extract&nbsp;(i,&nbsp;j)&nbsp;from&nbsp;m&nbsp;=&nbsp;i&nbsp;+&nbsp;(j-1)*wn"</span></td><td class="diff_next"><a href="#difflib_chg_to3__3">n</a></td><td class="diff_header" id="to3_21">21</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Build&nbsp;P_σ&nbsp;and&nbsp;r_σ&nbsp;as&nbsp;multi-index&nbsp;arrays</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from3_22">22</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;single_to_multi(m)&nbsp;=&nbsp;(m-1)%wn&nbsp;+&nbsp;1,&nbsp;div(m-1,&nbsp;wn)&nbsp;+&nbsp;1</span></td><td class="diff_next"></td><td class="diff_header" id="to3_22">22</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;P_σ&nbsp;=&nbsp;zeros(wn,&nbsp;yn,&nbsp;wn,&nbsp;yn)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from3_23">23</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Allocate&nbsp;and&nbsp;create&nbsp;single&nbsp;index&nbsp;versions&nbsp;of&nbsp;P_σ&nbsp;and&nbsp;r_σ</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from3_24">24</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;<span class="diff_chg">P</span>_σ&nbsp;=&nbsp;zeros(n,&nbsp;n)</td><td class="diff_next"></td><td class="diff_header" id="to3_23">23</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;<span class="diff_chg">r</span>_σ&nbsp;=&nbsp;zeros(<span class="diff_add">w</span>n,&nbsp;<span class="diff_add">y</span>n)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from3_25">25</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;r_σ&nbsp;=&nbsp;zeros(n)</span></td><td class="diff_next"></td><td class="diff_header" id="to3_24">24</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(i,&nbsp;j)&nbsp;in&nbsp;product(w_idx,&nbsp;y_idx)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from3_26">26</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;m&nbsp;in&nbsp;1:n</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from3_27">27</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;i,&nbsp;j&nbsp;=&nbsp;single_to_multi(m)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from3_28">28</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;w,&nbsp;y,&nbsp;w′&nbsp;=&nbsp;w_grid[i],&nbsp;y_grid[j],&nbsp;w_grid[σ[i,&nbsp;j]]</td><td class="diff_next"></td><td class="diff_header" id="to3_25">25</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;w,&nbsp;y,&nbsp;w′&nbsp;=&nbsp;w_grid[i],&nbsp;y_grid[j],&nbsp;w_grid[σ[i,&nbsp;j]]</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from3_29">29</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r_σ[<span class="diff_chg">m</span>]&nbsp;=&nbsp;u(w&nbsp;+&nbsp;y&nbsp;-&nbsp;w′/R)</td><td class="diff_next"></td><td class="diff_header" id="to3_26">26</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r_σ[<span class="diff_chg">i,&nbsp;j</span>]&nbsp;=&nbsp;u(w&nbsp;+&nbsp;y&nbsp;-&nbsp;w′/R)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from3_30">30</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;m′&nbsp;in&nbsp;1:n</span></td><td class="diff_next"></td><td class="diff_header" id="to3_27">27</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(i′,&nbsp;j′)&nbsp;in&nbsp;product(w_idx,&nbsp;y_idx)</span></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to3__3"></td><td class="diff_header" id="from3_31">31</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;i′,&nbsp;j′&nbsp;=&nbsp;single_to_multi(m′)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from3_32">32</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;i′&nbsp;==&nbsp;σ[i,&nbsp;j]</td><td class="diff_next"></td><td class="diff_header" id="to3_28">28</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;i′&nbsp;==&nbsp;σ[i,&nbsp;j]</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to3__4">n</a></td><td class="diff_header" id="from3_33">33</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;P_σ[<span class="diff_chg">m</span>,&nbsp;<span class="diff_chg">m</span>′]&nbsp;=&nbsp;Q[j,&nbsp;j′]</td><td class="diff_next"><a href="#difflib_chg_to3__4">n</a></td><td class="diff_header" id="to3_29">29</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;P_σ[<span class="diff_chg">i</span>,&nbsp;<span class="diff_chg">j,&nbsp;i′,&nbsp;j</span>′]&nbsp;=&nbsp;Q[j,&nbsp;j′]</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from3_34">34</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</td><td class="diff_next"></td><td class="diff_header" id="to3_30">30</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to3__4"></td><td class="diff_header" id="from3_35">35</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</td><td class="diff_next"></td><td class="diff_header" id="to3_31">31</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from3_36">36</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;end</td><td class="diff_next"></td><td class="diff_header" id="to3_32">32</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;end</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to3__top">t</a></td><td class="diff_header" id="from3_37">37</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Solve&nbsp;for&nbsp;the&nbsp;value&nbsp;of&nbsp;σ&nbsp;</span></td><td class="diff_next"><a href="#difflib_chg_to3__top">t</a></td><td class="diff_header" id="to3_33">33</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Reshape&nbsp;for&nbsp;matrix&nbsp;algebra</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to3_34">34</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;P_σ&nbsp;=&nbsp;reshape(P_σ,&nbsp;n,&nbsp;n)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to3_35">35</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;r_σ&nbsp;=&nbsp;reshape(r_σ,&nbsp;n)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to3_36">36</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Apply&nbsp;matrix&nbsp;operations&nbsp;---&nbsp;solve&nbsp;for&nbsp;the&nbsp;value&nbsp;of&nbsp;σ&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from3_38">38</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;v_σ&nbsp;=&nbsp;(I&nbsp;-&nbsp;β&nbsp;*&nbsp;P_σ)&nbsp;\&nbsp;r_σ</td><td class="diff_next"></td><td class="diff_header" id="to3_37">37</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;v_σ&nbsp;=&nbsp;(I&nbsp;-&nbsp;β&nbsp;*&nbsp;P_σ)&nbsp;\&nbsp;r_σ</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from3_39">39</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Return&nbsp;as&nbsp;multi-index&nbsp;array</td><td class="diff_next"></td><td class="diff_header" id="to3_38">38</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Return&nbsp;as&nbsp;multi-index&nbsp;array</td></tr>
        </tbody>
    </table><h1>finite_opt_saving_2.jl</h1>
<h2><span style="background-color:#ff700a;"> is changed</span></h2>
<h2><span style="background-color:#5b7c99;"> - Python file exists</span></h2>

    <table class="diff" id="difflib_chg_to4__top"
           cellspacing="0" cellpadding="0" rules="groups" >
        <colgroup></colgroup> <colgroup></colgroup> <colgroup></colgroup>
        <colgroup></colgroup> <colgroup></colgroup> <colgroup></colgroup>
        <thead><tr><th class="diff_next"><br /></th><th colspan="2" class="diff_header">old public code</th><th class="diff_next"><br /></th><th colspan="2" class="diff_header">new private (jstac) code</th></tr></thead>
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to4__0"></td><td class="diff_header" id="from4_40">40</td><td nowrap="nowrap">end</td><td class="diff_next"></td><td class="diff_header" id="to4_40">40</td><td nowrap="nowrap">end</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_41">41</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to4_41">41</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to4__1"><a href="#difflib_chg_to4__1">n</a></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"><a href="#difflib_chg_to4__1">n</a></td><td class="diff_header" id="to4_42">42</td><td nowrap="nowrap"><span class="diff_add">#&nbsp;==&nbsp;Simulations&nbsp;and&nbsp;inequality&nbsp;measures&nbsp;==&nbsp;#</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_42">42</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to4_43">43</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to4__2">n</a></td><td class="diff_header" id="from4_43">43</td><td nowrap="nowrap"><span class="diff_sub">#&nbsp;Plots</span></td><td class="diff_next"><a href="#difflib_chg_to4__2">n</a></td><td class="diff_header" id="to4_44">44</td><td nowrap="nowrap"><span class="diff_add">function&nbsp;simulate_wealth(m)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to4_45">45</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to4_46">46</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;model&nbsp;=&nbsp;create_savings_model()</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to4_47">47</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;σ_star&nbsp;=&nbsp;optimistic_policy_iteration(model)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to4_48">48</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;(;&nbsp;β,&nbsp;R,&nbsp;γ,&nbsp;w_grid,&nbsp;y_grid,&nbsp;Q)&nbsp;=&nbsp;model</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to4_49">49</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to4_50">50</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Simulate&nbsp;labor&nbsp;income&nbsp;(indices&nbsp;rather&nbsp;than&nbsp;grid&nbsp;values)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to4_51">51</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;mc&nbsp;=&nbsp;MarkovChain(Q)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to4_52">52</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;y_idx_series&nbsp;=&nbsp;simulate(mc,&nbsp;m)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to4_53">53</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to4_54">54</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Compute&nbsp;corresponding&nbsp;wealth&nbsp;time&nbsp;series</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to4_55">55</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;w_idx_series&nbsp;=&nbsp;similar(y_idx_series)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to4_56">56</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;w_idx_series[1]&nbsp;=&nbsp;1&nbsp;&nbsp;#&nbsp;initial&nbsp;condition</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to4_57">57</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;t&nbsp;in&nbsp;1:(m-1)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to4_58">58</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;i,&nbsp;j&nbsp;=&nbsp;w_idx_series[t],&nbsp;y_idx_series[t]</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to4_59">59</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;w_idx_series[t+1]&nbsp;=&nbsp;σ_star[i,&nbsp;j]</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to4_60">60</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;end</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to4_61">61</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;w_series&nbsp;=&nbsp;w_grid[w_idx_series]</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to4_62">62</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to4_63">63</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;w_series</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to4_64">64</td><td nowrap="nowrap"><span class="diff_add">end</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to4_65">65</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to4_66">66</td><td nowrap="nowrap"><span class="diff_add">function&nbsp;lorenz(v)&nbsp;&nbsp;#&nbsp;assumed&nbsp;sorted&nbsp;vector</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to4_67">67</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;S&nbsp;=&nbsp;cumsum(v)&nbsp;&nbsp;#&nbsp;cumulative&nbsp;sums:&nbsp;[v[1],&nbsp;v[1]&nbsp;+&nbsp;v[2],&nbsp;...&nbsp;]</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to4_68">68</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;F&nbsp;=&nbsp;(1:length(v))&nbsp;/&nbsp;length(v)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to4_69">69</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;L&nbsp;=&nbsp;S&nbsp;./&nbsp;S[end]</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to4_70">70</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;(;&nbsp;F,&nbsp;L)&nbsp;#&nbsp;returns&nbsp;named&nbsp;tuple</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to4_71">71</td><td nowrap="nowrap"><span class="diff_add">end</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to4_72">72</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to4_73">73</td><td nowrap="nowrap"><span class="diff_add">gini(v)&nbsp;=&nbsp;(2&nbsp;*&nbsp;sum(i&nbsp;*&nbsp;y&nbsp;for&nbsp;(i,y)&nbsp;in&nbsp;enumerate(v))/sum(v)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to4_74">74</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;(length(v)&nbsp;+&nbsp;1))/length(v)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to4_75">75</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to4_76">76</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to4_77">77</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to4_78">78</td><td nowrap="nowrap"><span class="diff_add">#&nbsp;==&nbsp;Plots&nbsp;==&nbsp;#</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_44">44</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to4_79">79</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_45">45</td><td nowrap="nowrap">using&nbsp;PyPlot</td><td class="diff_next"></td><td class="diff_header" id="to4_80">80</td><td nowrap="nowrap">using&nbsp;PyPlot</td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to4__2"></td><td class="diff_header" id="from4_99">99</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;plt.show()</td><td class="diff_next"></td><td class="diff_header" id="to4_134">134</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;plt.show()</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_100">100</td><td nowrap="nowrap">end</td><td class="diff_next"></td><td class="diff_header" id="to4_135">135</td><td nowrap="nowrap">end</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to4__top">t</a></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"><a href="#difflib_chg_to4__top">t</a></td><td class="diff_header" id="to4_136">136</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to4_137">137</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to4_138">138</td><td nowrap="nowrap"><span class="diff_add">function&nbsp;plot_time_series(;&nbsp;m=2_000,</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to4_139">139</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;savefig=false,&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to4_140">140</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;figname="../figures/finite_opt_saving_ts.pdf")</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to4_141">141</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to4_142">142</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;w_series&nbsp;=&nbsp;simulate_wealth(m)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to4_143">143</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;fig,&nbsp;ax&nbsp;=&nbsp;plt.subplots(figsize=(9,&nbsp;5.2))</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to4_144">144</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;ax.plot(w_series,&nbsp;label=L"w_t")</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to4_145">145</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;ax.set_xlabel("time",&nbsp;fontsize=fontsize)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to4_146">146</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;ax.legend(fontsize=fontsize)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to4_147">147</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;plt.show()</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to4_148">148</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;savefig</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to4_149">149</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fig.savefig(figname)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to4_150">150</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;end</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to4_151">151</td><td nowrap="nowrap"><span class="diff_add">end</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to4_152">152</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to4_153">153</td><td nowrap="nowrap"><span class="diff_add">function&nbsp;plot_histogram(;&nbsp;m=1_000_000,</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to4_154">154</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;savefig=false,&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to4_155">155</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;figname="../figures/finite_opt_saving_hist.pdf")</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to4_156">156</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to4_157">157</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;w_series&nbsp;=&nbsp;simulate_wealth(m)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to4_158">158</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;g&nbsp;=&nbsp;round(gini(sort(w_series)),&nbsp;digits=2)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to4_159">159</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;fig,&nbsp;ax&nbsp;=&nbsp;plt.subplots(figsize=(9,&nbsp;5.2))</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to4_160">160</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;ax.hist(w_series,&nbsp;bins=40,&nbsp;density=true)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to4_161">161</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;ax.set_xlabel("wealth",&nbsp;fontsize=fontsize)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to4_162">162</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;ax.text(15,&nbsp;0.4,&nbsp;"Gini&nbsp;=&nbsp;$g",&nbsp;fontsize=fontsize)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to4_163">163</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;plt.show()</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to4_164">164</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to4_165">165</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;savefig</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to4_166">166</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fig.savefig(figname)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to4_167">167</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;end</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to4_168">168</td><td nowrap="nowrap"><span class="diff_add">end</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to4_169">169</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to4_170">170</td><td nowrap="nowrap"><span class="diff_add">function&nbsp;plot_lorenz(;&nbsp;m=1_000_000,</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to4_171">171</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;savefig=false,&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to4_172">172</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;figname="../figures/finite_opt_saving_lorenz.pdf")</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to4_173">173</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to4_174">174</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;w_series&nbsp;=&nbsp;simulate_wealth(m)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to4_175">175</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;(;&nbsp;F,&nbsp;L)&nbsp;=&nbsp;lorenz(sort(w_series))</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to4_176">176</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to4_177">177</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;fig,&nbsp;ax&nbsp;=&nbsp;plt.subplots(figsize=(9,&nbsp;5.2))</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to4_178">178</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;ax.plot(F,&nbsp;F,&nbsp;label="Lorenz&nbsp;curve,&nbsp;equality")</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to4_179">179</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;ax.plot(F,&nbsp;L,&nbsp;label="Lorenz&nbsp;curve,&nbsp;wealth&nbsp;distribution")</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to4_180">180</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;ax.legend()</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to4_181">181</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;plt.show()</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to4_182">182</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to4_183">183</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;savefig</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to4_184">184</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fig.savefig(figname)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to4_185">185</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;end</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to4_186">186</td><td nowrap="nowrap"><span class="diff_add">end</span></td></tr>
        </tbody>
    </table><h1>firm_exit.jl</h1>
<h2><span style="background-color:#ffeab8;"> is unchanged</span></h2>
<h2><span style="background-color:#5b7c99;"> - Python file exists</span></h2>
<h1>firm_hiring.jl</h1>
<h2><span style="background-color:#ffeab8;"> is unchanged</span></h2>
<h2><span style="background-color:#5b7c99;"> - Python file exists</span></h2>
<h1>fosd_tauchen.jl</h1>
<h2><span style="background-color:#ffeab8;"> is unchanged</span></h2>
<h2><span style="background-color:#fde74c;"> - Python file fosd_tauchen.py does not exist</span></h2>
<h1>howard_newton.jl</h1>
<h2><span style="background-color:#ff700a;"> is changed</span></h2>
<h2><span style="background-color:#fde74c;"> - Python file howard_newton.py does not exist</span></h2>

    <table class="diff" id="difflib_chg_to5__top"
           cellspacing="0" cellpadding="0" rules="groups" >
        <colgroup></colgroup> <colgroup></colgroup> <colgroup></colgroup>
        <colgroup></colgroup> <colgroup></colgroup> <colgroup></colgroup>
        <thead><tr><th class="diff_next"><br /></th><th colspan="2" class="diff_header">old public code</th><th class="diff_next"><br /></th><th colspan="2" class="diff_header">new private (jstac) code</th></tr></thead>
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to5__0"></td><td class="diff_header" id="from5_24">24</td><td nowrap="nowrap">ax.plot(xgrid,&nbsp;Tsp.(xgrid),&nbsp;&nbsp;lw=2,&nbsp;alpha=0.6,&nbsp;label=lb_Tsp)</td><td class="diff_next"></td><td class="diff_header" id="to5_24">24</td><td nowrap="nowrap">ax.plot(xgrid,&nbsp;Tsp.(xgrid),&nbsp;&nbsp;lw=2,&nbsp;alpha=0.6,&nbsp;label=lb_Tsp)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from5_25">25</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to5_25">25</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to5__top">t</a></td><td class="diff_header" id="from5_26">26</td><td nowrap="nowrap">ax.plot(xgrid,&nbsp;xgrid,&nbsp;"k--",&nbsp;lw=1,&nbsp;alpha=0.7,&nbsp;label=L"45")</td><td class="diff_next"><a href="#difflib_chg_to5__top">t</a></td><td class="diff_header" id="to5_26">26</td><td nowrap="nowrap">ax.plot(xgrid,&nbsp;xgrid,&nbsp;"k--",&nbsp;lw=1,&nbsp;alpha=0.7,&nbsp;label=L"45<span class="diff_add">^{\circ}</span>")</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from5_27">27</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to5_27">27</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from5_28">28</td><td nowrap="nowrap">fp1&nbsp;=&nbsp;(v1,)</td><td class="diff_next"></td><td class="diff_header" id="to5_28">28</td><td nowrap="nowrap">fp1&nbsp;=&nbsp;(v1,)</td></tr>
        </tbody>
    </table><h1>iid_job_search.jl</h1>
<h2><span style="background-color:#ffeab8;"> is unchanged</span></h2>
<h2><span style="background-color:#5b7c99;"> - Python file exists</span></h2>
<h1>iid_job_search_cv.jl</h1>
<h2><span style="background-color:#ffeab8;"> is unchanged</span></h2>
<h2><span style="background-color:#fde74c;"> - Python file iid_job_search_cv.py does not exist</span></h2>
<h1>inventory_cont_time.jl</h1>
<h2><span style="background-color:#a6deae;">new</span></h2>
<h2><span style="background-color:#fde74c;"> - Python file inventory_cont_time.py does not exist</span></h2>
<h1>inventory_dp.jl</h1>
<h2><span style="background-color:#ff700a;"> is changed</span></h2>
<h2><span style="background-color:#5b7c99;"> - Python file exists</span></h2>

    <table class="diff" id="difflib_chg_to6__top"
           cellspacing="0" cellpadding="0" rules="groups" >
        <colgroup></colgroup> <colgroup></colgroup> <colgroup></colgroup>
        <colgroup></colgroup> <colgroup></colgroup> <colgroup></colgroup>
        <thead><tr><th class="diff_next"><br /></th><th colspan="2" class="diff_header">old public code</th><th class="diff_next"><br /></th><th colspan="2" class="diff_header">new private (jstac) code</th></tr></thead>
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to6__0"><a href="#difflib_chg_to6__0">f</a></td><td class="diff_header" id="from6_1">1</td><td nowrap="nowrap">include("s_approx.jl")</td><td class="diff_next"><a href="#difflib_chg_to6__0">f</a></td><td class="diff_header" id="to6_1">1</td><td nowrap="nowrap">include("s_approx.jl")</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to6__1">n</a></td><td class="diff_header" id="from6_2">2</td><td nowrap="nowrap"><span class="diff_sub">using&nbsp;Distributions,&nbsp;OffsetArrays</span></td><td class="diff_next"><a href="#difflib_chg_to6__1">n</a></td><td class="diff_header" id="to6_2">2</td><td nowrap="nowrap"><span class="diff_add">using&nbsp;Distributions</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from6_3">3</td><td nowrap="nowrap">m(x)&nbsp;=&nbsp;max(x,&nbsp;0)&nbsp;&nbsp;#&nbsp;Convenience&nbsp;function</td><td class="diff_next"></td><td class="diff_header" id="to6_3">3</td><td nowrap="nowrap">m(x)&nbsp;=&nbsp;max(x,&nbsp;0)&nbsp;&nbsp;#&nbsp;Convenience&nbsp;function</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from6_4">4</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to6_4">4</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to6__1"></td><td class="diff_header" id="from6_5">5</td><td nowrap="nowrap">function&nbsp;create_inventory_model(;&nbsp;β=0.98,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;discount&nbsp;factor</td><td class="diff_next"></td><td class="diff_header" id="to6_5">5</td><td nowrap="nowrap">function&nbsp;create_inventory_model(;&nbsp;β=0.98,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;discount&nbsp;factor</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from6_6">6</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;K=40,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;maximum&nbsp;inventory</td><td class="diff_next"></td><td class="diff_header" id="to6_6">6</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;K=40,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;maximum&nbsp;inventory</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to6__2"><a href="#difflib_chg_to6__2">n</a></td><td class="diff_header" id="from6_7">7</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c=0.2,&nbsp;κ=2,&nbsp;#&nbsp;cost&nbsp;param<span class="diff_sub">e</span>ters</td><td class="diff_next"><a href="#difflib_chg_to6__2">n</a></td><td class="diff_header" id="to6_7">7</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c=0.2,&nbsp;κ=2,&nbsp;#&nbsp;cost&nbsp;paramters</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from6_8">8</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;p=0.6)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;demand&nbsp;parameter</td><td class="diff_next"></td><td class="diff_header" id="to6_8">8</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;p=0.6)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;demand&nbsp;parameter</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to6__3">n</a></td><td class="diff_header" id="from6_9">9</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;ϕ(d)&nbsp;=&nbsp;(1&nbsp;-&nbsp;p)^d&nbsp;*&nbsp;p&nbsp;&nbsp;#&nbsp;demand&nbsp;pdf</td><td class="diff_next"><a href="#difflib_chg_to6__3">n</a></td><td class="diff_header" id="to6_9">9</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;ϕ(d)&nbsp;=&nbsp;(1&nbsp;-&nbsp;p)^d&nbsp;*&nbsp;p&nbsp;&nbsp;<span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>#&nbsp;demand&nbsp;pdf</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to6_10">10</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;x_vals&nbsp;=&nbsp;collect(0:K)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;set&nbsp;of&nbsp;inventory&nbsp;levels</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from6_10">10</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;(;&nbsp;β,&nbsp;K,&nbsp;c,&nbsp;κ,&nbsp;p,&nbsp;ϕ)</td><td class="diff_next"></td><td class="diff_header" id="to6_11">11</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;(;&nbsp;β,&nbsp;K,&nbsp;c,&nbsp;κ,&nbsp;p,&nbsp;ϕ<span class="diff_add">,&nbsp;x_vals</span>)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from6_11">11</td><td nowrap="nowrap">end</td><td class="diff_next"></td><td class="diff_header" id="to6_12">12</td><td nowrap="nowrap">end</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from6_12">12</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to6_13">13</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to6__3"></td><td class="diff_header" id="from6_13">13</td><td nowrap="nowrap">"The&nbsp;function&nbsp;B(x,&nbsp;a,&nbsp;v)&nbsp;=&nbsp;r(x,&nbsp;a)&nbsp;+&nbsp;β&nbsp;Σ_x′&nbsp;v(x′)&nbsp;P(x,&nbsp;a,&nbsp;x′)."</td><td class="diff_next"></td><td class="diff_header" id="to6_14">14</td><td nowrap="nowrap">"The&nbsp;function&nbsp;B(x,&nbsp;a,&nbsp;v)&nbsp;=&nbsp;r(x,&nbsp;a)&nbsp;+&nbsp;β&nbsp;Σ_x′&nbsp;v(x′)&nbsp;P(x,&nbsp;a,&nbsp;x′)."</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from6_14">14</td><td nowrap="nowrap">function&nbsp;B(x,&nbsp;a,&nbsp;v,&nbsp;model;&nbsp;d_max=100)</td><td class="diff_next"></td><td class="diff_header" id="to6_15">15</td><td nowrap="nowrap">function&nbsp;B(x,&nbsp;a,&nbsp;v,&nbsp;model;&nbsp;d_max=100)</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to6__4">n</a></td><td class="diff_header" id="from6_15">15</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;(;&nbsp;β,&nbsp;K,&nbsp;c,&nbsp;κ,&nbsp;p,&nbsp;ϕ)&nbsp;=&nbsp;model</td><td class="diff_next"><a href="#difflib_chg_to6__4">n</a></td><td class="diff_header" id="to6_16">16</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;(;&nbsp;β,&nbsp;K,&nbsp;c,&nbsp;κ,&nbsp;p,&nbsp;ϕ<span class="diff_add">,&nbsp;x_vals</span>)&nbsp;=&nbsp;model</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from6_16">16</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;reward&nbsp;=&nbsp;sum(min(x,&nbsp;d)*ϕ(d)&nbsp;for&nbsp;d&nbsp;in&nbsp;0:d_max)&nbsp;-&nbsp;c&nbsp;*&nbsp;a&nbsp;-&nbsp;κ&nbsp;*&nbsp;(a&nbsp;&gt;&nbsp;0)</span></td><td class="diff_next"></td><td class="diff_header" id="to6_17">17</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;revenue&nbsp;=&nbsp;sum(min(x,&nbsp;d)&nbsp;*&nbsp;ϕ(d)&nbsp;for&nbsp;d&nbsp;in&nbsp;0:d_max)&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to6_18">18</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;current_profit&nbsp;=&nbsp;revenue&nbsp;-&nbsp;c&nbsp;*&nbsp;a&nbsp;-&nbsp;κ&nbsp;*&nbsp;(a&nbsp;&gt;&nbsp;0)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from6_17">17</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;<span class="diff_sub">co</span>nt<span class="diff_sub">inuation</span>_value&nbsp;=<span class="diff_sub">&nbsp;β&nbsp;*</span>&nbsp;sum(v[m(x&nbsp;-&nbsp;d)&nbsp;+&nbsp;a]&nbsp;*&nbsp;ϕ(d)&nbsp;for&nbsp;d&nbsp;in&nbsp;0:d_max)</td><td class="diff_next"></td><td class="diff_header" id="to6_19">19</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;n<span class="diff_add">ex</span>t_value&nbsp;=&nbsp;sum(v[m(x&nbsp;-&nbsp;d)&nbsp;+&nbsp;a<span class="diff_add">&nbsp;+&nbsp;1</span>]&nbsp;*&nbsp;ϕ(d)&nbsp;for&nbsp;d&nbsp;in&nbsp;0:d_max)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from6_18">18</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;reward&nbsp;+&nbsp;continuation_value</span></td><td class="diff_next"></td><td class="diff_header" id="to6_20">20</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;current_profit&nbsp;+&nbsp;β&nbsp;*&nbsp;next_value</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from6_19">19</td><td nowrap="nowrap">end</td><td class="diff_next"></td><td class="diff_header" id="to6_21">21</td><td nowrap="nowrap">end</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from6_20">20</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to6_22">22</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to6__4"></td><td class="diff_header" id="from6_21">21</td><td nowrap="nowrap">"The&nbsp;Bellman&nbsp;operator."</td><td class="diff_next"></td><td class="diff_header" id="to6_23">23</td><td nowrap="nowrap">"The&nbsp;Bellman&nbsp;operator."</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from6_22">22</td><td nowrap="nowrap">function&nbsp;T(v,&nbsp;model)</td><td class="diff_next"></td><td class="diff_header" id="to6_24">24</td><td nowrap="nowrap">function&nbsp;T(v,&nbsp;model)</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to6__5"><a href="#difflib_chg_to6__5">n</a></td><td class="diff_header" id="from6_23">23</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;(;&nbsp;β,&nbsp;K,&nbsp;c,&nbsp;κ,&nbsp;p,&nbsp;ϕ)&nbsp;=&nbsp;model</td><td class="diff_next"><a href="#difflib_chg_to6__5">n</a></td><td class="diff_header" id="to6_25">25</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;(;&nbsp;β,&nbsp;K,&nbsp;c,&nbsp;κ,&nbsp;p,&nbsp;ϕ<span class="diff_add">,&nbsp;x_vals</span>)&nbsp;=&nbsp;model</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from6_24">24</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;new_v&nbsp;=&nbsp;similar(v)</td><td class="diff_next"></td><td class="diff_header" id="to6_26">26</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;new_v&nbsp;=&nbsp;similar(v)</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to6__6"><a href="#difflib_chg_to6__6">n</a></td><td class="diff_header" id="from6_25">25</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;x&nbsp;in&nbsp;0:K&nbsp;</span></td><td class="diff_next"><a href="#difflib_chg_to6__6">n</a></td><td class="diff_header" id="to6_27">27</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(x_idx,&nbsp;x)&nbsp;in&nbsp;enumerate(x_vals)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from6_26">26</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Γx&nbsp;=&nbsp;0:(K&nbsp;-&nbsp;x)&nbsp;</td><td class="diff_next"></td><td class="diff_header" id="to6_28">28</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Γx&nbsp;=&nbsp;0:(K&nbsp;-&nbsp;x)&nbsp;</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to6__7">n</a></td><td class="diff_header" id="from6_27">27</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;new_v[x],&nbsp;_&nbsp;=&nbsp;findmax(B(x,&nbsp;a,&nbsp;v,&nbsp;model)&nbsp;for&nbsp;a&nbsp;in&nbsp;Γx)</td><td class="diff_next"><a href="#difflib_chg_to6__7">n</a></td><td class="diff_header" id="to6_29">29</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;new_v[x<span class="diff_add">_idx</span>],&nbsp;_&nbsp;=&nbsp;findmax(B(x,&nbsp;a,&nbsp;v,&nbsp;model)&nbsp;for&nbsp;a&nbsp;in&nbsp;Γx)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from6_28">28</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;end</td><td class="diff_next"></td><td class="diff_header" id="to6_30">30</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;end</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from6_29">29</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;new_v</td><td class="diff_next"></td><td class="diff_header" id="to6_31">31</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;new_v</td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to6__7"></td><td class="diff_header" id="from6_32">32</td><td nowrap="nowrap">"Get&nbsp;a&nbsp;v-greedy&nbsp;policy.&nbsp;&nbsp;Returns&nbsp;a&nbsp;zero-based&nbsp;array."</td><td class="diff_next"></td><td class="diff_header" id="to6_34">34</td><td nowrap="nowrap">"Get&nbsp;a&nbsp;v-greedy&nbsp;policy.&nbsp;&nbsp;Returns&nbsp;a&nbsp;zero-based&nbsp;array."</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from6_33">33</td><td nowrap="nowrap">function&nbsp;get_greedy(v,&nbsp;model)</td><td class="diff_next"></td><td class="diff_header" id="to6_35">35</td><td nowrap="nowrap">function&nbsp;get_greedy(v,&nbsp;model)</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to6__8">n</a></td><td class="diff_header" id="from6_34">34</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;(;&nbsp;β,&nbsp;K,&nbsp;c,&nbsp;κ,&nbsp;p,&nbsp;ϕ)&nbsp;=&nbsp;model</td><td class="diff_next"><a href="#difflib_chg_to6__8">n</a></td><td class="diff_header" id="to6_36">36</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;(;&nbsp;β,&nbsp;K,&nbsp;c,&nbsp;κ,&nbsp;p,&nbsp;ϕ<span class="diff_add">,&nbsp;x_vals</span>)&nbsp;=&nbsp;model</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from6_35">35</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;σ_star&nbsp;=&nbsp;OffsetArray(zeros(Int32,&nbsp;K+1),&nbsp;0:K)</span></td><td class="diff_next"></td><td class="diff_header" id="to6_37">37</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;σ_star&nbsp;=&nbsp;zero(x_vals)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from6_36">36</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;x&nbsp;in&nbsp;0:K&nbsp;</span></td><td class="diff_next"></td><td class="diff_header" id="to6_38">38</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(x_idx,&nbsp;x)&nbsp;in&nbsp;enumerate(x_vals)</span></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to6__8"></td><td class="diff_header" id="from6_37">37</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Γx&nbsp;=&nbsp;0:(K&nbsp;-&nbsp;x)&nbsp;</td><td class="diff_next"></td><td class="diff_header" id="to6_39">39</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Γx&nbsp;=&nbsp;0:(K&nbsp;-&nbsp;x)&nbsp;</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from6_38">38</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_,&nbsp;a_idx&nbsp;=&nbsp;findmax(B(x,&nbsp;a,&nbsp;v,&nbsp;model)&nbsp;for&nbsp;a&nbsp;in&nbsp;Γx)</td><td class="diff_next"></td><td class="diff_header" id="to6_40">40</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_,&nbsp;a_idx&nbsp;=&nbsp;findmax(B(x,&nbsp;a,&nbsp;v,&nbsp;model)&nbsp;for&nbsp;a&nbsp;in&nbsp;Γx)</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to6__9">n</a></td><td class="diff_header" id="from6_39">39</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;σ_star[x]&nbsp;=&nbsp;Γx[a_idx]</td><td class="diff_next"><a href="#difflib_chg_to6__9">n</a></td><td class="diff_header" id="to6_41">41</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;σ_star[x<span class="diff_add">_idx</span>]&nbsp;=&nbsp;Γx[a_idx]</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from6_40">40</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;end</td><td class="diff_next"></td><td class="diff_header" id="to6_42">42</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;end</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from6_41">41</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;σ_star</td><td class="diff_next"></td><td class="diff_header" id="to6_43">43</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;σ_star</td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to6__9"></td><td class="diff_header" id="from6_44">44</td><td nowrap="nowrap">"Use&nbsp;successive_approx&nbsp;to&nbsp;get&nbsp;v_star&nbsp;and&nbsp;then&nbsp;compute&nbsp;greedy."</td><td class="diff_next"></td><td class="diff_header" id="to6_46">46</td><td nowrap="nowrap">"Use&nbsp;successive_approx&nbsp;to&nbsp;get&nbsp;v_star&nbsp;and&nbsp;then&nbsp;compute&nbsp;greedy."</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from6_45">45</td><td nowrap="nowrap">function&nbsp;solve_inventory_model(v_init,&nbsp;model)</td><td class="diff_next"></td><td class="diff_header" id="to6_47">47</td><td nowrap="nowrap">function&nbsp;solve_inventory_model(v_init,&nbsp;model)</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to6__10">n</a></td><td class="diff_header" id="from6_46">46</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;(;&nbsp;β,&nbsp;K,&nbsp;c,&nbsp;κ,&nbsp;p,&nbsp;ϕ)&nbsp;=&nbsp;model</td><td class="diff_next"><a href="#difflib_chg_to6__10">n</a></td><td class="diff_header" id="to6_48">48</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;(;&nbsp;β,&nbsp;K,&nbsp;c,&nbsp;κ,&nbsp;p,&nbsp;ϕ<span class="diff_add">,&nbsp;x_vals</span>)&nbsp;=&nbsp;model</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from6_47">47</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;v_star&nbsp;=&nbsp;successive_approx(v&nbsp;-&gt;&nbsp;T(v,&nbsp;model),&nbsp;v_init)</td><td class="diff_next"></td><td class="diff_header" id="to6_49">49</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;v_star&nbsp;=&nbsp;successive_approx(v&nbsp;-&gt;&nbsp;T(v,&nbsp;model),&nbsp;v_init)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from6_48">48</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;σ_star&nbsp;=&nbsp;get_greedy(v_star,&nbsp;model)</td><td class="diff_next"></td><td class="diff_header" id="to6_50">50</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;σ_star&nbsp;=&nbsp;get_greedy(v_star,&nbsp;model)</td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to6__10"></td><td class="diff_header" id="from6_59">59</td><td nowrap="nowrap">#&nbsp;Create&nbsp;an&nbsp;instance&nbsp;of&nbsp;the&nbsp;model&nbsp;and&nbsp;solve&nbsp;it</td><td class="diff_next"></td><td class="diff_header" id="to6_61">61</td><td nowrap="nowrap">#&nbsp;Create&nbsp;an&nbsp;instance&nbsp;of&nbsp;the&nbsp;model&nbsp;and&nbsp;solve&nbsp;it</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from6_60">60</td><td nowrap="nowrap">model&nbsp;=&nbsp;create_inventory_model()</td><td class="diff_next"></td><td class="diff_header" id="to6_62">62</td><td nowrap="nowrap">model&nbsp;=&nbsp;create_inventory_model()</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to6__11">n</a></td><td class="diff_header" id="from6_61">61</td><td nowrap="nowrap">(;&nbsp;β,&nbsp;K,&nbsp;c,&nbsp;κ,&nbsp;p,&nbsp;ϕ)&nbsp;=&nbsp;model</td><td class="diff_next"><a href="#difflib_chg_to6__11">n</a></td><td class="diff_header" id="to6_63">63</td><td nowrap="nowrap">(;&nbsp;β,&nbsp;K,&nbsp;c,&nbsp;κ,&nbsp;p,&nbsp;ϕ<span class="diff_add">,&nbsp;x_vals</span>)&nbsp;=&nbsp;model</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from6_62">62</td><td nowrap="nowrap"><span class="diff_sub">v_init&nbsp;=&nbsp;OffsetArray(zeros(K+1),&nbsp;0:K)</span></td><td class="diff_next"></td><td class="diff_header" id="to6_64">64</td><td nowrap="nowrap"><span class="diff_add">v_init&nbsp;=&nbsp;zeros(length(x_vals))</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from6_63">63</td><td nowrap="nowrap">v_star,&nbsp;σ_star&nbsp;=&nbsp;solve_inventory_model(v_init,&nbsp;model)</td><td class="diff_next"></td><td class="diff_header" id="to6_65">65</td><td nowrap="nowrap">v_star,&nbsp;σ_star&nbsp;=&nbsp;solve_inventory_model(v_init,&nbsp;model)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from6_64">64</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to6_66">66</td><td nowrap="nowrap"></td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to6__11"></td><td class="diff_header" id="from6_70">70</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;t&nbsp;in&nbsp;1:(ts_length-1)</td><td class="diff_next"></td><td class="diff_header" id="to6_72">72</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;t&nbsp;in&nbsp;1:(ts_length-1)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from6_71">71</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;D&nbsp;=&nbsp;rand(G)</td><td class="diff_next"></td><td class="diff_header" id="to6_73">73</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;D&nbsp;=&nbsp;rand(G)</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to6__top">t</a></td><td class="diff_header" id="from6_72">72</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;X[t+1]&nbsp;=&nbsp;m(X[t]&nbsp;-&nbsp;D)&nbsp;+&nbsp;σ_star[X[t]]</td><td class="diff_next"><a href="#difflib_chg_to6__top">t</a></td><td class="diff_header" id="to6_74">74</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;X[t+1]&nbsp;=&nbsp;m(X[t]&nbsp;-&nbsp;D)&nbsp;+&nbsp;σ_star[X[t]<span class="diff_add">&nbsp;+&nbsp;1</span>]</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from6_73">73</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;end</td><td class="diff_next"></td><td class="diff_header" id="to6_75">75</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;end</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from6_74">74</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;X</td><td class="diff_next"></td><td class="diff_header" id="to6_76">76</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;X</td></tr>
        </tbody>
    </table><h1>inventory_sdd.jl</h1>
<h2><span style="background-color:#ff700a;"> is changed</span></h2>
<h2><span style="background-color:#5b7c99;"> - Python file exists</span></h2>

    <table class="diff" id="difflib_chg_to7__top"
           cellspacing="0" cellpadding="0" rules="groups" >
        <colgroup></colgroup> <colgroup></colgroup> <colgroup></colgroup>
        <colgroup></colgroup> <colgroup></colgroup> <colgroup></colgroup>
        <thead><tr><th class="diff_next"><br /></th><th colspan="2" class="diff_header">old public code</th><th class="diff_next"><br /></th><th colspan="2" class="diff_header">new private (jstac) code</th></tr></thead>
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to7__0"></td><td class="diff_header" id="from7_9">9</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to7_9">9</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_10">10</td><td nowrap="nowrap">include("s_approx.jl")</td><td class="diff_next"></td><td class="diff_header" id="to7_10">10</td><td nowrap="nowrap">include("s_approx.jl")</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to7__1">n</a></td><td class="diff_header" id="from7_11">11</td><td nowrap="nowrap">using&nbsp;LinearAlgebra,&nbsp;<span class="diff_sub">Random,&nbsp;</span>Distributions,&nbsp;QuantEcon</td><td class="diff_next"><a href="#difflib_chg_to7__1">n</a></td><td class="diff_header" id="to7_11">11</td><td nowrap="nowrap">using&nbsp;LinearAlgebra,&nbsp;Distributions,&nbsp;QuantEcon</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_12">12</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_13">13</td><td nowrap="nowrap"><span class="diff_sub">f(y,&nbsp;a,&nbsp;d)&nbsp;=&nbsp;max(y&nbsp;-&nbsp;d,&nbsp;0)&nbsp;+&nbsp;a&nbsp;&nbsp;#&nbsp;Inventory&nbsp;update</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_14">14</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to7_12">12</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to7__1"></td><td class="diff_header" id="from7_15">15</td><td nowrap="nowrap">function&nbsp;create_sdd_inventory_model(;&nbsp;</td><td class="diff_next"></td><td class="diff_header" id="to7_13">13</td><td nowrap="nowrap">function&nbsp;create_sdd_inventory_model(;&nbsp;</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_16">16</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ρ=0.98,&nbsp;ν=0.002,&nbsp;n_z=20,&nbsp;b=0.97,&nbsp;&nbsp;#&nbsp;Z&nbsp;state&nbsp;parameters</td><td class="diff_next"></td><td class="diff_header" id="to7_14">14</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ρ=0.98,&nbsp;ν=0.002,&nbsp;n_z=20,&nbsp;b=0.97,&nbsp;&nbsp;#&nbsp;Z&nbsp;state&nbsp;parameters</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to7__2">n</a></td><td class="diff_header" id="from7_17">17</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;K=40,&nbsp;c=0.2,&nbsp;κ=0.8,&nbsp;p=0.6<span class="diff_chg">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;firm&nbsp;and&nbsp;demand&nbsp;parameters</td><td class="diff_next"><a href="#difflib_chg_to7__2">n</a></td><td class="diff_header" id="to7_15">15</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;K=40,&nbsp;c=0.2,&nbsp;κ=0.8,&nbsp;p=0.6<span class="diff_chg">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;firm&nbsp;and&nbsp;demand&nbsp;parameters</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_18">18</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d_max=100)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;truncation&nbsp;of&nbsp;demand&nbsp;shock</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to7__2"></td><td class="diff_header" id="from7_19">19</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_20">20</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;ϕ(d)&nbsp;=&nbsp;(1&nbsp;-&nbsp;p)^d&nbsp;*&nbsp;p&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;demand&nbsp;pdf</td><td class="diff_next"></td><td class="diff_header" id="to7_16">16</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;ϕ(d)&nbsp;=&nbsp;(1&nbsp;-&nbsp;p)^d&nbsp;*&nbsp;p&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;demand&nbsp;pdf</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to7__3">n</a></td><td class="diff_header" id="from7_21">21</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;d_vals&nbsp;=&nbsp;collect(0:d_max)</span></td><td class="diff_next"><a href="#difflib_chg_to7__3">n</a></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to7__3"></td><td class="diff_header" id="from7_22">22</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;ϕ_vals&nbsp;=&nbsp;ϕ.(d_vals)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_23">23</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;y_vals&nbsp;=&nbsp;collect(0:K)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;inventory&nbsp;levels</td><td class="diff_next"></td><td class="diff_header" id="to7_17">17</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;y_vals&nbsp;=&nbsp;collect(0:K)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;inventory&nbsp;levels</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to7__4">n</a></td><td class="diff_header" id="from7_24">24</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;n_y&nbsp;=&nbsp;length(y_vals)</span></td><td class="diff_next"><a href="#difflib_chg_to7__4">n</a></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_25">25</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;mc&nbsp;=&nbsp;tauchen(n_z,&nbsp;ρ,&nbsp;ν)</td><td class="diff_next"></td><td class="diff_header" id="to7_18">18</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;mc&nbsp;=&nbsp;tauchen(n_z,&nbsp;ρ,&nbsp;ν)</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to7__4"></td><td class="diff_header" id="from7_26">26</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;z_vals,&nbsp;Q&nbsp;=&nbsp;mc.state_values&nbsp;.+&nbsp;b,&nbsp;mc.p</td><td class="diff_next"></td><td class="diff_header" id="to7_19">19</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;z_vals,&nbsp;Q&nbsp;=&nbsp;mc.state_values&nbsp;.+&nbsp;b,&nbsp;mc.p</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_27">27</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;ρL&nbsp;=&nbsp;maximum(abs.(eigvals(z_vals&nbsp;.*&nbsp;Q)))&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td class="diff_next"></td><td class="diff_header" id="to7_20">20</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;ρL&nbsp;=&nbsp;maximum(abs.(eigvals(z_vals&nbsp;.*&nbsp;Q)))&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to7__5">n</a></td><td class="diff_header" id="from7_28">28</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;@assert&nbsp;&nbsp;ρL&nbsp;&lt;&nbsp;1&nbsp;"Error:&nbsp;ρ(L)&nbsp;≥&nbsp;1."&nbsp;&nbsp;&nbsp;&nbsp;</td><td class="diff_next"><a href="#difflib_chg_to7__5">n</a></td><td class="diff_header" id="to7_21">21</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;@assert&nbsp;&nbsp;ρL&nbsp;&lt;&nbsp;1&nbsp;"Error:&nbsp;ρ(L)&nbsp;≥&nbsp;1."&nbsp;&nbsp;&nbsp;&nbsp;<span class="diff_add">#&nbsp;check&nbsp;ρ(L)&nbsp;&lt;&nbsp;1</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to7_22">22</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;(;&nbsp;K,&nbsp;c,&nbsp;κ,&nbsp;p,&nbsp;ϕ,&nbsp;y_vals,&nbsp;z_vals,&nbsp;Q)</span></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to7__5"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to7_23">23</td><td nowrap="nowrap"><span class="diff_add">end</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_29">29</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to7_24">24</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to7__6">n</a></td><td class="diff_header" id="from7_30">30</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;R&nbsp;=&nbsp;zeros(n_y,&nbsp;n_y,&nbsp;n_y)</span></td><td class="diff_next"><a href="#difflib_chg_to7__6">n</a></td><td class="diff_header" id="to7_25">25</td><td nowrap="nowrap"><span class="diff_add">m(y)&nbsp;=&nbsp;max(y,&nbsp;0)&nbsp;&nbsp;#&nbsp;Convenience&nbsp;function</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_31">31</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(i_y,&nbsp;y)&nbsp;in&nbsp;enumerate(y_vals)</span></td><td class="diff_next"></td><td class="diff_header" id="to7_26">26</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_32">32</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(i_y′,&nbsp;y′)&nbsp;in&nbsp;enumerate(y_vals)</span></td><td class="diff_next"></td><td class="diff_header" id="to7_27">27</td><td nowrap="nowrap"><span class="diff_add">"The&nbsp;function&nbsp;B(x,&nbsp;a,&nbsp;v)&nbsp;=&nbsp;r(x,&nbsp;a)&nbsp;+&nbsp;β(x)&nbsp;Σ_x′&nbsp;v(x′)&nbsp;P(x,&nbsp;a,&nbsp;x′)."</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_33">33</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(i_a,&nbsp;a)&nbsp;in&nbsp;enumerate(0:(K&nbsp;-&nbsp;y))</span></td><td class="diff_next"></td><td class="diff_header" id="to7_28">28</td><td nowrap="nowrap"><span class="diff_add">function&nbsp;B(x,&nbsp;i_z,&nbsp;a,&nbsp;v,&nbsp;model;&nbsp;d_max=100)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_34">34</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hits&nbsp;=&nbsp;f.(y,&nbsp;a,&nbsp;d_vals)&nbsp;.==&nbsp;y′</span></td><td class="diff_next"></td><td class="diff_header" id="to7_29">29</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;(;&nbsp;K,&nbsp;c,&nbsp;κ,&nbsp;p,&nbsp;ϕ,&nbsp;y_vals,&nbsp;z_vals,&nbsp;Q)&nbsp;=&nbsp;model</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_35">35</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;R[i_y,&nbsp;i_a,&nbsp;i_y′]&nbsp;=&nbsp;dot(hits,&nbsp;ϕ_vals)</span></td><td class="diff_next"></td><td class="diff_header" id="to7_30">30</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;z&nbsp;=&nbsp;z_vals[i_z]</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_36">36</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</span></td><td class="diff_next"></td><td class="diff_header" id="to7_31">31</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;revenue&nbsp;=&nbsp;sum(min(x,&nbsp;d)*ϕ(d)&nbsp;for&nbsp;d&nbsp;in&nbsp;0:d_max)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to7_32">32</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;current_profit&nbsp;=&nbsp;&nbsp;revenue&nbsp;-&nbsp;c&nbsp;*&nbsp;a&nbsp;-&nbsp;κ&nbsp;*&nbsp;(a&nbsp;&gt;&nbsp;0)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to7_33">33</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;cv&nbsp;=&nbsp;0.0</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to7_34">34</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;i_z′&nbsp;in&nbsp;eachindex(z_vals)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to7_35">35</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;d&nbsp;in&nbsp;0:d_max</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to7_36">36</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cv&nbsp;+=&nbsp;v[m(x&nbsp;-&nbsp;d)&nbsp;+&nbsp;a&nbsp;+&nbsp;1,&nbsp;i_z′]&nbsp;*&nbsp;ϕ(d)&nbsp;*&nbsp;Q[i_z,&nbsp;i_z′]</span></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to7__6"></td><td class="diff_header" id="from7_37">37</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</td><td class="diff_next"></td><td class="diff_header" id="to7_37">37</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_38">38</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;end</td><td class="diff_next"></td><td class="diff_header" id="to7_38">38</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;end</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to7__7">n</a></td><td class="diff_header" id="from7_39">39</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"><a href="#difflib_chg_to7__7">n</a></td><td class="diff_header" id="to7_39">39</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;current_profit&nbsp;+&nbsp;z&nbsp;*&nbsp;cv</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_40">40</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;r&nbsp;=&nbsp;fill(-Inf,&nbsp;n_y,&nbsp;n_y)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_41">41</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(i_y,&nbsp;y)&nbsp;in&nbsp;enumerate(y_vals)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_42">42</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(i_a,&nbsp;a)&nbsp;in&nbsp;enumerate(0:(K&nbsp;-&nbsp;y))</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_43">43</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cost&nbsp;=&nbsp;c&nbsp;*&nbsp;a&nbsp;+&nbsp;κ&nbsp;*&nbsp;(a&nbsp;&gt;&nbsp;0)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_44">44</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r[i_y,&nbsp;i_a]&nbsp;=&nbsp;dot(min.(y,&nbsp;d_vals),&nbsp;&nbsp;ϕ_vals)&nbsp;-&nbsp;cost</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_45">45</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_46">46</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;end</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_47">47</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to7__7"></td><td class="diff_header" id="from7_48">48</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;(;&nbsp;K,&nbsp;c,&nbsp;κ,&nbsp;p,&nbsp;r,&nbsp;R,&nbsp;y_vals,&nbsp;z_vals,&nbsp;Q)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_49">49</td><td nowrap="nowrap">end</td><td class="diff_next"></td><td class="diff_header" id="to7_40">40</td><td nowrap="nowrap">end</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to7__8">n</a></td><td class="diff_header" id="from7_50">50</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"><a href="#difflib_chg_to7__8">n</a></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_51">51</td><td nowrap="nowrap"><span class="diff_sub">"""</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_52">52</td><td nowrap="nowrap"><span class="diff_sub">The&nbsp;function&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_53">53</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;B(y,&nbsp;a,&nbsp;v)&nbsp;=&nbsp;r(y,&nbsp;a)&nbsp;+&nbsp;β(z)&nbsp;Σ_{d,&nbsp;z′}&nbsp;v(f(y,&nbsp;a,&nbsp;d),&nbsp;z′)&nbsp;ϕ(d)&nbsp;Q(z,&nbsp;z′)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_54">54</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_55">55</td><td nowrap="nowrap"><span class="diff_sub">"""</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_56">56</td><td nowrap="nowrap"><span class="diff_sub">function&nbsp;B(i_y,&nbsp;i_z,&nbsp;i_a,&nbsp;v,&nbsp;model)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_57">57</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;(;&nbsp;K,&nbsp;c,&nbsp;κ,&nbsp;p,&nbsp;r,&nbsp;R,&nbsp;y_vals,&nbsp;z_vals,&nbsp;Q)&nbsp;=&nbsp;model</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_58">58</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;β&nbsp;=&nbsp;z_vals[i_z]</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_59">59</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;cv&nbsp;=&nbsp;0.0</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_60">60</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;i_z′&nbsp;in&nbsp;eachindex(z_vals)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_61">61</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;i_y′&nbsp;in&nbsp;eachindex(y_vals)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_62">62</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cv&nbsp;+=&nbsp;v[i_y′,&nbsp;i_z′]&nbsp;*&nbsp;R[i_y,&nbsp;i_a,&nbsp;i_y′]&nbsp;*&nbsp;Q[i_z,&nbsp;i_z′]</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_63">63</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_64">64</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;end</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_65">65</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;r[i_y,&nbsp;i_a]&nbsp;+&nbsp;β&nbsp;*&nbsp;cv</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_66">66</td><td nowrap="nowrap"><span class="diff_sub">end</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_67">67</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to7_41">41</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to7__8"></td><td class="diff_header" id="from7_68">68</td><td nowrap="nowrap">"The&nbsp;Bellman&nbsp;operator."</td><td class="diff_next"></td><td class="diff_header" id="to7_42">42</td><td nowrap="nowrap">"The&nbsp;Bellman&nbsp;operator."</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_69">69</td><td nowrap="nowrap">function&nbsp;T(v,&nbsp;model)</td><td class="diff_next"></td><td class="diff_header" id="to7_43">43</td><td nowrap="nowrap">function&nbsp;T(v,&nbsp;model)</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to7__9"><a href="#difflib_chg_to7__9">n</a></td><td class="diff_header" id="from7_70">70</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;(;&nbsp;K,&nbsp;c,&nbsp;κ,&nbsp;p,&nbsp;<span class="diff_chg">r</span>,<span class="diff_sub">&nbsp;R,</span>&nbsp;y_vals,&nbsp;z_vals,&nbsp;Q)&nbsp;=&nbsp;model</td><td class="diff_next"><a href="#difflib_chg_to7__9">n</a></td><td class="diff_header" id="to7_44">44</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;(;&nbsp;K,&nbsp;c,&nbsp;κ,&nbsp;p,&nbsp;<span class="diff_chg">ϕ</span>,&nbsp;y_vals,&nbsp;z_vals,&nbsp;Q)&nbsp;=&nbsp;model</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_71">71</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;new_v&nbsp;=&nbsp;similar(v)</td><td class="diff_next"></td><td class="diff_header" id="to7_45">45</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;new_v&nbsp;=&nbsp;similar(v)</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to7__10"><a href="#difflib_chg_to7__10">n</a></td><td class="diff_header" id="from7_72">72</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;i_z&nbsp;in&nbsp;ea<span class="diff_chg">chind</span>e<span class="diff_sub">x</span>(z_vals)</td><td class="diff_next"><a href="#difflib_chg_to7__10">n</a></td><td class="diff_header" id="to7_46">46</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;<span class="diff_add">(</span>i_z<span class="diff_add">,&nbsp;z)</span>&nbsp;in&nbsp;e<span class="diff_add">numer</span>a<span class="diff_chg">t</span>e(z_vals)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_73">73</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(i_y,&nbsp;y)&nbsp;in&nbsp;enumerate(y_vals)</td><td class="diff_next"></td><td class="diff_header" id="to7_47">47</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(i_y,&nbsp;y)&nbsp;in&nbsp;enumerate(y_vals)</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to7__11">n</a></td><td class="diff_header" id="from7_74">74</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Γy&nbsp;=&nbsp;<span class="diff_chg">1</span>:(K&nbsp;-&nbsp;y<span class="diff_sub">&nbsp;+&nbsp;1</span>)</td><td class="diff_next"><a href="#difflib_chg_to7__11">n</a></td><td class="diff_header" id="to7_48">48</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Γy&nbsp;=&nbsp;<span class="diff_chg">0</span>:(K&nbsp;-&nbsp;y)<span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_75">75</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;new_v[i_y,&nbsp;i_z],&nbsp;_&nbsp;=&nbsp;findmax(B(<span class="diff_sub">i_</span>y,&nbsp;i_z,&nbsp;<span class="diff_sub">i_</span>a,&nbsp;v,&nbsp;model)&nbsp;for&nbsp;<span class="diff_sub">i_</span>a&nbsp;in&nbsp;Γy)</td><td class="diff_next"></td><td class="diff_header" id="to7_49">49</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;new_v[i_y,&nbsp;i_z],&nbsp;_&nbsp;=&nbsp;findmax(B(y,&nbsp;i_z,&nbsp;a,&nbsp;v,&nbsp;model)&nbsp;for&nbsp;a&nbsp;in&nbsp;Γy)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_76">76</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</td><td class="diff_next"></td><td class="diff_header" id="to7_50">50</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_77">77</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;end</td><td class="diff_next"></td><td class="diff_header" id="to7_51">51</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;end</td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to7__11"></td><td class="diff_header" id="from7_79">79</td><td nowrap="nowrap">end</td><td class="diff_next"></td><td class="diff_header" id="to7_53">53</td><td nowrap="nowrap">end</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_80">80</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to7_54">54</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to7__12">n</a></td><td class="diff_header" id="from7_81">81</td><td nowrap="nowrap"><span class="diff_sub">"The&nbsp;policy&nbsp;operator."</span></td><td class="diff_next"><a href="#difflib_chg_to7__12">n</a></td><td class="diff_header" id="to7_55">55</td><td nowrap="nowrap"><span class="diff_add">"Get&nbsp;a&nbsp;v-greedy&nbsp;policy.&nbsp;&nbsp;Returns&nbsp;a&nbsp;zero-based&nbsp;array."</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_82">82</td><td nowrap="nowrap"><span class="diff_sub">function&nbsp;T_σ(v,&nbsp;σ,&nbsp;model)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_83">83</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;(;&nbsp;K,&nbsp;c,&nbsp;κ,&nbsp;p,&nbsp;r,&nbsp;R,&nbsp;y_vals,&nbsp;z_vals,&nbsp;Q)&nbsp;=&nbsp;model</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_84">84</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;new_v&nbsp;=&nbsp;similar(v)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_85">85</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(i_z,&nbsp;z)&nbsp;in&nbsp;enumerate(z_vals)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_86">86</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(i_y,&nbsp;y)&nbsp;in&nbsp;enumerate(y_vals)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_87">87</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;new_v[i_y,&nbsp;i_z]&nbsp;=&nbsp;B(i_y,&nbsp;i_z,&nbsp;σ[i_y,&nbsp;i_z],&nbsp;v,&nbsp;model)&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_88">88</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_89">89</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;end</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_90">90</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;new_v</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_91">91</td><td nowrap="nowrap"><span class="diff_sub">end</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_92">92</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_93">93</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to7__12"></td><td class="diff_header" id="from7_94">94</td><td nowrap="nowrap"><span class="diff_sub">"Get&nbsp;a&nbsp;v-greedy&nbsp;policy.&nbsp;&nbsp;Returns&nbsp;indices&nbsp;of&nbsp;choices."</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_95">95</td><td nowrap="nowrap">function&nbsp;get_greedy(v,&nbsp;model)</td><td class="diff_next"></td><td class="diff_header" id="to7_56">56</td><td nowrap="nowrap">function&nbsp;get_greedy(v,&nbsp;model)</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to7__13">n</a></td><td class="diff_header" id="from7_96">96</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;(;&nbsp;K,&nbsp;c,&nbsp;κ,&nbsp;p,&nbsp;<span class="diff_chg">r</span>,<span class="diff_sub">&nbsp;R,</span>&nbsp;y_vals,&nbsp;z_vals,&nbsp;Q)&nbsp;=&nbsp;model</td><td class="diff_next"><a href="#difflib_chg_to7__13">n</a></td><td class="diff_header" id="to7_57">57</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;(;&nbsp;K,&nbsp;c,&nbsp;κ,&nbsp;p,&nbsp;<span class="diff_chg">ϕ</span>,&nbsp;y_vals,&nbsp;z_vals,&nbsp;Q)&nbsp;=&nbsp;model</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_97">97</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;n_z&nbsp;=&nbsp;length(z_vals)</td><td class="diff_next"></td><td class="diff_header" id="to7_58">58</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;n_z&nbsp;=&nbsp;length(z_vals)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_98">98</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;σ_star&nbsp;=&nbsp;zeros(Int32,&nbsp;K+1,&nbsp;n_z)</td><td class="diff_next"></td><td class="diff_header" id="to7_59">59</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;σ_star&nbsp;=&nbsp;zeros(Int32,&nbsp;K+1,&nbsp;n_z)</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to7__13"></td><td class="diff_header" id="from7_99">99</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(i_z,&nbsp;z)&nbsp;in&nbsp;enumerate(z_vals)</td><td class="diff_next"></td><td class="diff_header" id="to7_60">60</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(i_z,&nbsp;z)&nbsp;in&nbsp;enumerate(z_vals)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_100">100</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(i_y,&nbsp;y)&nbsp;in&nbsp;enumerate(y_vals)</td><td class="diff_next"></td><td class="diff_header" id="to7_61">61</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(i_y,&nbsp;y)&nbsp;in&nbsp;enumerate(y_vals)</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to7__14">n</a></td><td class="diff_header" id="from7_101">101</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Γy&nbsp;=&nbsp;<span class="diff_chg">1</span>:(K&nbsp;-&nbsp;y<span class="diff_sub">&nbsp;+&nbsp;1</span>)</td><td class="diff_next"><a href="#difflib_chg_to7__14">n</a></td><td class="diff_header" id="to7_62">62</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Γy&nbsp;=&nbsp;<span class="diff_chg">0</span>:(K&nbsp;-&nbsp;y)<span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_102">102</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_,&nbsp;i_a&nbsp;=&nbsp;findmax(B(<span class="diff_sub">i_</span>y,&nbsp;i_z,&nbsp;<span class="diff_sub">i_</span>a,&nbsp;v,&nbsp;model)&nbsp;for&nbsp;<span class="diff_sub">i_</span>a&nbsp;in&nbsp;Γy)</td><td class="diff_next"></td><td class="diff_header" id="to7_63">63</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_,&nbsp;i_a&nbsp;=&nbsp;findmax(B(y,&nbsp;i_z,&nbsp;a,&nbsp;v,&nbsp;model)&nbsp;for&nbsp;a&nbsp;in&nbsp;Γy)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_103">103</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;σ_star[i_y,&nbsp;i_z]&nbsp;=&nbsp;Γy[i_a]</td><td class="diff_next"></td><td class="diff_header" id="to7_64">64</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;σ_star[i_y,&nbsp;i_z]&nbsp;=&nbsp;Γy[i_a]</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_104">104</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</td><td class="diff_next"></td><td class="diff_header" id="to7_65">65</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to7__14"></td><td class="diff_header" id="from7_108">108</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to7_69">69</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_109">109</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to7_70">70</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to7__15">n</a></td><td class="diff_header" id="from7_110">110</td><td nowrap="nowrap"><span class="diff_sub">"Approximate&nbsp;lifetime&nbsp;value&nbsp;of&nbsp;policy&nbsp;σ."</span></td><td class="diff_next"><a href="#difflib_chg_to7__15">n</a></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_111">111</td><td nowrap="nowrap"><span class="diff_sub">function&nbsp;get_value(v_init,&nbsp;σ,&nbsp;m,&nbsp;model)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_112">112</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;v&nbsp;=&nbsp;v_init</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_113">113</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;i&nbsp;in&nbsp;1:m</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_114">114</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;v&nbsp;=&nbsp;T_σ(v,&nbsp;σ,&nbsp;model)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_115">115</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;end</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_116">116</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;v</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_117">117</td><td nowrap="nowrap"><span class="diff_sub">end</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to7__15"></td><td class="diff_header" id="from7_118">118</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_119">119</td><td nowrap="nowrap">"Use&nbsp;successive_approx&nbsp;to&nbsp;get&nbsp;v_star&nbsp;and&nbsp;then&nbsp;compute&nbsp;greedy."</td><td class="diff_next"></td><td class="diff_header" id="to7_71">71</td><td nowrap="nowrap">"Use&nbsp;successive_approx&nbsp;to&nbsp;get&nbsp;v_star&nbsp;and&nbsp;then&nbsp;compute&nbsp;greedy."</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to7__16">n</a></td><td class="diff_header" id="from7_120">120</td><td nowrap="nowrap"><span class="diff_sub">function&nbsp;value_function_iteration(v_init,&nbsp;model)</span></td><td class="diff_next"><a href="#difflib_chg_to7__16">n</a></td><td class="diff_header" id="to7_72">72</td><td nowrap="nowrap"><span class="diff_add">function&nbsp;solve_inventory_model(v_init,&nbsp;model)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to7_73">73</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;(;&nbsp;K,&nbsp;c,&nbsp;κ,&nbsp;p,&nbsp;ϕ,&nbsp;y_vals,&nbsp;z_vals,&nbsp;Q)&nbsp;=&nbsp;model</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_121">121</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;v_star&nbsp;=&nbsp;successive_approx(v&nbsp;-&gt;&nbsp;T(v,&nbsp;model),&nbsp;v_init)</td><td class="diff_next"></td><td class="diff_header" id="to7_74">74</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;v_star&nbsp;=&nbsp;successive_approx(v&nbsp;-&gt;&nbsp;T(v,&nbsp;model),&nbsp;v_init)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_122">122</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;σ_star&nbsp;=&nbsp;get_greedy(v_star,&nbsp;model)</td><td class="diff_next"></td><td class="diff_header" id="to7_75">75</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;σ_star&nbsp;=&nbsp;get_greedy(v_star,&nbsp;model)</td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to7__16"></td><td class="diff_header" id="from7_125">125</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to7_78">78</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_126">126</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to7_79">79</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to7__17">n</a></td><td class="diff_header" id="from7_127">127</td><td nowrap="nowrap"><span class="diff_sub">"Optimistic&nbsp;policy&nbsp;iteration&nbsp;routine."</span></td><td class="diff_next"><a href="#difflib_chg_to7__17">n</a></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_128">128</td><td nowrap="nowrap"><span class="diff_sub">function&nbsp;optimistic_policy_iteration(v_init,&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_129">129</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model;&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_130">130</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tolerance=1e-6,&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_131">131</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;max_iter=1_000,</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_132">132</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print_step=10,</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_133">133</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m=60)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_134">134</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;v&nbsp;=&nbsp;v_init</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_135">135</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;error&nbsp;=&nbsp;tolerance&nbsp;+&nbsp;1</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_136">136</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;k&nbsp;=&nbsp;1</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_137">137</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;error&nbsp;&gt;&nbsp;tolerance&nbsp;&amp;&amp;&nbsp;k&nbsp;&lt;&nbsp;max_iter</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_138">138</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;last_v&nbsp;=&nbsp;v</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_139">139</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;σ&nbsp;=&nbsp;get_greedy(v,&nbsp;model)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_140">140</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;v&nbsp;=&nbsp;get_value(v,&nbsp;σ,&nbsp;m,&nbsp;model)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_141">141</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;error&nbsp;=&nbsp;maximum(abs.(v&nbsp;-&nbsp;last_v))</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_142">142</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;k&nbsp;%&nbsp;print_step&nbsp;==&nbsp;0</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_143">143</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;println("Completed&nbsp;iteration&nbsp;$k&nbsp;with&nbsp;error&nbsp;$error.")</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_144">144</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_145">145</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;k&nbsp;+=&nbsp;1</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_146">146</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;end</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_147">147</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;v,&nbsp;get_greedy(v,&nbsp;model)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_148">148</td><td nowrap="nowrap"><span class="diff_sub">end</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_149">149</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_150">150</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_151">151</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to7__17"></td><td class="diff_header" id="from7_152">152</td><td nowrap="nowrap">#&nbsp;==&nbsp;Plots&nbsp;==&nbsp;#&nbsp;</td><td class="diff_next"></td><td class="diff_header" id="to7_80">80</td><td nowrap="nowrap">#&nbsp;==&nbsp;Plots&nbsp;==&nbsp;#&nbsp;</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_153">153</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to7_81">81</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to7__18">n</a></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"><a href="#difflib_chg_to7__18">n</a></td><td class="diff_header" id="to7_82">82</td><td nowrap="nowrap"><span class="diff_add">using&nbsp;PyPlot</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_154">154</td><td nowrap="nowrap">using&nbsp;PyPlot</td><td class="diff_next"></td><td class="diff_header" id="to7_83">83</td><td nowrap="nowrap">using&nbsp;PyPlot</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_155">155</td><td nowrap="nowrap">using&nbsp;LaTeXStrings</td><td class="diff_next"></td><td class="diff_header" id="to7_84">84</td><td nowrap="nowrap">using&nbsp;LaTeXStrings</td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to7__18"></td><td class="diff_header" id="from7_157">157</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to7_86">86</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_158">158</td><td nowrap="nowrap">#&nbsp;Create&nbsp;an&nbsp;instance&nbsp;of&nbsp;the&nbsp;model&nbsp;and&nbsp;solve&nbsp;it</td><td class="diff_next"></td><td class="diff_header" id="to7_87">87</td><td nowrap="nowrap">#&nbsp;Create&nbsp;an&nbsp;instance&nbsp;of&nbsp;the&nbsp;model&nbsp;and&nbsp;solve&nbsp;it</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to7__19">n</a></td><td class="diff_header" id="from7_159">159</td><td nowrap="nowrap"><span class="diff_sub">println("Create&nbsp;model&nbsp;instance.")</span></td><td class="diff_next"><a href="#difflib_chg_to7__19">n</a></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_160">160</td><td nowrap="nowrap"><span class="diff_sub">@time&nbsp;</span>model&nbsp;=&nbsp;create_sdd_inventory_model()</td><td class="diff_next"></td><td class="diff_header" id="to7_88">88</td><td nowrap="nowrap">model&nbsp;=&nbsp;create_sdd_inventory_model()</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_161">161</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_162">162</td><td nowrap="nowrap">(;&nbsp;K,&nbsp;c,&nbsp;κ,&nbsp;p,&nbsp;<span class="diff_chg">r</span>,<span class="diff_sub">&nbsp;R,</span>&nbsp;y_vals,&nbsp;z_vals,&nbsp;Q)&nbsp;=&nbsp;model</td><td class="diff_next"></td><td class="diff_header" id="to7_89">89</td><td nowrap="nowrap">(;&nbsp;K,&nbsp;c,&nbsp;κ,&nbsp;p,&nbsp;<span class="diff_chg">ϕ</span>,&nbsp;y_vals,&nbsp;z_vals,&nbsp;Q)&nbsp;=&nbsp;model</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to7__19"></td><td class="diff_header" id="from7_163">163</td><td nowrap="nowrap">n_z&nbsp;=&nbsp;length(z_vals)</td><td class="diff_next"></td><td class="diff_header" id="to7_90">90</td><td nowrap="nowrap">n_z&nbsp;=&nbsp;length(z_vals)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_164">164</td><td nowrap="nowrap">v_init&nbsp;=&nbsp;zeros(Float64,&nbsp;K+1,&nbsp;n_z)</td><td class="diff_next"></td><td class="diff_header" id="to7_91">91</td><td nowrap="nowrap">v_init&nbsp;=&nbsp;zeros(Float64,&nbsp;K+1,&nbsp;n_z)</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to7__20"><a href="#difflib_chg_to7__20">n</a></td><td class="diff_header" id="from7_165">165</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"><a href="#difflib_chg_to7__20">n</a></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_166">166</td><td nowrap="nowrap">println("Solving&nbsp;model.")</td><td class="diff_next"></td><td class="diff_header" id="to7_92">92</td><td nowrap="nowrap">println("Solving&nbsp;model.")</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to7__21">n</a></td><td class="diff_header" id="from7_167">167</td><td nowrap="nowrap"><span class="diff_sub">@time&nbsp;v_star,&nbsp;σ_star&nbsp;=&nbsp;optimistic_policy_iteration(v_init,&nbsp;model)</span></td><td class="diff_next"><a href="#difflib_chg_to7__21">n</a></td><td class="diff_header" id="to7_93">93</td><td nowrap="nowrap"><span class="diff_add">v_star,&nbsp;σ_star&nbsp;=&nbsp;solve_inventory_model(v_init,&nbsp;model)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_168">168</td><td nowrap="nowrap"><span class="diff_sub">#@time&nbsp;v_star_vfi,&nbsp;σ_star_vfi&nbsp;=&nbsp;value_function_iteration(v_init,&nbsp;model)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_169">169</td><td nowrap="nowrap">z_mc&nbsp;=&nbsp;MarkovChain(Q,&nbsp;z_vals)</td><td class="diff_next"></td><td class="diff_header" id="to7_94">94</td><td nowrap="nowrap">z_mc&nbsp;=&nbsp;MarkovChain(Q,&nbsp;z_vals)</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to7__21"></td><td class="diff_header" id="from7_170">170</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to7_95">95</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_171">171</td><td nowrap="nowrap">"Simulate&nbsp;given&nbsp;the&nbsp;optimal&nbsp;policy."</td><td class="diff_next"></td><td class="diff_header" id="to7_96">96</td><td nowrap="nowrap">"Simulate&nbsp;given&nbsp;the&nbsp;optimal&nbsp;policy."</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to7__22">n</a></td><td class="diff_header" id="from7_172">172</td><td nowrap="nowrap">function&nbsp;sim_inventories(ts_length;&nbsp;X_init=0<span class="diff_sub">,&nbsp;seed=500</span>)</td><td class="diff_next"><a href="#difflib_chg_to7__22">n</a></td><td class="diff_header" id="to7_97">97</td><td nowrap="nowrap">function&nbsp;sim_inventories(ts_length;&nbsp;X_init=0)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_173">173</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;Random.seed!(seed)&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_174">174</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;i_z&nbsp;=&nbsp;simulate_indices(z_mc,&nbsp;ts_length,&nbsp;init=1)</td><td class="diff_next"></td><td class="diff_header" id="to7_98">98</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;i_z&nbsp;=&nbsp;simulate_indices(z_mc,&nbsp;ts_length,&nbsp;init=1)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_175">175</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;G&nbsp;=&nbsp;Geometric(p)</td><td class="diff_next"></td><td class="diff_header" id="to7_99">99</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;G&nbsp;=&nbsp;Geometric(p)</td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to7__22"></td><td class="diff_header" id="from7_178">178</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;t&nbsp;in&nbsp;1:(ts_length-1)</td><td class="diff_next"></td><td class="diff_header" id="to7_102">102</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;t&nbsp;in&nbsp;1:(ts_length-1)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_179">179</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;D′&nbsp;=&nbsp;rand(G)</td><td class="diff_next"></td><td class="diff_header" id="to7_103">103</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;D′&nbsp;=&nbsp;rand(G)</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to7__23">n</a></td><td class="diff_header" id="from7_180">180</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x_index&nbsp;=&nbsp;X[t]&nbsp;+&nbsp;1</span></td><td class="diff_next"><a href="#difflib_chg_to7__23">n</a></td><td class="diff_header" id="to7_104">104</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;X[t+1]&nbsp;=&nbsp;m(X[t]&nbsp;-&nbsp;D′)&nbsp;+&nbsp;σ_star[X[t]&nbsp;+&nbsp;1,&nbsp;i_z[t]]</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_181">181</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a&nbsp;=&nbsp;σ_star[x_index,&nbsp;i_z[t]]&nbsp;-&nbsp;1</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_182">182</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;X[t+1]&nbsp;=&nbsp;f(X[t],&nbsp;&nbsp;a,&nbsp;&nbsp;D′)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_183">183</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;end</td><td class="diff_next"></td><td class="diff_header" id="to7_105">105</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;end</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_184">184</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;X,&nbsp;z_vals[i_z]</td><td class="diff_next"></td><td class="diff_header" id="to7_106">106</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;X,&nbsp;z_vals[i_z]</td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to7__23"></td><td class="diff_header" id="from7_214">214</td><td nowrap="nowrap">end</td><td class="diff_next"></td><td class="diff_header" id="to7_136">136</td><td nowrap="nowrap">end</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_215">215</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to7_137">137</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to7__top">t</a></td><td class="diff_header" id="from7_216">216</td><td nowrap="nowrap"><span class="diff_sub">function&nbsp;plot_timing(;&nbsp;m_vals=collect(range(1,&nbsp;400,&nbsp;step=10)),</span></td><td class="diff_next"><a href="#difflib_chg_to7__top">t</a></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_217">217</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fontsize=16,</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_218">218</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;savefig=false)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_219">219</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;println("Running&nbsp;value&nbsp;function&nbsp;iteration.")</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_220">220</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;vfi_time&nbsp;=&nbsp;@elapsed&nbsp;_&nbsp;=&nbsp;value_function_iteration(v_init,&nbsp;model)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_221">221</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;println("VFI&nbsp;completed&nbsp;in&nbsp;$vfi_time&nbsp;seconds.")</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_222">222</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;opi_times&nbsp;=&nbsp;[]</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_223">223</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;m&nbsp;in&nbsp;m_vals</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_224">224</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;println("Running&nbsp;optimistic&nbsp;policy&nbsp;iteration&nbsp;with&nbsp;m=$m.")</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_225">225</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;opi_time&nbsp;=&nbsp;@elapsed&nbsp;σ_opi&nbsp;=&nbsp;optimistic_policy_iteration(v_init,&nbsp;model,&nbsp;m=m)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_226">226</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;println("OPI&nbsp;with&nbsp;m=$m&nbsp;completed&nbsp;in&nbsp;$opi_time&nbsp;seconds.")</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_227">227</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push!(opi_times,&nbsp;opi_time)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_228">228</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;end</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_229">229</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;fig,&nbsp;ax&nbsp;=&nbsp;plt.subplots(figsize=(9,&nbsp;5.2))</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_230">230</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;ax.plot(m_vals,&nbsp;fill(vfi_time,&nbsp;length(m_vals)),&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_231">231</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lw=2,&nbsp;label="value&nbsp;function&nbsp;iteration")</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_232">232</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;ax.plot(m_vals,&nbsp;opi_times,&nbsp;lw=2,&nbsp;label="optimistic&nbsp;policy&nbsp;iteration")</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_233">233</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;ax.legend(fontsize=fontsize,&nbsp;frameon=false)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_234">234</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;ax.set_xlabel(L"m",&nbsp;fontsize=fontsize)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_235">235</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;ax.set_ylabel("time",&nbsp;fontsize=fontsize)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_236">236</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;plt.show()</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_237">237</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;savefig</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_238">238</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fig.savefig("../figures/inventory_sdd_timing.pdf")</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_239">239</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;end</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_240">240</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;(opi_time,&nbsp;vfi_time,&nbsp;opi_times)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from7_241">241</td><td nowrap="nowrap"><span class="diff_sub">end</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
        </tbody>
    </table><h1>inventory_sim.jl</h1>
<h2><span style="background-color:#ffeab8;"> is unchanged</span></h2>
<h2><span style="background-color:#5b7c99;"> - Python file exists</span></h2>
<h1>is_irreducible.jl</h1>
<h2><span style="background-color:#ffeab8;"> is unchanged</span></h2>
<h2><span style="background-color:#5b7c99;"> - Python file exists</span></h2>
<h1>js_with_sep_sim.jl</h1>
<h2><span style="background-color:#ffeab8;"> is unchanged</span></h2>
<h2><span style="background-color:#fde74c;"> - Python file js_with_sep_sim.py does not exist</span></h2>
<h1>laborer_sim.jl</h1>
<h2><span style="background-color:#ffeab8;"> is unchanged</span></h2>
<h2><span style="background-color:#5b7c99;"> - Python file exists</span></h2>
<h1>lake.jl</h1>
<h2><span style="background-color:#ffeab8;"> is unchanged</span></h2>
<h2><span style="background-color:#fde74c;"> - Python file lake.py does not exist</span></h2>
<h1>linear_iter.jl</h1>
<h2><span style="background-color:#ffeab8;"> is unchanged</span></h2>
<h2><span style="background-color:#5b7c99;"> - Python file exists</span></h2>
<h1>linear_iter_fig.jl</h1>
<h2><span style="background-color:#ffeab8;"> is unchanged</span></h2>
<h2><span style="background-color:#5b7c99;"> - Python file exists</span></h2>
<h1>lqcontrol.py</h1>
<h2><span style="background-color:#ffeab8;"> is unchanged</span></h2>
<h2><span style="background-color:#fde74c;"> - Python file lqcontrol.py does not exist</span></h2>
<h1>markov_js.jl</h1>
<h2><span style="background-color:#ffeab8;"> is unchanged</span></h2>
<h2><span style="background-color:#5b7c99;"> - Python file exists</span></h2>
<h1>markov_js_with_sep.jl</h1>
<h2><span style="background-color:#ffeab8;"> is unchanged</span></h2>
<h2><span style="background-color:#5b7c99;"> - Python file exists</span></h2>
<h1>modified_opt_savings.jl</h1>
<h2><span style="background-color:#ff700a;"> is changed</span></h2>
<h2><span style="background-color:#5b7c99;"> - Python file exists</span></h2>

    <table class="diff" id="difflib_chg_to8__top"
           cellspacing="0" cellpadding="0" rules="groups" >
        <colgroup></colgroup> <colgroup></colgroup> <colgroup></colgroup>
        <colgroup></colgroup> <colgroup></colgroup> <colgroup></colgroup>
        <thead><tr><th class="diff_next"><br /></th><th colspan="2" class="diff_header">old public code</th><th class="diff_next"><br /></th><th colspan="2" class="diff_header">new private (jstac) code</th></tr></thead>
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to8__0"><a href="#difflib_chg_to8__0">f</a></td><td class="diff_header" id="from8_1">1</td><td nowrap="nowrap">using&nbsp;QuantEcon,&nbsp;LinearAlgebra,&nbsp;IterTools</td><td class="diff_next"><a href="#difflib_chg_to8__0">f</a></td><td class="diff_header" id="to8_1">1</td><td nowrap="nowrap">using&nbsp;QuantEcon,&nbsp;LinearAlgebra,&nbsp;IterTools</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from8_2">2</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_2">2</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to8__1">n</a></td><td class="diff_header" id="from8_3">3</td><td nowrap="nowrap">function&nbsp;create_savings_model(;&nbsp;<span class="diff_sub">R=1.01,&nbsp;</span>β=0.98,&nbsp;γ=2.5,&nbsp;&nbsp;</td><td class="diff_next"><a href="#difflib_chg_to8__1">n</a></td><td class="diff_header" id="to8_3">3</td><td nowrap="nowrap">function&nbsp;create_savings_model(;&nbsp;β=0.98,&nbsp;γ=2.5,&nbsp;&nbsp;</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from8_4">4</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;w_min=0.01,&nbsp;w_max=<span class="diff_chg">1</span>0.0,&nbsp;w_size=100,</td><td class="diff_next"></td><td class="diff_header" id="to8_4">4</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;w_min=0.01,&nbsp;w_max=<span class="diff_chg">2</span>0.0,&nbsp;w_size=100,</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from8_5">5</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ρ=0.9,&nbsp;ν=0.1,&nbsp;<span class="diff_chg">z</span>_size=20,</td><td class="diff_next"></td><td class="diff_header" id="to8_5">5</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ρ=0.9,&nbsp;ν=0.1,&nbsp;<span class="diff_chg">y</span>_size=20,</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from8_6">6</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="diff_chg">ϵ</span>_min=<span class="diff_sub">-</span>0.<span class="diff_chg">2</span>5,&nbsp;<span class="diff_chg">ϵ</span>_max=<span class="diff_chg">0</span>.25,&nbsp;<span class="diff_chg">ϵ</span>_size=<span class="diff_chg">30</span>)</td><td class="diff_next"></td><td class="diff_header" id="to8_6">6</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="diff_chg">η</span>_min=0.<span class="diff_chg">7</span>5,&nbsp;<span class="diff_chg">η</span>_max=<span class="diff_chg">1</span>.25,&nbsp;<span class="diff_chg">η</span>_size=<span class="diff_chg">2</span>)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from8_7">7</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;<span class="diff_chg">ϵ</span>_grid&nbsp;=&nbsp;LinRange(<span class="diff_chg">ϵ</span>_min,&nbsp;<span class="diff_chg">ϵ</span>_max,&nbsp;<span class="diff_chg">ϵ</span>_size)&nbsp;&nbsp;</td><td class="diff_next"></td><td class="diff_header" id="to8_7">7</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;<span class="diff_chg">η</span>_grid&nbsp;=&nbsp;LinRange(<span class="diff_chg">η</span>_min,&nbsp;<span class="diff_chg">η</span>_max,&nbsp;<span class="diff_chg">η</span>_size)&nbsp;&nbsp;</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to8__1"></td><td class="diff_header" id="from8_8">8</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;ϕ&nbsp;=&nbsp;ones(<span class="diff_chg">ϵ</span>_size)&nbsp;*&nbsp;(1&nbsp;/&nbsp;<span class="diff_chg">ϵ</span>_size)&nbsp;&nbsp;#&nbsp;Uniform&nbsp;distributi<span class="diff_sub">o</span>n</td><td class="diff_next"></td><td class="diff_header" id="to8_8">8</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;ϕ&nbsp;=&nbsp;ones(<span class="diff_chg">η</span>_size)&nbsp;*&nbsp;(1&nbsp;/&nbsp;<span class="diff_chg">η</span>_size)&nbsp;&nbsp;#&nbsp;Uniform&nbsp;distribut<span class="diff_add">o</span>in</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from8_9">9</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;w_grid&nbsp;=&nbsp;LinRange(w_min,&nbsp;w_max,&nbsp;w_size)&nbsp;&nbsp;</td><td class="diff_next"></td><td class="diff_header" id="to8_9">9</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;w_grid&nbsp;=&nbsp;LinRange(w_min,&nbsp;w_max,&nbsp;w_size)&nbsp;&nbsp;</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to8__2">n</a></td><td class="diff_header" id="from8_10">10</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;mc&nbsp;=&nbsp;tauchen(<span class="diff_chg">z</span>_size,&nbsp;ρ,&nbsp;ν)</td><td class="diff_next"><a href="#difflib_chg_to8__2">n</a></td><td class="diff_header" id="to8_10">10</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;mc&nbsp;=&nbsp;tauchen(<span class="diff_chg">y</span>_size,&nbsp;ρ,&nbsp;ν)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from8_11">11</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;<span class="diff_chg">z</span>_grid,&nbsp;Q&nbsp;=&nbsp;exp.(mc.state_values),&nbsp;mc.p</td><td class="diff_next"></td><td class="diff_header" id="to8_11">11</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;<span class="diff_chg">y</span>_grid,&nbsp;Q&nbsp;=&nbsp;exp.(mc.state_values),&nbsp;mc.p</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to8__2"></td><td class="diff_header" id="from8_12">12</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;(;&nbsp;β,&nbsp;<span class="diff_sub">R,&nbsp;</span>γ,&nbsp;<span class="diff_chg">ϵ</span>_grid,&nbsp;ϕ,&nbsp;w_grid,&nbsp;<span class="diff_chg">z</span>_grid,&nbsp;Q)</td><td class="diff_next"></td><td class="diff_header" id="to8_12">12</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;(;&nbsp;β,&nbsp;γ,&nbsp;<span class="diff_chg">η</span>_grid,&nbsp;ϕ,&nbsp;w_grid,&nbsp;<span class="diff_chg">y</span>_grid,&nbsp;Q)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from8_13">13</td><td nowrap="nowrap">end</td><td class="diff_next"></td><td class="diff_header" id="to8_13">13</td><td nowrap="nowrap">end</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to8__3">n</a></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"><a href="#difflib_chg_to8__3">n</a></td><td class="diff_header" id="to8_14">14</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from8_14">14</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_15">15</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from8_15">15</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_16">16</td><td nowrap="nowrap"></td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to8__3"></td><td class="diff_header" id="from8_17">17</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_18">18</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from8_18">18</td><td nowrap="nowrap">"""</td><td class="diff_next"></td><td class="diff_header" id="to8_19">19</td><td nowrap="nowrap">"""</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to8__4">n</a></td><td class="diff_header" id="from8_19">19</td><td nowrap="nowrap"><span class="diff_sub">The&nbsp;function&nbsp;</span></td><td class="diff_next"><a href="#difflib_chg_to8__4">n</a></td><td class="diff_header" id="to8_20">20</td><td nowrap="nowrap"><span class="diff_add">B(w,&nbsp;y,&nbsp;η,&nbsp;w′)&nbsp;=&nbsp;u(w&nbsp;+&nbsp;y&nbsp;-&nbsp;w′/η))&nbsp;+&nbsp;β&nbsp;Σ&nbsp;v(w′,&nbsp;y′,&nbsp;η′)&nbsp;Q(y,&nbsp;y′)&nbsp;ϕ(η′)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from8_20">20</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from8_21">21</td><td nowrap="nowrap"><span class="diff_sub">B(w,&nbsp;z,&nbsp;ϵ,&nbsp;w′)&nbsp;=&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from8_22">22</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;u(w&nbsp;+&nbsp;z&nbsp;+&nbsp;ϵ&nbsp;-&nbsp;w′/R)&nbsp;+&nbsp;β&nbsp;Σ&nbsp;v(w′,&nbsp;z′,&nbsp;ϵ′)&nbsp;Q(z,&nbsp;z′)&nbsp;ϕ(ϵ′)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from8_23">23</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to8__4"></td><td class="diff_header" id="from8_24">24</td><td nowrap="nowrap">"""</td><td class="diff_next"></td><td class="diff_header" id="to8_21">21</td><td nowrap="nowrap">"""</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from8_25">25</td><td nowrap="nowrap">function&nbsp;B(i,&nbsp;j,&nbsp;k,&nbsp;l,&nbsp;v,&nbsp;model)</td><td class="diff_next"></td><td class="diff_header" id="to8_22">22</td><td nowrap="nowrap">function&nbsp;B(i,&nbsp;j,&nbsp;k,&nbsp;l,&nbsp;v,&nbsp;model)</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to8__5">n</a></td><td class="diff_header" id="from8_26">26</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;(;&nbsp;β,&nbsp;<span class="diff_sub">R,&nbsp;</span>γ,&nbsp;<span class="diff_chg">ϵ</span>_grid,&nbsp;ϕ,&nbsp;w_grid,&nbsp;<span class="diff_chg">z</span>_grid,&nbsp;Q)&nbsp;=&nbsp;model</td><td class="diff_next"><a href="#difflib_chg_to8__5">n</a></td><td class="diff_header" id="to8_23">23</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;(;&nbsp;β,&nbsp;γ,&nbsp;<span class="diff_chg">η</span>_grid,&nbsp;ϕ,&nbsp;w_grid,&nbsp;<span class="diff_chg">y</span>_grid,&nbsp;Q)&nbsp;=&nbsp;model</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from8_27">27</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;w,&nbsp;<span class="diff_chg">z</span>,&nbsp;<span class="diff_chg">ϵ</span>,&nbsp;w′&nbsp;=&nbsp;w_grid[i],&nbsp;<span class="diff_chg">z</span>_grid[j],&nbsp;<span class="diff_chg">ϵ</span>_grid[k],&nbsp;w_grid[l]</td><td class="diff_next"></td><td class="diff_header" id="to8_24">24</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;w,&nbsp;<span class="diff_chg">y</span>,&nbsp;<span class="diff_chg">η</span>,&nbsp;w′&nbsp;=&nbsp;w_grid[i],&nbsp;<span class="diff_chg">y</span>_grid[j],&nbsp;<span class="diff_chg">η</span>_grid[k],&nbsp;w_grid[l]</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_25">25</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;u(c)&nbsp;=&nbsp;c^(1-γ)/(1-γ)</span></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to8__5"></td><td class="diff_header" id="from8_28">28</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;c&nbsp;=&nbsp;w&nbsp;+&nbsp;<span class="diff_chg">z&nbsp;+&nbsp;ϵ</span>&nbsp;-&nbsp;(w′/&nbsp;<span class="diff_chg">R</span>)</td><td class="diff_next"></td><td class="diff_header" id="to8_26">26</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;c&nbsp;=&nbsp;w&nbsp;+&nbsp;<span class="diff_chg">y</span>&nbsp;-&nbsp;(w′/&nbsp;<span class="diff_chg">η</span>)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from8_29">29</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;exp_value&nbsp;=&nbsp;0.0</td><td class="diff_next"></td><td class="diff_header" id="to8_27">27</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;exp_value&nbsp;=&nbsp;0.0</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to8__6">n</a></td><td class="diff_header" id="from8_30">30</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;m&nbsp;in&nbsp;eachindex(<span class="diff_chg">z</span>_grid)</td><td class="diff_next"><a href="#difflib_chg_to8__6">n</a></td><td class="diff_header" id="to8_28">28</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;m&nbsp;in&nbsp;eachindex(<span class="diff_chg">y</span>_grid)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from8_31">31</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;n&nbsp;in&nbsp;eachindex(<span class="diff_chg">ϵ</span>_grid)</td><td class="diff_next"></td><td class="diff_header" id="to8_29">29</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;n&nbsp;in&nbsp;eachindex(<span class="diff_chg">η</span>_grid)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from8_32">32</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exp_value&nbsp;+=&nbsp;v[l,&nbsp;m,&nbsp;n]&nbsp;*&nbsp;Q[j,&nbsp;m]&nbsp;*&nbsp;ϕ[n]</td><td class="diff_next"></td><td class="diff_header" id="to8_30">30</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exp_value&nbsp;+=&nbsp;v[l,&nbsp;m,&nbsp;n]&nbsp;*&nbsp;Q[j,&nbsp;m]&nbsp;*&nbsp;ϕ[n]</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to8__6"></td><td class="diff_header" id="from8_33">33</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</td><td class="diff_next"></td><td class="diff_header" id="to8_31">31</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from8_34">34</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;end</td><td class="diff_next"></td><td class="diff_header" id="to8_32">32</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;end</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to8__7">n</a></td><td class="diff_header" id="from8_35">35</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;c&nbsp;&gt;&nbsp;0&nbsp;?&nbsp;c<span class="diff_sub">^(1-γ</span>)<span class="diff_sub">/(1-γ)</span>&nbsp;+&nbsp;β&nbsp;*&nbsp;exp_value&nbsp;:&nbsp;-Inf</td><td class="diff_next"><a href="#difflib_chg_to8__7">n</a></td><td class="diff_header" id="to8_33">33</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;c&nbsp;&gt;&nbsp;0&nbsp;?&nbsp;<span class="diff_add">u(</span>c)&nbsp;+&nbsp;β&nbsp;*&nbsp;exp_value&nbsp;:&nbsp;-Inf</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from8_36">36</td><td nowrap="nowrap">end</td><td class="diff_next"></td><td class="diff_header" id="to8_34">34</td><td nowrap="nowrap">end</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from8_37">37</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_35">35</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to8__7"></td><td class="diff_header" id="from8_38">38</td><td nowrap="nowrap">"The&nbsp;policy&nbsp;operator."</td><td class="diff_next"></td><td class="diff_header" id="to8_36">36</td><td nowrap="nowrap">"The&nbsp;policy&nbsp;operator."</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from8_39">39</td><td nowrap="nowrap">function&nbsp;T_σ(v,&nbsp;σ,&nbsp;model)</td><td class="diff_next"></td><td class="diff_header" id="to8_37">37</td><td nowrap="nowrap">function&nbsp;T_σ(v,&nbsp;σ,&nbsp;model)</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to8__8">n</a></td><td class="diff_header" id="from8_40">40</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;(;&nbsp;β,&nbsp;<span class="diff_sub">R,&nbsp;</span>γ,&nbsp;<span class="diff_chg">ϵ</span>_grid,&nbsp;ϕ,&nbsp;w_grid,&nbsp;<span class="diff_chg">z</span>_grid,&nbsp;Q)&nbsp;=&nbsp;model</td><td class="diff_next"><a href="#difflib_chg_to8__8">n</a></td><td class="diff_header" id="to8_38">38</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;(;&nbsp;β,&nbsp;γ,&nbsp;<span class="diff_chg">η</span>_grid,&nbsp;ϕ,&nbsp;w_grid,&nbsp;<span class="diff_chg">y</span>_grid,&nbsp;Q)&nbsp;=&nbsp;model</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_39">39</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;grids&nbsp;=&nbsp;w_grid,&nbsp;y_grid,&nbsp;η_grid</span></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to8__8"></td><td class="diff_header" id="from8_41">41</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;w_idx,&nbsp;<span class="diff_chg">z</span>_idx,&nbsp;<span class="diff_chg">ϵ</span>_idx&nbsp;=&nbsp;(eachindex(g)&nbsp;for&nbsp;g&nbsp;in&nbsp;<span class="diff_sub">(w_</span>grid<span class="diff_chg">,&nbsp;z_grid,&nbsp;ϵ_grid</span>)<span class="diff_sub">)</span></td><td class="diff_next"></td><td class="diff_header" id="to8_40">40</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;w_idx,&nbsp;<span class="diff_chg">y</span>_idx,&nbsp;<span class="diff_chg">η</span>_idx&nbsp;=&nbsp;(eachindex(g)&nbsp;for&nbsp;g&nbsp;in&nbsp;grid<span class="diff_chg">s</span>)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from8_42">42</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;v_new&nbsp;=&nbsp;similar(v)</td><td class="diff_next"></td><td class="diff_header" id="to8_41">41</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;v_new&nbsp;=&nbsp;similar(v)</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to8__9">n</a></td><td class="diff_header" id="from8_43">43</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(i,&nbsp;j,&nbsp;k)&nbsp;in&nbsp;product(w_idx,&nbsp;<span class="diff_chg">z</span>_idx,&nbsp;<span class="diff_chg">ϵ</span>_idx)</td><td class="diff_next"><a href="#difflib_chg_to8__9">n</a></td><td class="diff_header" id="to8_42">42</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(i,&nbsp;j,&nbsp;k)&nbsp;in&nbsp;product(w_idx,&nbsp;<span class="diff_chg">y</span>_idx,&nbsp;<span class="diff_chg">η</span>_idx)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from8_44">44</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;v_new[i,&nbsp;j,&nbsp;k]&nbsp;=&nbsp;B(i,&nbsp;j,&nbsp;k,&nbsp;σ[i,&nbsp;j,&nbsp;k],&nbsp;v,&nbsp;model)&nbsp;</td><td class="diff_next"></td><td class="diff_header" id="to8_43">43</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;v_new[i,&nbsp;j,&nbsp;k]&nbsp;=&nbsp;B(i,&nbsp;j,&nbsp;k,&nbsp;σ[i,&nbsp;j,&nbsp;k],&nbsp;v,&nbsp;model)&nbsp;</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from8_45">45</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;end</td><td class="diff_next"></td><td class="diff_header" id="to8_44">44</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;end</td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to8__9"></td><td class="diff_header" id="from8_49">49</td><td nowrap="nowrap">"Compute&nbsp;a&nbsp;v-greedy&nbsp;policy."</td><td class="diff_next"></td><td class="diff_header" id="to8_48">48</td><td nowrap="nowrap">"Compute&nbsp;a&nbsp;v-greedy&nbsp;policy."</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from8_50">50</td><td nowrap="nowrap">function&nbsp;get_greedy(v,&nbsp;model)</td><td class="diff_next"></td><td class="diff_header" id="to8_49">49</td><td nowrap="nowrap">function&nbsp;get_greedy(v,&nbsp;model)</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to8__10">n</a></td><td class="diff_header" id="from8_51">51</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;(;&nbsp;β,&nbsp;<span class="diff_sub">R,&nbsp;</span>γ,&nbsp;<span class="diff_chg">ϵ</span>_grid,&nbsp;ϕ,&nbsp;w_grid,&nbsp;<span class="diff_chg">z</span>_grid,&nbsp;Q)&nbsp;=&nbsp;model</td><td class="diff_next"><a href="#difflib_chg_to8__10">n</a></td><td class="diff_header" id="to8_50">50</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;(;&nbsp;β,&nbsp;γ,&nbsp;<span class="diff_chg">η</span>_grid,&nbsp;ϕ,&nbsp;w_grid,&nbsp;<span class="diff_chg">y</span>_grid,&nbsp;Q)&nbsp;=&nbsp;model</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from8_52">52</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;w_idx,&nbsp;<span class="diff_chg">z</span>_idx,&nbsp;<span class="diff_chg">ϵ</span>_idx&nbsp;=&nbsp;(eachindex(g)&nbsp;for&nbsp;g&nbsp;in&nbsp;(w_grid,&nbsp;<span class="diff_chg">z</span>_grid,&nbsp;<span class="diff_chg">ϵ</span>_grid))</td><td class="diff_next"></td><td class="diff_header" id="to8_51">51</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;w_idx,&nbsp;<span class="diff_chg">y</span>_idx,&nbsp;<span class="diff_chg">η</span>_idx&nbsp;=&nbsp;(eachindex(g)&nbsp;for&nbsp;g&nbsp;in&nbsp;(w_grid,&nbsp;<span class="diff_chg">y</span>_grid,&nbsp;<span class="diff_chg">η</span>_grid))</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from8_53">53</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;σ&nbsp;=&nbsp;Array{Int32}(undef,&nbsp;length(w_idx),&nbsp;length(<span class="diff_chg">z</span>_idx),&nbsp;length(<span class="diff_chg">ϵ</span>_idx))</td><td class="diff_next"></td><td class="diff_header" id="to8_52">52</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;σ&nbsp;=&nbsp;Array{Int32}(undef,&nbsp;length(w_idx),&nbsp;length(<span class="diff_chg">y</span>_idx),&nbsp;length(<span class="diff_chg">η</span>_idx))</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from8_54">54</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(i,&nbsp;j,&nbsp;k)&nbsp;in&nbsp;product(w_idx,&nbsp;<span class="diff_chg">z</span>_idx,&nbsp;<span class="diff_chg">ϵ</span>_idx)</td><td class="diff_next"></td><td class="diff_header" id="to8_53">53</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(i,&nbsp;j,&nbsp;k)&nbsp;in&nbsp;product(w_idx,&nbsp;<span class="diff_chg">y</span>_idx,&nbsp;<span class="diff_chg">η</span>_idx)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from8_55">55</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_,&nbsp;σ[i,&nbsp;j,&nbsp;k]&nbsp;=&nbsp;findmax(B(i,&nbsp;j,&nbsp;k,&nbsp;l,&nbsp;v,&nbsp;model)&nbsp;for&nbsp;l&nbsp;in&nbsp;w_idx)</td><td class="diff_next"></td><td class="diff_header" id="to8_54">54</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_,&nbsp;σ[i,&nbsp;j,&nbsp;k]&nbsp;=&nbsp;findmax(B(i,&nbsp;j,&nbsp;k,&nbsp;l,&nbsp;v,&nbsp;model)&nbsp;for&nbsp;l&nbsp;in&nbsp;w_idx)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from8_56">56</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;end</td><td class="diff_next"></td><td class="diff_header" id="to8_55">55</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;end</td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to8__10"></td><td class="diff_header" id="from8_61">61</td><td nowrap="nowrap">"Optimistic&nbsp;policy&nbsp;iteration&nbsp;routine."</td><td class="diff_next"></td><td class="diff_header" id="to8_60">60</td><td nowrap="nowrap">"Optimistic&nbsp;policy&nbsp;iteration&nbsp;routine."</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from8_62">62</td><td nowrap="nowrap">function&nbsp;optimistic_policy_iteration(model;&nbsp;tolerance=1e-5,&nbsp;m=100)</td><td class="diff_next"></td><td class="diff_header" id="to8_61">61</td><td nowrap="nowrap">function&nbsp;optimistic_policy_iteration(model;&nbsp;tolerance=1e-5,&nbsp;m=100)</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to8__11">n</a></td><td class="diff_header" id="from8_63">63</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;(;&nbsp;β,&nbsp;<span class="diff_sub">R,&nbsp;</span>γ,&nbsp;<span class="diff_chg">ϵ</span>_grid,&nbsp;ϕ,&nbsp;w_grid,&nbsp;<span class="diff_chg">z</span>_grid,&nbsp;Q)&nbsp;=&nbsp;model</td><td class="diff_next"><a href="#difflib_chg_to8__11">n</a></td><td class="diff_header" id="to8_62">62</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;(;&nbsp;β,&nbsp;γ,&nbsp;<span class="diff_chg">η</span>_grid,&nbsp;ϕ,&nbsp;w_grid,&nbsp;<span class="diff_chg">y</span>_grid,&nbsp;Q)&nbsp;=&nbsp;model</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from8_64">64</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;v&nbsp;=&nbsp;zeros(length(w_grid),&nbsp;length(<span class="diff_chg">z</span>_grid),&nbsp;length(<span class="diff_chg">ϵ</span>_grid))</td><td class="diff_next"></td><td class="diff_header" id="to8_63">63</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;v&nbsp;=&nbsp;zeros(length(w_grid),&nbsp;length(<span class="diff_chg">y</span>_grid),&nbsp;length(<span class="diff_chg">η</span>_grid))</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from8_65">65</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;error&nbsp;=&nbsp;tolerance&nbsp;+&nbsp;1</td><td class="diff_next"></td><td class="diff_header" id="to8_64">64</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;error&nbsp;=&nbsp;tolerance&nbsp;+&nbsp;1</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from8_66">66</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;error&nbsp;&gt;&nbsp;tolerance</td><td class="diff_next"></td><td class="diff_header" id="to8_65">65</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;error&nbsp;&gt;&nbsp;tolerance</td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to8__11"></td><td class="diff_header" id="from8_77">77</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_76">76</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from8_78">78</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_77">77</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to8__12">n</a></td><td class="diff_header" id="from8_79">79</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"><a href="#difflib_chg_to8__12">n</a></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from8_80">80</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to8__12"></td><td class="diff_header" id="from8_81">81</td><td nowrap="nowrap">##&nbsp;==&nbsp;Functions&nbsp;for&nbsp;modified&nbsp;OPI&nbsp;==&nbsp;##</td><td class="diff_next"></td><td class="diff_header" id="to8_78">78</td><td nowrap="nowrap">##&nbsp;==&nbsp;Functions&nbsp;for&nbsp;modified&nbsp;OPI&nbsp;==&nbsp;##</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from8_82">82</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_79">79</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to8__13"><a href="#difflib_chg_to8__13">n</a></td><td class="diff_header" id="from8_83">83</td><td nowrap="nowrap">"D(w,&nbsp;<span class="diff_chg">z</span>,&nbsp;<span class="diff_chg">ϵ</span>,&nbsp;w′,&nbsp;g)&nbsp;=&nbsp;u(w&nbsp;+&nbsp;<span class="diff_chg">z&nbsp;+&nbsp;ϵ</span>&nbsp;-&nbsp;w′/<span class="diff_chg">R</span>)&nbsp;+&nbsp;β&nbsp;g(<span class="diff_chg">z</span>,&nbsp;w′)."</td><td class="diff_next"><a href="#difflib_chg_to8__13">n</a></td><td class="diff_header" id="to8_80">80</td><td nowrap="nowrap">"D(w,&nbsp;<span class="diff_chg">y</span>,&nbsp;<span class="diff_chg">η</span>,&nbsp;w′,&nbsp;g)&nbsp;=&nbsp;u(w&nbsp;+&nbsp;<span class="diff_chg">y</span>&nbsp;-&nbsp;w′/<span class="diff_chg">η</span>)&nbsp;+&nbsp;β&nbsp;g(<span class="diff_chg">y</span>,&nbsp;w′)."</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from8_84">84</td><td nowrap="nowrap">@inline&nbsp;function&nbsp;D(i,&nbsp;j,&nbsp;k,&nbsp;l,&nbsp;g,&nbsp;model)</td><td class="diff_next"></td><td class="diff_header" id="to8_81">81</td><td nowrap="nowrap">@inline&nbsp;function&nbsp;D(i,&nbsp;j,&nbsp;k,&nbsp;l,&nbsp;g,&nbsp;model)</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to8__14">n</a></td><td class="diff_header" id="from8_85">85</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;(;&nbsp;β,&nbsp;<span class="diff_sub">R,&nbsp;</span>γ,&nbsp;<span class="diff_chg">ϵ</span>_grid,&nbsp;ϕ,&nbsp;w_grid,&nbsp;<span class="diff_chg">z</span>_grid,&nbsp;Q)&nbsp;=&nbsp;model</td><td class="diff_next"><a href="#difflib_chg_to8__14">n</a></td><td class="diff_header" id="to8_82">82</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;(;&nbsp;β,&nbsp;γ,&nbsp;<span class="diff_chg">η</span>_grid,&nbsp;ϕ,&nbsp;w_grid,&nbsp;<span class="diff_chg">y</span>_grid,&nbsp;Q)&nbsp;=&nbsp;model</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from8_86">86</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;w,&nbsp;<span class="diff_chg">z</span>,&nbsp;<span class="diff_chg">ϵ</span>,&nbsp;w′&nbsp;=&nbsp;w_grid[i],&nbsp;<span class="diff_chg">z</span>_grid[j],&nbsp;<span class="diff_chg">ϵ</span>_grid[k],&nbsp;w_grid[l]</td><td class="diff_next"></td><td class="diff_header" id="to8_83">83</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;w,&nbsp;<span class="diff_chg">y</span>,&nbsp;<span class="diff_chg">η</span>,&nbsp;w′&nbsp;=&nbsp;w_grid[i],&nbsp;<span class="diff_chg">y</span>_grid[j],&nbsp;<span class="diff_chg">η</span>_grid[k],&nbsp;w_grid[l]</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_84">84</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;u(c)&nbsp;=&nbsp;c^(1-γ)/(1-γ)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from8_87">87</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;c&nbsp;=&nbsp;w&nbsp;+&nbsp;<span class="diff_chg">z&nbsp;+&nbsp;ϵ</span>&nbsp;-&nbsp;(w′<span class="diff_sub">&nbsp;</span>/<span class="diff_chg">&nbsp;R</span>)</td><td class="diff_next"></td><td class="diff_header" id="to8_85">85</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;c&nbsp;=&nbsp;w&nbsp;+&nbsp;<span class="diff_chg">y</span>&nbsp;-&nbsp;(w′/<span class="diff_chg">η</span>)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from8_88">88</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;c&nbsp;&gt;&nbsp;0&nbsp;?&nbsp;c<span class="diff_sub">^(1-γ</span>)<span class="diff_sub">/(1-γ)</span>&nbsp;+&nbsp;β&nbsp;*&nbsp;g[j,&nbsp;l]&nbsp;:&nbsp;-Inf</td><td class="diff_next"></td><td class="diff_header" id="to8_86">86</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;c&nbsp;&gt;&nbsp;0&nbsp;?&nbsp;<span class="diff_add">u(</span>c)&nbsp;+&nbsp;β&nbsp;*&nbsp;g[j,&nbsp;l]&nbsp;:&nbsp;-Inf</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from8_89">89</td><td nowrap="nowrap">end</td><td class="diff_next"></td><td class="diff_header" id="to8_87">87</td><td nowrap="nowrap">end</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from8_90">90</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_88">88</td><td nowrap="nowrap"></td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to8__14"></td><td class="diff_header" id="from8_92">92</td><td nowrap="nowrap">"Compute&nbsp;a&nbsp;g-greedy&nbsp;policy."</td><td class="diff_next"></td><td class="diff_header" id="to8_90">90</td><td nowrap="nowrap">"Compute&nbsp;a&nbsp;g-greedy&nbsp;policy."</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from8_93">93</td><td nowrap="nowrap">function&nbsp;get_g_greedy(g,&nbsp;model)</td><td class="diff_next"></td><td class="diff_header" id="to8_91">91</td><td nowrap="nowrap">function&nbsp;get_g_greedy(g,&nbsp;model)</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to8__15">n</a></td><td class="diff_header" id="from8_94">94</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;(;&nbsp;β,&nbsp;<span class="diff_sub">R,&nbsp;</span>γ,&nbsp;<span class="diff_chg">ϵ</span>_grid,&nbsp;ϕ,&nbsp;w_grid,&nbsp;<span class="diff_chg">z</span>_grid,&nbsp;Q)&nbsp;=&nbsp;model</td><td class="diff_next"><a href="#difflib_chg_to8__15">n</a></td><td class="diff_header" id="to8_92">92</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;(;&nbsp;β,&nbsp;γ,&nbsp;<span class="diff_chg">η</span>_grid,&nbsp;ϕ,&nbsp;w_grid,&nbsp;<span class="diff_chg">y</span>_grid,&nbsp;Q)&nbsp;=&nbsp;model</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from8_95">95</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;w_idx,&nbsp;<span class="diff_chg">z</span>_idx,&nbsp;<span class="diff_chg">ϵ</span>_idx&nbsp;=&nbsp;(eachindex(g)&nbsp;for&nbsp;g&nbsp;in&nbsp;(w_grid,&nbsp;<span class="diff_chg">z</span>_grid,&nbsp;<span class="diff_chg">ϵ</span>_grid))</td><td class="diff_next"></td><td class="diff_header" id="to8_93">93</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;w_idx,&nbsp;<span class="diff_chg">y</span>_idx,&nbsp;<span class="diff_chg">η</span>_idx&nbsp;=&nbsp;(eachindex(g)&nbsp;for&nbsp;g&nbsp;in&nbsp;(w_grid,&nbsp;<span class="diff_chg">y</span>_grid,&nbsp;<span class="diff_chg">η</span>_grid))</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from8_96">96</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;σ&nbsp;=&nbsp;Array{Int32}(undef,&nbsp;length(w_idx),&nbsp;length(<span class="diff_chg">z</span>_idx),&nbsp;length(<span class="diff_chg">ϵ</span>_idx))</td><td class="diff_next"></td><td class="diff_header" id="to8_94">94</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;σ&nbsp;=&nbsp;Array{Int32}(undef,&nbsp;length(w_idx),&nbsp;length(<span class="diff_chg">y</span>_idx),&nbsp;length(<span class="diff_chg">η</span>_idx))</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from8_97">97</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(i,&nbsp;j,&nbsp;k)&nbsp;in&nbsp;product(w_idx,&nbsp;<span class="diff_chg">z</span>_idx,&nbsp;<span class="diff_chg">ϵ</span>_idx)</td><td class="diff_next"></td><td class="diff_header" id="to8_95">95</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(i,&nbsp;j,&nbsp;k)&nbsp;in&nbsp;product(w_idx,&nbsp;<span class="diff_chg">y</span>_idx,&nbsp;<span class="diff_chg">η</span>_idx)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from8_98">98</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_,&nbsp;σ[i,&nbsp;j,&nbsp;k]&nbsp;=&nbsp;findmax(D(i,&nbsp;j,&nbsp;k,&nbsp;l,&nbsp;g,&nbsp;model)&nbsp;for&nbsp;l&nbsp;in&nbsp;w_idx)</td><td class="diff_next"></td><td class="diff_header" id="to8_96">96</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_,&nbsp;σ[i,&nbsp;j,&nbsp;k]&nbsp;=&nbsp;findmax(D(i,&nbsp;j,&nbsp;k,&nbsp;l,&nbsp;g,&nbsp;model)&nbsp;for&nbsp;l&nbsp;in&nbsp;w_idx)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from8_99">99</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;end</td><td class="diff_next"></td><td class="diff_header" id="to8_97">97</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;end</td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to8__15"></td><td class="diff_header" id="from8_104">104</td><td nowrap="nowrap">"The&nbsp;modified&nbsp;policy&nbsp;operator."</td><td class="diff_next"></td><td class="diff_header" id="to8_102">102</td><td nowrap="nowrap">"The&nbsp;modified&nbsp;policy&nbsp;operator."</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from8_105">105</td><td nowrap="nowrap">function&nbsp;R_σ(g,&nbsp;σ,&nbsp;model)</td><td class="diff_next"></td><td class="diff_header" id="to8_103">103</td><td nowrap="nowrap">function&nbsp;R_σ(g,&nbsp;σ,&nbsp;model)</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to8__16">n</a></td><td class="diff_header" id="from8_106">106</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;(;&nbsp;β,&nbsp;<span class="diff_sub">R,&nbsp;</span>γ,&nbsp;<span class="diff_chg">ϵ</span>_grid,&nbsp;ϕ,&nbsp;w_grid,&nbsp;<span class="diff_chg">z</span>_grid,&nbsp;Q)&nbsp;=&nbsp;model</td><td class="diff_next"><a href="#difflib_chg_to8__16">n</a></td><td class="diff_header" id="to8_104">104</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;(;&nbsp;β,&nbsp;γ,&nbsp;<span class="diff_chg">η</span>_grid,&nbsp;ϕ,&nbsp;w_grid,&nbsp;<span class="diff_chg">y</span>_grid,&nbsp;Q)&nbsp;=&nbsp;model</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to8__16"></td><td class="diff_header" id="from8_107">107</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;w_idx,&nbsp;<span class="diff_chg">z</span>_idx,&nbsp;<span class="diff_chg">ϵ</span>_idx&nbsp;=&nbsp;(eachindex(g)&nbsp;for&nbsp;g&nbsp;in&nbsp;(w_grid,&nbsp;<span class="diff_chg">z</span>_grid,&nbsp;<span class="diff_chg">ϵ</span>_grid))</td><td class="diff_next"></td><td class="diff_header" id="to8_105">105</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;w_idx,&nbsp;<span class="diff_chg">y</span>_idx,&nbsp;<span class="diff_chg">η</span>_idx&nbsp;=&nbsp;(eachindex(g)&nbsp;for&nbsp;g&nbsp;in&nbsp;(w_grid,&nbsp;<span class="diff_chg">y</span>_grid,&nbsp;<span class="diff_chg">η</span>_grid))</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from8_108">108</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;g_new&nbsp;=&nbsp;similar(g)</td><td class="diff_next"></td><td class="diff_header" id="to8_106">106</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;g_new&nbsp;=&nbsp;similar(g)</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to8__17"><a href="#difflib_chg_to8__17">n</a></td><td class="diff_header" id="from8_109">109</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(j,&nbsp;i′)&nbsp;in&nbsp;product(<span class="diff_chg">z</span>_idx,&nbsp;w_idx)&nbsp;&nbsp;#&nbsp;j&nbsp;<span class="diff_chg">-&gt;&nbsp;z</span>,&nbsp;i′&nbsp;<span class="diff_chg">-&gt;</span>&nbsp;w′&nbsp;</td><td class="diff_next"><a href="#difflib_chg_to8__17">n</a></td><td class="diff_header" id="to8_107">107</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(j,&nbsp;i′)&nbsp;in&nbsp;product(<span class="diff_chg">y</span>_idx,&nbsp;w_idx)&nbsp;&nbsp;#&nbsp;j&nbsp;<span class="diff_chg">indexes&nbsp;y</span>,&nbsp;i′&nbsp;<span class="diff_chg">indexes</span>&nbsp;w′&nbsp;</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from8_110">110</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;out&nbsp;=&nbsp;0.0</td><td class="diff_next"></td><td class="diff_header" id="to8_108">108</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;out&nbsp;=&nbsp;0.0</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to8__18">n</a></td><td class="diff_header" id="from8_111">111</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;j′&nbsp;in&nbsp;z_idx&nbsp;#&nbsp;j′&nbsp;-&gt;&nbsp;z′</span></td><td class="diff_next"><a href="#difflib_chg_to8__18">n</a></td><td class="diff_header" id="to8_109">109</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;j′&nbsp;in&nbsp;y_idx&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;j′&nbsp;indexes&nbsp;y′</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from8_112">112</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;k′&nbsp;in&nbsp;ϵ_idx&nbsp;#&nbsp;k′&nbsp;-&gt;&nbsp;ϵ′</span></td><td class="diff_next"></td><td class="diff_header" id="to8_110">110</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;k′&nbsp;in&nbsp;η_idx&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;k′&nbsp;indexes&nbsp;η′</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from8_113">113</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;D(w′,&nbsp;z′,&nbsp;ϵ′,&nbsp;σ(w′,&nbsp;z′,&nbsp;ϵ′),&nbsp;g)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from8_114">114</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;out&nbsp;+=&nbsp;D(i′,&nbsp;j′,&nbsp;k′,&nbsp;σ[i′,&nbsp;j′,&nbsp;k′],&nbsp;g,&nbsp;model)&nbsp;*&nbsp;</td><td class="diff_next"></td><td class="diff_header" id="to8_111">111</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;out&nbsp;+=&nbsp;D(i′,&nbsp;j′,&nbsp;k′,&nbsp;σ[i′,&nbsp;j′,&nbsp;k′],&nbsp;g,&nbsp;model)&nbsp;*&nbsp;</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from8_115">115</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Q[j,&nbsp;j′]&nbsp;*&nbsp;ϕ[k′]</td><td class="diff_next"></td><td class="diff_header" id="to8_112">112</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Q[j,&nbsp;j′]&nbsp;*&nbsp;ϕ[k′]</td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to8__18"></td><td class="diff_header" id="from8_124">124</td><td nowrap="nowrap">"Modified&nbsp;optimistic&nbsp;policy&nbsp;iteration&nbsp;routine."</td><td class="diff_next"></td><td class="diff_header" id="to8_121">121</td><td nowrap="nowrap">"Modified&nbsp;optimistic&nbsp;policy&nbsp;iteration&nbsp;routine."</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from8_125">125</td><td nowrap="nowrap">function&nbsp;mod_opi(model;&nbsp;tolerance=1e-5,&nbsp;m=100)</td><td class="diff_next"></td><td class="diff_header" id="to8_122">122</td><td nowrap="nowrap">function&nbsp;mod_opi(model;&nbsp;tolerance=1e-5,&nbsp;m=100)</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to8__19">n</a></td><td class="diff_header" id="from8_126">126</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;(;&nbsp;β,&nbsp;<span class="diff_sub">R,&nbsp;</span>γ,&nbsp;<span class="diff_chg">ϵ</span>_grid,&nbsp;ϕ,&nbsp;w_grid,&nbsp;<span class="diff_chg">z</span>_grid,&nbsp;Q)&nbsp;=&nbsp;model</td><td class="diff_next"><a href="#difflib_chg_to8__19">n</a></td><td class="diff_header" id="to8_123">123</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;(;&nbsp;β,&nbsp;γ,&nbsp;<span class="diff_chg">η</span>_grid,&nbsp;ϕ,&nbsp;w_grid,&nbsp;<span class="diff_chg">y</span>_grid,&nbsp;Q)&nbsp;=&nbsp;model</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from8_127">127</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;g&nbsp;=&nbsp;zeros(length(<span class="diff_chg">z</span>_grid),&nbsp;length(w_grid))</td><td class="diff_next"></td><td class="diff_header" id="to8_124">124</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;g&nbsp;=&nbsp;zeros(length(<span class="diff_chg">y</span>_grid),&nbsp;length(w_grid))</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from8_128">128</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;error&nbsp;=&nbsp;tolerance&nbsp;+&nbsp;1</td><td class="diff_next"></td><td class="diff_header" id="to8_125">125</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;error&nbsp;=&nbsp;tolerance&nbsp;+&nbsp;1</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from8_129">129</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;error&nbsp;&gt;&nbsp;tolerance</td><td class="diff_next"></td><td class="diff_header" id="to8_126">126</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;error&nbsp;&gt;&nbsp;tolerance</td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to8__19"></td><td class="diff_header" id="from8_140">140</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_137">137</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from8_141">141</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_138">138</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to8__20">n</a></td><td class="diff_header" id="from8_142">142</td><td nowrap="nowrap"><span class="diff_sub">#&nbsp;Plots</span></td><td class="diff_next"><a href="#difflib_chg_to8__20">n</a></td><td class="diff_header" id="to8_139">139</td><td nowrap="nowrap"><span class="diff_add">#&nbsp;==&nbsp;Simulations&nbsp;and&nbsp;inequality&nbsp;measures&nbsp;==&nbsp;#</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_140">140</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_141">141</td><td nowrap="nowrap"><span class="diff_add">function&nbsp;simulate_wealth(m)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_142">142</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_143">143</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;model&nbsp;=&nbsp;create_savings_model()</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_144">144</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;(;&nbsp;β,&nbsp;γ,&nbsp;η_grid,&nbsp;ϕ,&nbsp;w_grid,&nbsp;y_grid,&nbsp;Q)&nbsp;=&nbsp;model</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_145">145</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;σ_star&nbsp;=&nbsp;mod_opi(model)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_146">146</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_147">147</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Simulate&nbsp;labor&nbsp;income</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_148">148</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;mc&nbsp;=&nbsp;MarkovChain(Q)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_149">149</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;y_idx_series&nbsp;=&nbsp;simulate(mc,&nbsp;m)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_150">150</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_151">151</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;IID&nbsp;Markov&nbsp;chain&nbsp;with&nbsp;uniform&nbsp;draws</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_152">152</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;l&nbsp;=&nbsp;length(η_grid)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_153">153</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;mc&nbsp;=&nbsp;MarkovChain(ones(l,&nbsp;l)&nbsp;*&nbsp;(1/l))</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_154">154</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;η_idx_series&nbsp;=&nbsp;simulate(mc,&nbsp;m)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_155">155</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_156">156</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;w_idx_series&nbsp;=&nbsp;similar(y_idx_series)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_157">157</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;w_idx_series[1]&nbsp;=&nbsp;1</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_158">158</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;t&nbsp;in&nbsp;1:(m-1)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_159">159</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;i,&nbsp;j,&nbsp;k&nbsp;=&nbsp;w_idx_series[t],&nbsp;y_idx_series[t],&nbsp;η_idx_series[t]</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_160">160</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;w_idx_series[t+1]&nbsp;=&nbsp;σ_star[i,&nbsp;j,&nbsp;k]</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_161">161</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;end</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_162">162</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_163">163</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;w_series&nbsp;=&nbsp;w_grid[w_idx_series]</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_164">164</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;w_series</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_165">165</td><td nowrap="nowrap"><span class="diff_add">end</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_166">166</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_167">167</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_168">168</td><td nowrap="nowrap"><span class="diff_add">function&nbsp;lorenz(v)&nbsp;&nbsp;#&nbsp;assumed&nbsp;sorted&nbsp;vector</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_169">169</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;S&nbsp;=&nbsp;cumsum(v)&nbsp;&nbsp;#&nbsp;cumulative&nbsp;sums:&nbsp;[v[1],&nbsp;v[1]&nbsp;+&nbsp;v[2],&nbsp;...&nbsp;]</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_170">170</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;F&nbsp;=&nbsp;(1:length(v))&nbsp;/&nbsp;length(v)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_171">171</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;L&nbsp;=&nbsp;S&nbsp;./&nbsp;S[end]</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_172">172</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;(;&nbsp;F,&nbsp;L)&nbsp;#&nbsp;returns&nbsp;named&nbsp;tuple</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_173">173</td><td nowrap="nowrap"><span class="diff_add">end</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_174">174</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_175">175</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_176">176</td><td nowrap="nowrap"><span class="diff_add">gini(v)&nbsp;=&nbsp;(2&nbsp;*&nbsp;sum(i&nbsp;*&nbsp;y&nbsp;for&nbsp;(i,y)&nbsp;in&nbsp;enumerate(v))/sum(v)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_177">177</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;(length(v)&nbsp;+&nbsp;1))/length(v)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_178">178</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_179">179</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_180">180</td><td nowrap="nowrap"><span class="diff_add">#&nbsp;==&nbsp;Plots&nbsp;==&nbsp;#</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from8_143">143</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_181">181</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from8_144">144</td><td nowrap="nowrap">using&nbsp;PyPlot</td><td class="diff_next"></td><td class="diff_header" id="to8_182">182</td><td nowrap="nowrap">using&nbsp;PyPlot</td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to8__20"></td><td class="diff_header" id="from8_148">148</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_186">186</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from8_149">149</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_187">187</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to8__21">n</a></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"><a href="#difflib_chg_to8__21">n</a></td><td class="diff_header" id="to8_188">188</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from8_150">150</td><td nowrap="nowrap">function&nbsp;plot_contours(;&nbsp;savefig=false,&nbsp;</td><td class="diff_next"></td><td class="diff_header" id="to8_189">189</td><td nowrap="nowrap">function&nbsp;plot_contours(;&nbsp;savefig=false,&nbsp;</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from8_151">151</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;figname="../figures/modified_opt_savings_1.pdf")</td><td class="diff_next"></td><td class="diff_header" id="to8_190">190</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;figname="../figures/modified_opt_savings_1.pdf")</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to8__21"></td><td class="diff_header" id="from8_152">152</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_191">191</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from8_153">153</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;model&nbsp;=&nbsp;create_savings_model()</td><td class="diff_next"></td><td class="diff_header" id="to8_192">192</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;model&nbsp;=&nbsp;create_savings_model()</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to8__22">n</a></td><td class="diff_header" id="from8_154">154</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;(;&nbsp;β,&nbsp;<span class="diff_sub">R,&nbsp;</span>γ,&nbsp;<span class="diff_chg">ϵ</span>_grid,&nbsp;ϕ,&nbsp;w_grid,&nbsp;<span class="diff_chg">z</span>_grid,&nbsp;Q)&nbsp;=&nbsp;model</td><td class="diff_next"><a href="#difflib_chg_to8__22">n</a></td><td class="diff_header" id="to8_193">193</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;(;&nbsp;β,&nbsp;γ,&nbsp;<span class="diff_chg">η</span>_grid,&nbsp;ϕ,&nbsp;w_grid,&nbsp;<span class="diff_chg">y</span>_grid,&nbsp;Q)&nbsp;=&nbsp;model</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from8_155">155</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;σ_star&nbsp;=&nbsp;mod_opi(model)</span></td><td class="diff_next"></td><td class="diff_header" id="to8_194">194</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;σ_star&nbsp;=&nbsp;optimistic_policy_iteration(model)</span></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to8__22"></td><td class="diff_header" id="from8_156">156</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_195">195</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from8_157">157</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;fig,&nbsp;axes&nbsp;=&nbsp;plt.subplots(2,&nbsp;1,&nbsp;figsize=(10,&nbsp;8))</td><td class="diff_next"></td><td class="diff_header" id="to8_196">196</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;fig,&nbsp;axes&nbsp;=&nbsp;plt.subplots(2,&nbsp;1,&nbsp;figsize=(10,&nbsp;8))</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to8__23">n</a></td><td class="diff_header" id="from8_158">158</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;<span class="diff_chg">z</span>_idx,&nbsp;<span class="diff_chg">ϵ</span>_idx&nbsp;=&nbsp;eachindex(<span class="diff_chg">z</span>_grid),&nbsp;eachindex(<span class="diff_chg">ϵ</span>_grid)</td><td class="diff_next"><a href="#difflib_chg_to8__23">n</a></td><td class="diff_header" id="to8_197">197</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;<span class="diff_chg">y</span>_idx,&nbsp;<span class="diff_chg">η</span>_idx&nbsp;=&nbsp;eachindex(<span class="diff_chg">y</span>_grid),&nbsp;eachindex(<span class="diff_chg">η</span>_grid)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from8_159">159</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;H&nbsp;=&nbsp;zeros(length(<span class="diff_chg">z</span>_grid),&nbsp;length(<span class="diff_chg">ϵ</span>_grid))</td><td class="diff_next"></td><td class="diff_header" id="to8_198">198</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;H&nbsp;=&nbsp;zeros(length(<span class="diff_chg">y</span>_grid),&nbsp;length(<span class="diff_chg">η</span>_grid))</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from8_160">160</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_199">199</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from8_161">161</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;w_indices&nbsp;=&nbsp;(1,&nbsp;length(w_grid))</td><td class="diff_next"></td><td class="diff_header" id="to8_200">200</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;w_indices&nbsp;=&nbsp;(1,&nbsp;length(w_grid))</td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to8__23"></td><td class="diff_header" id="from8_163">163</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(ax,&nbsp;w_idx,&nbsp;title)&nbsp;in&nbsp;zip(axes,&nbsp;w_indices,&nbsp;titles)</td><td class="diff_next"></td><td class="diff_header" id="to8_202">202</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(ax,&nbsp;w_idx,&nbsp;title)&nbsp;in&nbsp;zip(axes,&nbsp;w_indices,&nbsp;titles)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from8_164">164</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_203">203</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to8__24">n</a></td><td class="diff_header" id="from8_165">165</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(i_<span class="diff_chg">z</span>,&nbsp;i_ϵ)&nbsp;in&nbsp;product(<span class="diff_chg">z</span>_idx,&nbsp;<span class="diff_chg">ϵ</span>_idx)</td><td class="diff_next"><a href="#difflib_chg_to8__24">n</a></td><td class="diff_header" id="to8_204">204</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(i_<span class="diff_chg">y</span>,&nbsp;i_ϵ)&nbsp;in&nbsp;product(<span class="diff_chg">y</span>_idx,&nbsp;<span class="diff_chg">η</span>_idx)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from8_166">166</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;w,&nbsp;<span class="diff_chg">z</span>,&nbsp;<span class="diff_chg">ϵ</span>&nbsp;=&nbsp;w_grid[w_idx],&nbsp;<span class="diff_chg">z</span>_grid[i_<span class="diff_chg">z</span>],&nbsp;<span class="diff_chg">ϵ</span>_grid[i_ϵ]</td><td class="diff_next"></td><td class="diff_header" id="to8_205">205</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;w,&nbsp;<span class="diff_chg">y</span>,&nbsp;<span class="diff_chg">η</span>&nbsp;=&nbsp;w_grid[w_idx],&nbsp;<span class="diff_chg">y</span>_grid[i_<span class="diff_chg">y</span>],&nbsp;<span class="diff_chg">η</span>_grid[i_ϵ]</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from8_167">167</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;H[i_<span class="diff_chg">z</span>,&nbsp;i_ϵ]&nbsp;=&nbsp;w_grid[σ_star[w_idx,&nbsp;i_<span class="diff_chg">z</span>,&nbsp;i_ϵ]]</td><td class="diff_next"></td><td class="diff_header" id="to8_206">206</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;H[i_<span class="diff_chg">y</span>,&nbsp;i_ϵ]&nbsp;=&nbsp;w_grid[σ_star[w_idx,&nbsp;i_<span class="diff_chg">y</span>,&nbsp;i_ϵ]]<span class="diff_add">&nbsp;/&nbsp;(w+y)</span></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to8__24"></td><td class="diff_header" id="from8_168">168</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</td><td class="diff_next"></td><td class="diff_header" id="to8_207">207</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from8_169">169</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_208">208</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to8__25">n</a></td><td class="diff_header" id="from8_170">170</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cs1&nbsp;=&nbsp;ax.contourf(<span class="diff_chg">z</span>_grid,&nbsp;<span class="diff_chg">ϵ</span>_grid,&nbsp;transpose(H),&nbsp;alpha=0.5)</td><td class="diff_next"><a href="#difflib_chg_to8__25">n</a></td><td class="diff_header" id="to8_209">209</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cs1&nbsp;=&nbsp;ax.contourf(<span class="diff_chg">y</span>_grid,&nbsp;<span class="diff_chg">η</span>_grid,&nbsp;transpose(H),&nbsp;alpha=0.5)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from8_171">171</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#ctr1&nbsp;=&nbsp;ax.contour(w_vals,&nbsp;z_vals,&nbsp;transpose(H),&nbsp;levels=[0.0])</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from8_172">172</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#plt.clabel(ctr1,&nbsp;inline=1,&nbsp;fontsize=13)</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from8_173">173</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;plt.colorbar(cs1,&nbsp;ax=ax)&nbsp;#,&nbsp;format="%.6f")</td><td class="diff_next"></td><td class="diff_header" id="to8_210">210</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;plt.colorbar(cs1,&nbsp;ax=ax)&nbsp;#,&nbsp;format="%.6f")</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to8__25"></td><td class="diff_header" id="from8_174">174</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_211">211</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from8_175">175</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ax.set_title(title,&nbsp;fontsize=fontsize)</td><td class="diff_next"></td><td class="diff_header" id="to8_212">212</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ax.set_title(title,&nbsp;fontsize=fontsize)</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to8__26">n</a></td><td class="diff_header" id="from8_176">176</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ax.set_xlabel(L"<span class="diff_chg">z</span>",&nbsp;fontsize=fontsize)</td><td class="diff_next"><a href="#difflib_chg_to8__26">n</a></td><td class="diff_header" id="to8_213">213</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ax.set_xlabel(L"<span class="diff_chg">y</span>",&nbsp;fontsize=fontsize)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from8_177">177</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ax.set_ylabel(L"\varepsilon",&nbsp;fontsize=fontsize)</td><td class="diff_next"></td><td class="diff_header" id="to8_214">214</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ax.set_ylabel(L"\varepsilon",&nbsp;fontsize=fontsize)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from8_178">178</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;end</td><td class="diff_next"></td><td class="diff_header" id="to8_215">215</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;end</td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to8__26"></td><td class="diff_header" id="from8_186">186</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_223">223</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from8_187">187</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_224">224</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to8__top">t</a></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"><a href="#difflib_chg_to8__top">t</a></td><td class="diff_header" id="to8_225">225</td><td nowrap="nowrap"><span class="diff_add">function&nbsp;plot_policies(;&nbsp;savefig=false,&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_226">226</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;figname="../figures/modified_opt_savings_2.pdf")</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_227">227</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_228">228</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;model&nbsp;=&nbsp;create_savings_model()</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_229">229</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;(;&nbsp;β,&nbsp;γ,&nbsp;η_grid,&nbsp;ϕ,&nbsp;w_grid,&nbsp;y_grid,&nbsp;Q)&nbsp;=&nbsp;model</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_230">230</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;σ_star&nbsp;=&nbsp;mod_opi(model)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_231">231</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;y_bar&nbsp;=&nbsp;floor(Int,&nbsp;length(y_grid)&nbsp;/&nbsp;2)&nbsp;&nbsp;#&nbsp;Index&nbsp;of&nbsp;mid-point&nbsp;of&nbsp;y_grid</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_232">232</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_233">233</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;fig,&nbsp;ax&nbsp;=&nbsp;plt.subplots(figsize=(9,&nbsp;5.2))</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_234">234</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;ax.plot(w_grid,&nbsp;w_grid,&nbsp;"k--",&nbsp;label=L"45")</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_235">235</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_236">236</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(i,&nbsp;η)&nbsp;in&nbsp;enumerate(η_grid)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_237">237</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;label&nbsp;=&nbsp;L"\sigma^*"&nbsp;*&nbsp;"&nbsp;at&nbsp;"&nbsp;*&nbsp;L"\eta&nbsp;=&nbsp;"&nbsp;*&nbsp;"$η"</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_238">238</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ax.plot(w_grid,&nbsp;w_grid[σ_star[:,&nbsp;y_bar,&nbsp;i]],&nbsp;label=label)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_239">239</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;end</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_240">240</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;ax.legend(fontsize=fontsize)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_241">241</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;plt.show()</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_242">242</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_243">243</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;plt.tight_layout()</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_244">244</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;savefig</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_245">245</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fig.savefig(figname)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_246">246</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;end</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_247">247</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;plt.show()</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_248">248</td><td nowrap="nowrap"><span class="diff_add">end</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_249">249</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_250">250</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_251">251</td><td nowrap="nowrap"><span class="diff_add">function&nbsp;plot_time_series(;&nbsp;m=2_000,</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_252">252</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;savefig=false,&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_253">253</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;figname="../figures/modified_opt_savings_ts.pdf")</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_254">254</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_255">255</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;w_series&nbsp;=&nbsp;simulate_wealth(m)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_256">256</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;fig,&nbsp;ax&nbsp;=&nbsp;plt.subplots(figsize=(9,&nbsp;5.2))</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_257">257</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;ax.plot(w_series,&nbsp;label=L"w_t")</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_258">258</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;ax.legend(fontsize=fontsize)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_259">259</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;ax.set_xlabel("time",&nbsp;fontsize=fontsize)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_260">260</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;plt.show()</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_261">261</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;savefig</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_262">262</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fig.savefig(figname)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_263">263</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;end</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_264">264</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_265">265</td><td nowrap="nowrap"><span class="diff_add">end</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_266">266</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_267">267</td><td nowrap="nowrap"><span class="diff_add">function&nbsp;plot_histogram(;&nbsp;m=1_000_000,</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_268">268</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;savefig=false,&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_269">269</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;figname="../figures/modified_opt_savings_hist.pdf")</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_270">270</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_271">271</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;w_series&nbsp;=&nbsp;simulate_wealth(m)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_272">272</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;g&nbsp;=&nbsp;round(gini(sort(w_series)),&nbsp;digits=2)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_273">273</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;fig,&nbsp;ax&nbsp;=&nbsp;plt.subplots(figsize=(9,&nbsp;5.2))</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_274">274</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;ax.hist(w_series,&nbsp;bins=40,&nbsp;density=true)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_275">275</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;ax.set_xlabel("wealth",&nbsp;fontsize=fontsize)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_276">276</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;ax.text(15,&nbsp;0.7,&nbsp;"Gini&nbsp;=&nbsp;$g",&nbsp;fontsize=fontsize)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_277">277</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;plt.show()</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_278">278</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;savefig</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_279">279</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fig.savefig(figname)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_280">280</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;end</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_281">281</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_282">282</td><td nowrap="nowrap"><span class="diff_add">end</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_283">283</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_284">284</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_285">285</td><td nowrap="nowrap"><span class="diff_add">function&nbsp;plot_lorenz(;&nbsp;m=1_000_000,</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_286">286</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;savefig=false,&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_287">287</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;figname="../figures/modified_opt_savings_lorenz.pdf")</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_288">288</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_289">289</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;w_series&nbsp;=&nbsp;simulate_wealth(m)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_290">290</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;(;&nbsp;F,&nbsp;L)&nbsp;=&nbsp;lorenz(sort(w_series))</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_291">291</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_292">292</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;fig,&nbsp;ax&nbsp;=&nbsp;plt.subplots(figsize=(9,&nbsp;5.2))</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_293">293</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;ax.plot(F,&nbsp;F,&nbsp;label="Lorenz&nbsp;curve,&nbsp;equality")</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_294">294</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;ax.plot(F,&nbsp;L,&nbsp;label="Lorenz&nbsp;curve,&nbsp;wealth&nbsp;distribution")</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_295">295</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;ax.legend()</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_296">296</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;plt.show()</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_297">297</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;savefig</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_298">298</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fig.savefig(figname)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_299">299</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;end</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_300">300</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to8_301">301</td><td nowrap="nowrap"><span class="diff_add">end</span></td></tr>
        </tbody>
    </table><h1>monopolist_adj_costs.py</h1>
<h2><span style="background-color:#ffeab8;"> is unchanged</span></h2>
<h2><span style="background-color:#fde74c;"> - Python file monopolist_adj_costs.py does not exist</span></h2>
<h1>newton.jl</h1>
<h2><span style="background-color:#ffeab8;"> is unchanged</span></h2>
<h2><span style="background-color:#fde74c;"> - Python file newton.py does not exist</span></h2>
<h1>newton_solow.jl</h1>
<h2><span style="background-color:#ffeab8;"> is unchanged</span></h2>
<h2><span style="background-color:#fde74c;"> - Python file newton_solow.py does not exist</span></h2>
<h1>optimality_illustration.jl</h1>
<h2><span style="background-color:#ff700a;"> is changed</span></h2>
<h2><span style="background-color:#fde74c;"> - Python file optimality_illustration.py does not exist</span></h2>

    <table class="diff" id="difflib_chg_to9__top"
           cellspacing="0" cellpadding="0" rules="groups" >
        <colgroup></colgroup> <colgroup></colgroup> <colgroup></colgroup>
        <colgroup></colgroup> <colgroup></colgroup> <colgroup></colgroup>
        <thead><tr><th class="diff_next"><br /></th><th colspan="2" class="diff_header">old public code</th><th class="diff_next"><br /></th><th colspan="2" class="diff_header">new private (jstac) code</th></tr></thead>
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to9__0"></td><td class="diff_header" id="from9_31">31</td><td nowrap="nowrap">end</td><td class="diff_next"></td><td class="diff_header" id="to9_31">31</td><td nowrap="nowrap">end</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from9_32">32</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to9_32">32</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to9__top">t</a></td><td class="diff_header" id="from9_33">33</td><td nowrap="nowrap">ax.plot(xgrid,&nbsp;xgrid,&nbsp;"k--",&nbsp;lw=1,&nbsp;alpha=0.7,&nbsp;label=L"45")</td><td class="diff_next"><a href="#difflib_chg_to9__top">t</a></td><td class="diff_header" id="to9_33">33</td><td nowrap="nowrap">ax.plot(xgrid,&nbsp;xgrid,&nbsp;"k--",&nbsp;lw=1,&nbsp;alpha=0.7,&nbsp;label=L"45<span class="diff_add">^{\circ}</span>")</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from9_34">34</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to9_34">34</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from9_35">35</td><td nowrap="nowrap">ax.plot(xgrid,&nbsp;T1,&nbsp;"k-",&nbsp;lw=1)</td><td class="diff_next"></td><td class="diff_header" id="to9_35">35</td><td nowrap="nowrap">ax.plot(xgrid,&nbsp;T1,&nbsp;"k-",&nbsp;lw=1)</td></tr>
        </tbody>
    </table><h1>parallel_in_julia.ipynb</h1>
<h2><span style="background-color:#ffeab8;"> is unchanged</span></h2>
<h2><span style="background-color:#fde74c;"> - Python file parallel_in_julia.ipynb does not exist</span></h2>
<h1>pd_ratio.jl</h1>
<h2><span style="background-color:#ffeab8;"> is unchanged</span></h2>
<h2><span style="background-color:#5b7c99;"> - Python file exists</span></h2>
<h1>plot_interest_rates.jl</h1>
<h2><span style="background-color:#ffeab8;"> is unchanged</span></h2>
<h2><span style="background-color:#fde74c;"> - Python file plot_interest_rates.py does not exist</span></h2>
<h1>power_series.jl</h1>
<h2><span style="background-color:#ffeab8;"> is unchanged</span></h2>
<h2><span style="background-color:#5b7c99;"> - Python file exists</span></h2>
<h1>quantile_function.jl</h1>
<h2><span style="background-color:#a6deae;">new</span></h2>
<h2><span style="background-color:#fde74c;"> - Python file quantile_function.py does not exist</span></h2>
<h1>quantile_js.jl</h1>
<h2><span style="background-color:#a6deae;">new</span></h2>
<h2><span style="background-color:#fde74c;"> - Python file quantile_js.py does not exist</span></h2>
<h1>random_walk.jl</h1>
<h2><span style="background-color:#ffeab8;"> is unchanged</span></h2>
<h2><span style="background-color:#fde74c;"> - Python file random_walk.py does not exist</span></h2>
<h1>risk_sensitive_js.jl</h1>
<h2><span style="background-color:#ffeab8;"> is unchanged</span></h2>
<h2><span style="background-color:#5b7c99;"> - Python file exists</span></h2>
<h1>rs_utility.jl</h1>
<h2><span style="background-color:#ffeab8;"> is unchanged</span></h2>
<h2><span style="background-color:#5b7c99;"> - Python file exists</span></h2>
<h1>solow_fp.jl</h1>
<h2><span style="background-color:#ffeab8;"> is unchanged</span></h2>
<h2><span style="background-color:#5b7c99;"> - Python file exists</span></h2>
<h1>solow_fp_adjust.jl</h1>
<h2><span style="background-color:#ffeab8;"> is unchanged</span></h2>
<h2><span style="background-color:#fde74c;"> - Python file solow_fp_adjust.py does not exist</span></h2>
<h1>stoch_dom_finite.jl</h1>
<h2><span style="background-color:#ffeab8;"> is unchanged</span></h2>
<h2><span style="background-color:#fde74c;"> - Python file stoch_dom_finite.py does not exist</span></h2>
<h1>s_approx.jl</h1>
<h2><span style="background-color:#ff700a;"> is changed</span></h2>
<h2><span style="background-color:#5b7c99;"> - Python file exists</span></h2>

    <table class="diff" id="difflib_chg_to10__top"
           cellspacing="0" cellpadding="0" rules="groups" >
        <colgroup></colgroup> <colgroup></colgroup> <colgroup></colgroup>
        <colgroup></colgroup> <colgroup></colgroup> <colgroup></colgroup>
        <thead><tr><th class="diff_next"><br /></th><th colspan="2" class="diff_header">old public code</th><th class="diff_next"><br /></th><th colspan="2" class="diff_header">new private (jstac) code</th></tr></thead>
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to10__0"><a href="#difflib_chg_to10__0">f</a></td><td class="diff_header" id="from10_1">1</td><td nowrap="nowrap">"""</td><td class="diff_next"><a href="#difflib_chg_to10__0">f</a></td><td class="diff_header" id="to10_1">1</td><td nowrap="nowrap">"""</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to10__1">n</a></td><td class="diff_header" id="from10_2">2</td><td nowrap="nowrap"><span class="diff_sub">Computes&nbsp;the&nbsp;approximate&nbsp;fixed&nbsp;point&nbsp;of&nbsp;T&nbsp;via&nbsp;successive&nbsp;approximation.</span></td><td class="diff_next"><a href="#difflib_chg_to10__1">n</a></td><td class="diff_header" id="to10_2">2</td><td nowrap="nowrap"><span class="diff_add">Computes&nbsp;an&nbsp;approximate&nbsp;fixed&nbsp;point&nbsp;of&nbsp;a&nbsp;given&nbsp;operator&nbsp;T&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to10_3">3</td><td nowrap="nowrap"><span class="diff_add">via&nbsp;successive&nbsp;approximation.</span></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to10__1"></td><td class="diff_header" id="from10_3">3</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to10_4">4</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from10_4">4</td><td nowrap="nowrap">"""</td><td class="diff_next"></td><td class="diff_header" id="to10_5">5</td><td nowrap="nowrap">"""</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to10__2">n</a></td><td class="diff_header" id="from10_5">5</td><td nowrap="nowrap">function&nbsp;successive_approx(T,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="diff_sub">&nbsp;&nbsp;&nbsp;</span>#&nbsp;<span class="diff_chg">O</span>perator&nbsp;(callable)</td><td class="diff_next"><a href="#difflib_chg_to10__2">n</a></td><td class="diff_header" id="to10_6">6</td><td nowrap="nowrap">function&nbsp;successive_approx(T,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;<span class="diff_chg">o</span>perator&nbsp;(callable)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from10_6">6</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;u_0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="diff_sub">&nbsp;&nbsp;&nbsp;</span>#&nbsp;<span class="diff_chg">I</span>nitial&nbsp;condition</td><td class="diff_next"></td><td class="diff_header" id="to10_7">7</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;u_0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;<span class="diff_chg">i</span>nitial&nbsp;condition</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from10_7">7</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tolerance=1e-6,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="diff_sub">&nbsp;&nbsp;&nbsp;</span>#&nbsp;<span class="diff_chg">E</span>rror&nbsp;tolerance</td><td class="diff_next"></td><td class="diff_header" id="to10_8">8</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tolerance=1e-6,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;<span class="diff_chg">e</span>rror&nbsp;tolerance</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from10_8">8</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;max_iter=10_000,&nbsp;&nbsp;&nbsp;&nbsp;<span class="diff_sub">&nbsp;&nbsp;&nbsp;</span>#&nbsp;<span class="diff_chg">M</span>ax&nbsp;iteration&nbsp;bound</td><td class="diff_next"></td><td class="diff_header" id="to10_9">9</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;max_iter=10_000,&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;<span class="diff_chg">m</span>ax&nbsp;iteration&nbsp;bound</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from10_9">9</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print_step=25)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="diff_sub">&nbsp;&nbsp;&nbsp;</span>#&nbsp;<span class="diff_chg">P</span>rint&nbsp;at&nbsp;multiples</td><td class="diff_next"></td><td class="diff_header" id="to10_10">10</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print_step=25)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;<span class="diff_chg">p</span>rint&nbsp;at&nbsp;multiples</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from10_10">10</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;u&nbsp;=&nbsp;u_0</td><td class="diff_next"></td><td class="diff_header" id="to10_11">11</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;u&nbsp;=&nbsp;u_0</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from10_11">11</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;error&nbsp;=&nbsp;Inf</td><td class="diff_next"></td><td class="diff_header" id="to10_12">12</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;error&nbsp;=&nbsp;Inf</td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to10__2"></td><td class="diff_header" id="from10_13">13</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to10_14">14</td><td nowrap="nowrap"></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from10_14">14</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;(error&nbsp;&gt;&nbsp;tolerance)&nbsp;&amp;&nbsp;(k&nbsp;&lt;=&nbsp;max_iter)</td><td class="diff_next"></td><td class="diff_header" id="to10_15">15</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;(error&nbsp;&gt;&nbsp;tolerance)&nbsp;&amp;&nbsp;(k&nbsp;&lt;=&nbsp;max_iter)</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to10__3">n</a></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"><a href="#difflib_chg_to10__3">n</a></td><td class="diff_header" id="to10_16">16</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>
            <tr><td class="diff_next" id="difflib_chg_to10__3"></td><td class="diff_header" id="from10_15">15</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;u_new&nbsp;=&nbsp;T(u)</td><td class="diff_next"></td><td class="diff_header" id="to10_17">17</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;u_new&nbsp;=&nbsp;T(u)</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from10_16">16</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;error&nbsp;=&nbsp;maximum(abs.(u_new&nbsp;-&nbsp;u))</td><td class="diff_next"></td><td class="diff_header" id="to10_18">18</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;error&nbsp;=&nbsp;maximum(abs.(u_new&nbsp;-&nbsp;u))</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to10__4">n</a></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"><a href="#difflib_chg_to10__4">n</a></td><td class="diff_header" id="to10_19">19</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from10_17">17</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;k&nbsp;%&nbsp;print_step&nbsp;==&nbsp;0</td><td class="diff_next"></td><td class="diff_header" id="to10_20">20</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;k&nbsp;%&nbsp;print_step&nbsp;==&nbsp;0</td></tr>
            <tr><td class="diff_next" id="difflib_chg_to10__4"></td><td class="diff_header" id="from10_18">18</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;println("Completed&nbsp;iteration&nbsp;$k&nbsp;with&nbsp;error&nbsp;$error.")</td><td class="diff_next"></td><td class="diff_header" id="to10_21">21</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;println("Completed&nbsp;iteration&nbsp;$k&nbsp;with&nbsp;error&nbsp;$error.")</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from10_19">19</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</td><td class="diff_next"></td><td class="diff_header" id="to10_22">22</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to10__5">n</a></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"><a href="#difflib_chg_to10__5">n</a></td><td class="diff_header" id="to10_23">23</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from10_20">20</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;u&nbsp;=&nbsp;u_new</td><td class="diff_next"></td><td class="diff_header" id="to10_24">24</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;u&nbsp;=&nbsp;u_new</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from10_21">21</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;k&nbsp;+=&nbsp;1</td><td class="diff_next"></td><td class="diff_header" id="to10_25">25</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;k&nbsp;+=&nbsp;1</td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to10__5"></td><td class="diff_header" id="from10_25">25</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;println("Terminated&nbsp;successfully&nbsp;in&nbsp;$k&nbsp;iterations.")</td><td class="diff_next"></td><td class="diff_header" id="to10_29">29</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;println("Terminated&nbsp;successfully&nbsp;in&nbsp;$k&nbsp;iterations.")</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from10_26">26</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;else</td><td class="diff_next"></td><td class="diff_header" id="to10_30">30</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;else</td></tr>
            <tr><td class="diff_next"><a href="#difflib_chg_to10__top">t</a></td><td class="diff_header" id="from10_27">27</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;println("Termination&nbsp;Warning:&nbsp;Error&nbsp;is&nbsp;greater&nbsp;than&nbsp;tolerance.")</span></td><td class="diff_next"><a href="#difflib_chg_to10__top">t</a></td><td class="diff_header" id="to10_31">31</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;println("Warning:&nbsp;hit&nbsp;iteration&nbsp;bound.")</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from10_28">28</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;end</td><td class="diff_next"></td><td class="diff_header" id="to10_32">32</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;end</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from10_29">29</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to10_33">33</td><td nowrap="nowrap"></td></tr>
        </tbody>
    </table><h1>tauchen.jl</h1>
<h2><span style="background-color:#ffeab8;"> is unchanged</span></h2>
<h2><span style="background-color:#fde74c;"> - Python file tauchen.py does not exist</span></h2>
<h1>three_fixed_points.jl</h1>
<h2><span style="background-color:#a6deae;">new</span></h2>
<h2><span style="background-color:#fde74c;"> - Python file three_fixed_points.py does not exist</span></h2>
<h1>two_period_job_search.jl</h1>
<h2><span style="background-color:#ffeab8;"> is unchanged</span></h2>
<h2><span style="background-color:#5b7c99;"> - Python file exists</span></h2>
<h1>up_down_stable.jl</h1>
<h2><span style="background-color:#a6deae;">new</span></h2>
<h2><span style="background-color:#fde74c;"> - Python file up_down_stable.py does not exist</span></h2>
<h1>val_consumption.jl</h1>
<h2><span style="background-color:#ffeab8;"> is unchanged</span></h2>
<h2><span style="background-color:#fde74c;"> - Python file val_consumption.py does not exist</span></h2>
<h1>v_star_illus.jl</h1>
<h2><span style="background-color:#ffeab8;"> is unchanged</span></h2>
<h2><span style="background-color:#fde74c;"> - Python file v_star_illus.py does not exist</span></h2>
</body>
</html>
